var FN=Object.defineProperty,VN=Object.defineProperties;var jN=Object.getOwnPropertyDescriptors;var JI=Object.getOwnPropertySymbols;var UN=Object.prototype.hasOwnProperty,BN=Object.prototype.propertyIsEnumerable;var XI=(n,e,t)=>e in n?FN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})UN.call(e,t)&&XI(n,t,e[t]);if(JI)for(var t of JI(e))BN.call(e,t)&&XI(n,t,e[t]);return n},Ee=(n,e)=>VN(n,jN(e));var qf;function Du(){return qf}function fn(n){let e=qf;return qf=n,e}var ew=Symbol("NotFound");function no(n){return n===ew||n?.name==="\u0275NotFound"}function Gf(n,e){return Object.is(n,e)}var at=null,bu=!1,Wf=1,$N=null,wt=Symbol("SIGNAL");function ee(n){let e=at;return at=n,e}function Su(){return at}var Js={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xs(n){if(bu)throw new Error("");if(at===null)return;at.consumerOnSignalRead(n);let e=at.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=at.recomputing;if(r&&(t=e!==void 0?e.nextProducer:at.producers,t!==void 0&&t.producer===n)){at.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===at&&(!r||zN(i,at)))return;let o=ro(at),s={producer:n,consumer:at,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};at.producersTail=s,e!==void 0?e.nextProducer=s:at.producers=s,o&&iw(n,s)}function tw(){Wf++}function Kf(n){if(!(ro(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Wf)){if(!n.producerMustRecompute(n)&&!ta(n)){Cu(n);return}n.producerRecomputeValue(n),Cu(n)}}function Qf(n){if(n.consumers===void 0)return;let e=bu;bu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||HN(r)}}finally{bu=e}}function Yf(){return at?.consumerAllowSignalWrites!==!1}function HN(n){n.dirty=!0,Qf(n),n.consumerMarkedDirty?.(n)}function Cu(n){n.dirty=!1,n.lastCleanEpoch=Wf}function ea(n){return n&&nw(n),ee(n)}function nw(n){n.producersTail=void 0,n.recomputing=!0}function Au(n,e){ee(e),n&&rw(n)}function rw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(ro(n))do t=Zf(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function ta(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Kf(t),r!==t.version))return!0}return!1}function na(n){if(ro(n)){let e=n.producers;for(;e!==void 0;)e=Zf(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function iw(n,e){let t=n.consumersTail,r=ro(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)iw(i.producer,i)}function Zf(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ro(e)){let o=e.producers;for(;o!==void 0;)o=Zf(o)}return t}function ro(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Jf(n){$N?.(n)}function zN(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function qN(){throw new Error}var ow=qN;function sw(n){ow(n)}function Xf(n){ow=n}var GN=null;function ep(n,e){let t=Object.create(Ru);t.value=n,e!==void 0&&(t.equal=e);let r=()=>aw(t);return r[wt]=t,Jf(t),[r,s=>io(t,s),s=>tp(t,s)]}function aw(n){return Xs(n),n.value}function io(n,e){Yf()||sw(n),n.equal(n.value,e)||(n.value=e,WN(n))}function tp(n,e){Yf()||sw(n),io(n,e(n.value))}var Ru=Ee(L({},Js),{equal:Gf,value:void 0,kind:"signal"});function WN(n){n.version++,tw(),Qf(n),GN?.(n)}function G(n){return typeof n=="function"}function oo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Nu=oo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Jr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Re=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){e=o instanceof Nu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cw(o)}catch(s){e=e??[],s instanceof Nu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Nu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Jr(t,e)}remove(e){let{_finalizers:t}=this;t&&Jr(t,e),e instanceof n&&e._removeParent(this)}};Re.EMPTY=(()=>{let n=new Re;return n.closed=!0,n})();var np=Re.EMPTY;function Mu(n){return n instanceof Re||n&&"closed"in n&&G(n.remove)&&G(n.add)&&G(n.unsubscribe)}function cw(n){G(n)?n():n.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var so={setTimeout(n,e,...t){let{delegate:r}=so;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=so;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Pu(n){so.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(n);else throw n})}function ra(){}var uw=rp("C",void 0,void 0);function lw(n){return rp("E",void 0,n)}function dw(n){return rp("N",n,void 0)}function rp(n,e,t){return{kind:n,value:e,error:t}}var Xr=null;function ao(n){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Xr;if(Xr=null,t)throw r}}else n()}function hw(n){Zt.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=n)}var ei=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mu(e)&&e.add(this)):this.destination=YN}static create(e,t,r){return new co(e,t,r)}next(e){this.isStopped?op(dw(e),this):this._next(e)}error(e){this.isStopped?op(lw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?op(uw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KN=Function.prototype.bind;function ip(n,e){return KN.call(n,e)}var sp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xu(r)}else xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xu(t)}}},co=class extends ei{constructor(e,t,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ip(e.next,o),error:e.error&&ip(e.error,o),complete:e.complete&&ip(e.complete,o)}):i=e}this.destination=new sp(i)}};function xu(n){Zt.useDeprecatedSynchronousErrorHandling?hw(n):Pu(n)}function QN(n){throw n}function op(n,e){let{onStoppedNotification:t}=Zt;t&&so.setTimeout(()=>t(n,e))}var YN={closed:!0,next:ra,error:QN,complete:ra};var uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xt(n){return n}function ku(...n){return ap(n)}function ap(n){return n.length===0?xt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var X=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=JN(t)?t:new co(t,r,i);return ao(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=fw(r),new r((i,o)=>{let s=new co({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[uo](){return this}pipe(...t){return ap(t)(this)}toPromise(t){return t=fw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function fw(n){var e;return(e=n??Zt.Promise)!==null&&e!==void 0?e:Promise}function ZN(n){return n&&G(n.next)&&G(n.error)&&G(n.complete)}function JN(n){return n&&n instanceof ei||ZN(n)&&Mu(n)}function cp(n){return G(n?.lift)}function ae(n){return e=>{if(cp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(n,e,t,r,i){return new up(n,e,t,r,i)}var up=class extends ei{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function lo(){return ae((n,e)=>{let t=null;n._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ho=class extends X{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,cp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let t=this.getSubject();e.add(this.source.subscribe(ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return lo()(this)}};var pw=oo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class n extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ou(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pw}next(t){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?np:(this.currentObservers=null,o.push(t),new Re(()=>{this.currentObservers=null,Jr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new X;return t.source=this,t}}return n.create=(e,t)=>new Ou(e,t),n})(),Ou=class extends Xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:np}};var et=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var lp={now(){return(lp.delegate||Date).now()},delegate:void 0};var Lu=class extends Re{constructor(e,t){super()}schedule(e,t=0){return this}};var ia={setInterval(n,e,...t){let{delegate:r}=ia;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ia;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var fo=class extends Lu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ia.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ia.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Jr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};po.now=lp.now;var go=class extends po{constructor(e,t=po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var dp=new go(fo);var Fu=class extends fo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Vu=class extends go{};var hp=new Vu(Fu);var Tt=new X(n=>n.complete());function gw(n){return n&&G(n.schedule)}function mw(n){return n[n.length-1]}function yw(n){return G(mw(n))?n.pop():void 0}function ur(n){return gw(mw(n))?n.pop():void 0}function fp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _w(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function vw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(n){return this instanceof ti?(this.v=n,this):new ti(n)}function Ew(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function c(v,S){r[v]&&(i[v]=function(R){return new Promise(function(A,F){o.push([v,R,A,F])>1||u(v,R)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(R){m(o[0][3],R)}}function l(v){v.value instanceof ti?Promise.resolve(v.value.v).then(f,p):m(o[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Iw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vw=="function"?vw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var ju=n=>n&&typeof n.length=="number"&&typeof n!="function";function Uu(n){return G(n?.then)}function Bu(n){return G(n[uo])}function $u(n){return Symbol.asyncIterator&&G(n?.[Symbol.asyncIterator])}function Hu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zu=XN();function qu(n){return G(n?.[zu])}function Gu(n){return Ew(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ti(t.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{t.releaseLock()}})}function Wu(n){return G(n?.getReader)}function ze(n){if(n instanceof X)return n;if(n!=null){if(Bu(n))return eM(n);if(ju(n))return tM(n);if(Uu(n))return nM(n);if($u(n))return ww(n);if(qu(n))return rM(n);if(Wu(n))return iM(n)}throw Hu(n)}function eM(n){return new X(e=>{let t=n[uo]();if(G(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tM(n){return new X(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function nM(n){return new X(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Pu)})}function rM(n){return new X(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ww(n){return new X(e=>{oM(n,e).catch(t=>e.error(t))})}function iM(n){return ww(Gu(n))}function oM(n,e){var t,r,i,o;return _w(this,void 0,void 0,function*(){try{for(t=Iw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Dt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function lr(n,e=0){return ae((t,r)=>{t.subscribe(ce(r,i=>Dt(r,n,()=>r.next(i),e),()=>Dt(r,n,()=>r.complete(),e),i=>Dt(r,n,()=>r.error(i),e)))})}function dr(n,e=0){return ae((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Tw(n,e){return ze(n).pipe(dr(e),lr(e))}function Dw(n,e){return ze(n).pipe(dr(e),lr(e))}function bw(n,e){return new X(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Cw(n,e){return new X(t=>{let r;return Dt(t,e,()=>{r=n[zu](),Dt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function Ku(n,e){if(!n)throw new Error("Iterable cannot be null");return new X(t=>{Dt(t,e,()=>{let r=n[Symbol.asyncIterator]();Dt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Sw(n,e){return Ku(Gu(n),e)}function Aw(n,e){if(n!=null){if(Bu(n))return Tw(n,e);if(ju(n))return bw(n,e);if(Uu(n))return Dw(n,e);if($u(n))return Ku(n,e);if(qu(n))return Cw(n,e);if(Wu(n))return Sw(n,e)}throw Hu(n)}function xe(n,e){return e?Aw(n,e):ze(n)}function H(...n){let e=ur(n);return xe(n,e)}function mo(n,e){let t=G(n)?n:()=>n,r=i=>i.error(t());return new X(e?i=>e.schedule(r,0,i):r)}function pp(n){return!!n&&(n instanceof X||G(n.lift)&&G(n.subscribe))}var On=oo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,e){return ae((t,r)=>{let i=0;t.subscribe(ce(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:sM}=Array;function aM(n,e){return sM(e)?n(...e):n(e)}function Rw(n){return te(e=>aM(n,e))}var{isArray:cM}=Array,{getPrototypeOf:uM,prototype:lM,keys:dM}=Object;function Nw(n){if(n.length===1){let e=n[0];if(cM(e))return{args:e,keys:null};if(hM(e)){let t=dM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function hM(n){return n&&typeof n=="object"&&uM(n)===lM}function Mw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Qu(...n){let e=ur(n),t=yw(n),{args:r,keys:i}=Nw(n);if(r.length===0)return xe([],e);let o=new X(fM(r,e,i?s=>Mw(i,s):xt));return t?o.pipe(Rw(t)):o}function fM(n,e,t=xt){return r=>{Pw(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)Pw(e,()=>{let l=xe(n[u],e),f=!1;l.subscribe(ce(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Pw(n,e,t){n?Dt(t,n,e):e()}function xw(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=R=>l<r?S(R):u.push(R),S=R=>{o&&e.next(R),l++;let A=!1;ze(t(R,f++)).subscribe(ce(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let F=u.shift();s?Dt(e,s,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ce(e,v,()=>{p=!0,m()})),()=>{c?.()}}function Ue(n,e,t=1/0){return G(e)?Ue((r,i)=>te((o,s)=>e(r,o,i,s))(ze(n(r,i))),t):(typeof e=="number"&&(t=e),ae((r,i)=>xw(r,i,n,t)))}function kw(n=1/0){return Ue(xt,n)}function Ow(){return kw(1)}function yo(...n){return Ow()(xe(n,ur(n)))}function oa(n){return new X(e=>{ze(n()).subscribe(e)})}function kt(n,e){return ae((t,r)=>{let i=0;t.subscribe(ce(r,o=>n.call(e,o,i++)&&r.next(o)))})}function hr(n){return ae((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ce(t,void 0,void 0,s=>{o=ze(n(s,hr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Lw(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(ce(s,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function vo(n,e){return G(e)?Ue(n,e,1):Ue(n,1)}function fr(n){return ae((e,t)=>{let r=!1;e.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ln(n){return n<=0?()=>Tt:ae((e,t)=>{let r=0;e.subscribe(ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Yu(n=pM){return ae((e,t)=>{let r=!1;e.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pM(){return new On}function sa(n){return ae((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Fn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):xt,Ln(1),t?fr(e):Yu(()=>new On))}function _o(n){return n<=0?()=>Tt:ae((e,t)=>{let r=[];e.subscribe(ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function gp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):xt,_o(1),t?fr(e):Yu(()=>new On))}function Zu(n,e){return ae(Lw(n,e,arguments.length>=2,!0))}function Ju(...n){let e=ur(n);return ae((t,r)=>{(e?yo(n,t,e):yo(n,t)).subscribe(r)})}function bt(n,e){return ae((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,f=o++;ze(n(u,f)).subscribe(i=ce(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Xu(n){return ae((e,t)=>{ze(n).subscribe(ce(t,()=>t.complete(),ra)),!t.closed&&e.subscribe(t)})}function qe(n,e,t){let r=G(n)||e||t?{next:n,error:e,complete:t}:n;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):xt}function Fw(n){let e=ee(null);try{return n()}finally{ee(e)}}var Io=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Ap=new Io("20.3.1");var il="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(ol(e,t)),this.code=e}};function gM(n){return`NG0${Math.abs(n)}`}function ol(n,e){return`${gM(n)}${e?": "+e:""}`}function me(n){for(let e in n)if(n[e]===me)return e;throw Error("")}function pr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(pr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function sl(n,e){return n?e?`${n} ${e}`:n:e||""}var mM=me({__forward_ref__:me});function al(n){return n.__forward_ref__=al,n.toString=function(){return pr(this())},n}function Ct(n){return Rp(n)?n():n}function Rp(n){return typeof n=="function"&&n.hasOwnProperty(mM)&&n.__forward_ref__===al}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wo(n){return{providers:n.providers||[],imports:n.imports||[]}}function la(n){return yM(n,cl)}function Np(n){return la(n)!==null}function yM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function vM(n){let e=n?.[cl]??null;return e||null}function yp(n){return n&&n.hasOwnProperty(tl)?n[tl]:null}var cl=me({\u0275prov:me}),tl=me({\u0275inj:me}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Mp(n){return n&&!!n.\u0275providers}var Pp=me({\u0275cmp:me}),xp=me({\u0275dir:me}),kp=me({\u0275pipe:me}),Op=me({\u0275mod:me}),ca=me({\u0275fac:me}),oi=me({__NG_ELEMENT_ID__:me}),jw=me({__NG_ENV_ID__:me});function si(n){return typeof n=="string"?n:n==null?"":String(n)}function Bw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():si(n)}var $w=me({ngErrorCode:me}),_M=me({ngErrorMessage:me}),EM=me({ngTokenPath:me});function Lp(n,e){return Hw("",-200,e)}function ul(n,e){throw new V(-201,!1)}function Hw(n,e,t){let r=new V(e,n);return r[$w]=e,r[_M]=n,t&&(r[EM]=t),r}function IM(n){return n[$w]}var vp;function zw(){return vp}function pt(n){let e=vp;return vp=n,e}function Fp(n,e,t){let r=la(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;ul(n,"Injector")}var wM={},ni=wM,_p="__NG_DI_FLAG__",Ep=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ri(t)||0;try{return this.injector.get(e,r&8?null:ni,r)}catch(i){if(no(i))return i;throw i}}};function TM(n,e=0){let t=Du();if(t===void 0)throw new V(-203,!1);if(t===null)return Fp(n,void 0,e);{let r=DM(e),i=t.retrieve(n,r);if(no(i)){if(r.optional)return null;throw i}return i}}function W(n,e=0){return(zw()||TM)(Ct(n),e)}function N(n,e){return W(n,ri(e))}function ri(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function DM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ip(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=bM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(W(i,o))}else e.push(W(r))}return e}function qw(n,e){return n[_p]=e,n.prototype[_p]=e,n}function bM(n){return n[_p]}function gr(n,e){let t=n.hasOwnProperty(ca);return t?n[ca]:null}function ll(n,e){n.forEach(t=>Array.isArray(t)?ll(t,e):e(t))}function Vp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function da(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Gw(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function Ww(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function dl(n,e,t){let r=To(n,e);return r>=0?n[r|1]=t:(r=~r,Ww(n,r,e,t)),r}function hl(n,e){let t=To(n,e);if(t>=0)return n[t|1]}function To(n,e){return CM(n,e,1)}function CM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ai={},St=[],Un=new j(""),jp=new j("",-1),Up=new j(""),ua=class{get(e,t=ni){if(t===ni){let i=Hw("",-201);throw i.name="\u0275NotFound",i}return t}};function Bp(n){return n[Op]||null}function yr(n){return n[Pp]||null}function $p(n){return n[xp]||null}function Kw(n){return n[kp]||null}function Ot(n){return{\u0275providers:n}}function Qw(n){return Ot([{provide:Un,multi:!0,useValue:n}])}function Yw(...n){return{\u0275providers:Hp(!0,n),\u0275fromNgModule:!0}}function Hp(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ll(e,s=>{let c=s;nl(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Zw(i,o),t}function Zw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];zp(i,o=>{e(o,r)})}}function nl(n,e,t,r){if(n=Ct(n),!n)return!1;let i=null,o=yp(n),s=!o&&yr(n);if(!o&&!s){let u=n.ngModule;if(o=yp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)nl(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{ll(o.imports,f=>{nl(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Zw(l,e)}if(!c){let l=gr(i)||(()=>new i);e({provide:i,useFactory:l,deps:St},i),e({provide:Up,useValue:i,multi:!0},i),e({provide:Un,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;zp(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function zp(n,e){for(let t of n)Mp(t)&&(t=t.\u0275providers),Array.isArray(t)?zp(t,e):e(t)}var SM=me({provide:String,useValue:me});function Jw(n){return n!==null&&typeof n=="object"&&SM in n}function AM(n){return!!(n&&n.useExisting)}function RM(n){return!!(n&&n.useFactory)}function rl(n){return typeof n=="function"}var ha=new j(""),el={},Uw={},mp;function fa(){return mp===void 0&&(mp=new ua),mp}var Be=class{},ii=class extends Be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Tp(e,s=>this.processProvider(s)),this.records.set(jp,Eo(void 0,this)),i.has("environment")&&this.records.set(Be,Eo(void 0,this));let o=this.records.get(ha);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Up,St,{self:!0}))}retrieve(e,t){let r=ri(t)||0;try{return this.get(e,ni,r)}catch(i){if(no(i))return i;throw i}}destroy(){aa(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return aa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){aa(this);let t=fn(this),r=pt(void 0),i;try{return e()}finally{fn(t),pt(r)}}get(e,t=ni,r){if(aa(this),e.hasOwnProperty(jw))return e[jw](this);let i=ri(r),o,s=fn(this),c=pt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=kM(e)&&la(e);f&&this.injectableDefInScope(f)?l=Eo(wp(e),el):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?fa():this.parent;return t=i&8&&t===ni?null:t,u.get(e,t)}catch(u){let l=IM(u);throw l===-200||l===-201?new V(l,null):u}finally{pt(c),fn(s)}}resolveInjectorInitializers(){let e=ee(null),t=fn(this),r=pt(void 0),i;try{let o=this.get(Un,St,{self:!0});for(let s of o)s()}finally{fn(t),pt(r),ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(pr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ct(e);let t=rl(e)?e:Ct(e&&e.provide),r=MM(e);if(!rl(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Eo(void 0,el,!0),i.factory=()=>Ip(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ee(null);try{if(t.value===Uw)throw Lp(pr(e));return t.value===el&&(t.value=Uw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&xM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function wp(n){let e=la(n),t=e!==null?e.factory:gr(n);if(t!==null)return t;if(n instanceof j)throw new V(204,!1);if(n instanceof Function)return NM(n);throw new V(204,!1)}function NM(n){if(n.length>0)throw new V(204,!1);let t=vM(n);return t!==null?()=>t.factory(n):()=>new n}function MM(n){if(Jw(n))return Eo(void 0,n.useValue);{let e=Xw(n);return Eo(e,el)}}function Xw(n,e,t){let r;if(rl(n)){let i=Ct(n);return gr(i)||wp(i)}else if(Jw(n))r=()=>Ct(n.useValue);else if(RM(n))r=()=>n.useFactory(...Ip(n.deps||[]));else if(AM(n))r=(i,o)=>W(Ct(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ct(n&&(n.useClass||n.provide));if(PM(n))r=()=>new i(...Ip(n.deps));else return gr(i)||wp(i)}return r}function aa(n){if(n.destroyed)throw new V(205,!1)}function Eo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function PM(n){return!!n.deps}function xM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function kM(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Tp(n,e){for(let t of n)Array.isArray(t)?Tp(t,e):t&&Mp(t)?Tp(t.\u0275providers,e):e(t)}function $e(n,e){let t;n instanceof ii?(aa(n),t=n):t=new Ep(n);let r,i=fn(t),o=pt(void 0);try{return e()}finally{fn(i),pt(o)}}function eT(){return zw()!==void 0||Du()!=null}var Jt=0,z=1,K=2,tt=3,Gt=4,gt=5,Do=6,fl=7,mt=8,pa=9,gn=10,ke=11,bo=12,qp=13,ci=14,At=15,ui=16,li=17,di=18,ga=19,Gp=20,Vn=21,pl=22,ma=23,Lt=24,gl=25,yt=26,Ne=27,tT=1;var vr=7,ya=8,va=9,vt=10;function mn(n){return Array.isArray(n)&&typeof n[tT]=="object"}function Xt(n){return Array.isArray(n)&&n[tT]===!0}function Wp(n){return(n.flags&4)!==0}function hi(n){return n.componentOffset>-1}function _a(n){return(n.flags&1)===1}function fi(n){return!!n.template}function Co(n){return(n[K]&512)!==0}function pi(n){return(n[K]&256)===256}var nT="svg",rT="math";function en(n){for(;Array.isArray(n);)n=n[Jt];return n}function Kp(n,e){return en(e[n])}function Bn(n,e){return en(e[n.index])}function Ea(n,e){return n.data[e]}function iT(n,e){return n[e]}function Qp(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function tn(n,e){let t=e[n];return mn(t)?t:t[Jt]}function ml(n){return(n[K]&128)===128}function oT(n){return Xt(n[tt])}function yn(n,e){return e==null?null:n[e]}function Yp(n){n[li]=0}function Zp(n){n[K]&1024||(n[K]|=1024,ml(n)&&wa(n))}function sT(n,e){for(;n>0;)e=e[ci],n--;return e}function Ia(n){return!!(n[K]&9216||n[Lt]?.dirty)}function yl(n){n[gn].changeDetectionScheduler?.notify(8),n[K]&64&&(n[K]|=1024),Ia(n)&&wa(n)}function wa(n){n[gn].changeDetectionScheduler?.notify(0);let e=mr(n);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!ml(e)));)e=mr(e)}function Jp(n,e){if(pi(n))throw new V(911,!1);n[Vn]===null&&(n[Vn]=[]),n[Vn].push(e)}function aT(n,e){if(n[Vn]===null)return;let t=n[Vn].indexOf(e);t!==-1&&n[Vn].splice(t,1)}function mr(n){let e=n[tt];return Xt(e)?e[tt]:e}var oe={lFrame:_T(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Dp=!1;function cT(){return oe.lFrame.elementDepthCount}function uT(){oe.lFrame.elementDepthCount++}function Xp(){oe.lFrame.elementDepthCount--}function vl(){return oe.bindingsEnabled}function eg(){return oe.skipHydrationRootTNode!==null}function tg(n){return oe.skipHydrationRootTNode===n}function ng(){oe.skipHydrationRootTNode=null}function de(){return oe.lFrame.lView}function Ft(){return oe.lFrame.tView}function Vt(){let n=rg();for(;n!==null&&n.type===64;)n=n.parent;return n}function rg(){return oe.lFrame.currentTNode}function lT(){let n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function So(n,e){let t=oe.lFrame;t.currentTNode=n,t.isParent=e}function ig(){return oe.lFrame.isParent}function og(){oe.lFrame.isParent=!1}function sg(){return Dp}function ag(n){let e=Dp;return Dp=n,e}function dT(){let n=oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function hT(){return oe.lFrame.bindingIndex}function fT(n){return oe.lFrame.bindingIndex=n}function Ao(){return oe.lFrame.bindingIndex++}function cg(n){let e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function pT(){return oe.lFrame.inI18n}function gT(n,e){let t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,_l(e)}function mT(){return oe.lFrame.currentDirectiveIndex}function _l(n){oe.lFrame.currentDirectiveIndex=n}function yT(n){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ug(n){oe.lFrame.currentQueryIndex=n}function OM(n){let e=n[z];return e.type===2?e.declTNode:e.type===1?n[gt]:null}function lg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=OM(o),i===null||(o=o[ci],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=oe.lFrame=vT();return r.currentTNode=e,r.lView=n,!0}function El(n){let e=vT(),t=n[z];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function vT(){let n=oe.lFrame,e=n===null?null:n.child;return e===null?_T(n):e}function _T(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ET(){let n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var dg=ET;function Il(){let n=ET();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IT(n){return(oe.lFrame.contextLView=sT(n,oe.lFrame.contextLView))[mt]}function _r(){return oe.lFrame.selectedIndex}function Er(n){oe.lFrame.selectedIndex=n}function hg(){let n=oe.lFrame;return Ea(n.tView,n.selectedIndex)}function wT(){return oe.lFrame.currentNamespace}var TT=!0;function wl(){return TT}function Ta(n){TT=n}function bp(n,e=null,t=null,r){let i=fg(n,e,t,r);return i.resolveInjectorInitializers(),i}function fg(n,e=null,t=null,r,i=new Set){let o=[t||St,Yw(n)];return r=r||(typeof n=="object"?void 0:pr(n)),new ii(o,e||fa(),r||null,i)}var Ge=class n{static THROW_IF_NOT_FOUND=ni;static NULL=new ua;static create(e,t){if(Array.isArray(e))return bp({name:""},t,e,"");{let r=e.name??"";return bp({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>W(jp)});static __NG_ELEMENT_ID__=-1},We=new j(""),Ir=(()=>{class n{static __NG_ELEMENT_ID__=LM;static __NG_ENV_ID__=t=>t}return n})(),Cp=class extends Ir{_lView;constructor(e){super(),this._lView=e}get destroyed(){return pi(this._lView)}onDestroy(e){let t=this._lView;return Jp(t,e),()=>aT(t,e)}};function LM(){return new Cp(de())}var pn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Rt=new j("",{providedIn:"root",factory:()=>{let n=N(Be),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(pn),e.handleError(t))}}}),DT={provide:Un,useValue:()=>void N(pn),multi:!0},FM=new j("",{providedIn:"root",factory:()=>{let n=N(We).defaultView;if(!n)return;let e=N(Rt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(Ir).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function pg(){return Ot([Qw(()=>void N(FM))])}function Ro(n,e){let[t,r,i]=ep(n,e?.equal),o=t,s=o[wt];return o.set=r,o.update=i,o.asReadonly=bT.bind(o),o}function bT(){let n=this[wt];if(n.readonlyFn===void 0){let e=()=>this();e[wt]=n,n.readonlyFn=e}return n.readonlyFn}var jn=class{},Da=new j("",{providedIn:"root",factory:()=>!1});var gg=new j(""),Tl=new j("");var vn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new et(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new X(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),No=(()=>{class n{internalPendingTasks=N(vn);scheduler=N(jn);errorHandler=N(Rt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})();function ba(...n){}var mg=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Sp})}return n})(),Sp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Lo(n){return{toString:n}.toString()}var Dl="__parameters__";function QM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function YM(n,e,t){return Lo(()=>{let r=QM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Dl)?u[Dl]:Object.defineProperty(u,Dl,{value:[]})[Dl];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var jt=qw(YM("Optional"),8);function ZM(n){return typeof n=="function"}var Rl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ZT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ql=(()=>{let n=()=>JT;return n.ngInherit=!0,n})();function JT(n){return n.type.prototype.ngOnChanges&&(n.setInput=XM),JM}function JM(){let n=eD(this),e=n?.current;if(e){let t=n.previous;if(t===ai)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function XM(n,e,t,r,i){let o=this.declaredInputs[r],s=eD(n)||eP(n,{previous:ai,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Rl(l&&l.currentValue,t,u===ai),ZT(n,e,i,t)}var XT="__ngSimpleChanges__";function eD(n){return n[XT]||null}function eP(n,e){return n[XT]=e}var CT=[];var be=function(n,e=null,t){for(let r=0;r<CT.length;r++){let i=CT[r];i(n,e,t)}};function tP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=JT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function tD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Cl(n,e,t){nD(n,e,3,t)}function Sl(n,e,t,r){(n[K]&3)===t&&nD(n,e,t,r)}function yg(n,e){let t=n[K];(t&3)===e&&(t&=16383,t+=1,n[K]=t)}function nD(n,e,t,r){let i=r!==void 0?n[li]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[li]+=65536),(c<o||o==-1)&&(nP(n,t,e,u),n[li]=(n[li]&4294901760)+u+2),u++}function ST(n,e){be(4,n,e);let t=ee(null);try{e.call(n)}finally{ee(t),be(5,n,e)}}function nP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[K]>>14<n[li]>>16&&(n[K]&3)===e&&(n[K]+=16384,ST(c,o)):ST(c,o)}var Po=-1,Aa=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function rP(n){return(n.flags&8)!==0}function iP(n){return(n.flags&16)!==0}function oP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];aP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function sP(n){return n===3||n===4||n===6}function aP(n){return n.charCodeAt(0)===64}function Gl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?AT(n,t,i,null,e[++r]):AT(n,t,i,null,null))}}return n}function AT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function rD(n){return n!==Po}function Nl(n){return n&32767}function cP(n){return n>>16}function Ml(n,e){let t=cP(n),r=e;for(;t>0;)r=r[ci],t--;return r}var Tg=!0;function Pl(n){let e=Tg;return Tg=n,e}var uP=256,iD=uP-1,oD=5,lP=0,_n={};function dP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(oi)&&(r=t[oi]),r==null&&(r=t[oi]=lP++);let i=r&iD,o=1<<i;e.data[n+(i>>oD)]|=o}function sD(n,e){let t=aD(n,e);if(t!==-1)return t;let r=e[z];r.firstCreatePass&&(n.injectorIndex=e.length,vg(r.data,n),vg(e,null),vg(r.blueprint,null));let i=Bg(n,e),o=n.injectorIndex;if(rD(i)){let s=Nl(i),c=Ml(i,e),u=c[z].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function vg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function aD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Bg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=hD(i),r===null)return Po;if(t++,i=i[ci],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Po}function hP(n,e,t){dP(n,e,t)}function cD(n,e,t){if(t&8||n!==void 0)return n;ul(e,"NodeInjector")}function uD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[pa],o=pt(void 0);try{return i?i.get(e,r,t&8):Fp(e,r,t&8)}finally{pt(o)}}return cD(r,e,t)}function lD(n,e,t,r=0,i){if(n!==null){if(e[K]&2048&&!(r&2)){let s=yP(n,e,t,r,_n);if(s!==_n)return s}let o=dD(n,e,t,r,_n);if(o!==_n)return o}return uD(e,t,r,i)}function dD(n,e,t,r,i){let o=gP(t);if(typeof o=="function"){if(!lg(e,n,r))return r&1?cD(i,t,r):uD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ul(t);else return s}finally{dg()}}else if(typeof o=="number"){let s=null,c=aD(n,e),u=Po,l=r&1?e[At][gt]:null;for((c===-1||r&4)&&(u=c===-1?Bg(n,e):e[c+8],u===Po||!NT(r,!1)?c=-1:(s=e[z],c=Nl(u),e=Ml(u,e)));c!==-1;){let f=e[z];if(RT(o,c,f.data)){let p=fP(c,e,t,s,r,l);if(p!==_n)return p}u=e[c+8],u!==Po&&NT(r,e[z].data[c+8]===l)&&RT(o,c,e)?(s=f,c=Nl(u),e=Ml(u,e)):c=-1}}return i}function fP(n,e,t,r,i,o){let s=e[z],c=s.data[n+8],u=r==null?hi(c)&&Tg:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=pP(c,s,t,u,l);return f!==null?Dg(e,s,f,c,i):_n}function pP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let v=p;v<m;v++){let S=s[v];if(v<u&&t===S||v>=u&&S.type===t)return v}if(i){let v=s[u];if(v&&fi(v)&&v.type===t)return u}return null}function Dg(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Aa){let c=o;if(c.resolving){let v=Bw(s[t]);throw Lp(v)}let u=Pl(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],f,p=c.injectImpl?pt(c.injectImpl):null,m=lg(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&tP(t,s[t],e)}finally{p!==null&&pt(p),Pl(u),c.resolving=!1,dg()}}return o}function gP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(oi)?n[oi]:void 0;return typeof e=="number"?e>=0?e&iD:mP:e}function RT(n,e,t){let r=1<<n;return!!(t[e+(n>>oD)]&r)}function NT(n,e){return!(n&2)&&!(n&1&&e)}var gi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return lD(this._tNode,this._lView,e,ri(r),t)}};function mP(){return new gi(Vt(),de())}function Wl(n){return Lo(()=>{let e=n.prototype.constructor,t=e[ca]||bg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ca]||bg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bg(n){return Rp(n)?()=>{let e=bg(Ct(n));return e&&e()}:gr(n)}function yP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!Co(s);){let c=dD(o,s,t,r|2,_n);if(c!==_n)return c;let u=o.parent;if(!u){let l=s[Gp];if(l){let f=l.get(t,_n,r);if(f!==_n)return f}u=hD(s),s=s[ci]}o=u}return i}function hD(n){let e=n[z],t=e.type;return t===2?e.declTNode:t===1?n[gt]:null}function vP(){return Kl(Vt(),de())}function Kl(n,e){return new Ql(Bn(n,e))}var Ql=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=vP}return n})();function fD(n){return(n.flags&128)===128}var $g=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})($g||{}),pD=new Map,_P=0;function EP(){return _P++}function IP(n){pD.set(n[ga],n)}function Cg(n){pD.delete(n[ga])}var MT="__ngContext__";function xo(n,e){mn(e)?(n[MT]=e[ga],IP(e)):n[MT]=e}function gD(n){return yD(n[bo])}function mD(n){return yD(n[Gt])}function yD(n){for(;n!==null&&!Xt(n);)n=n[Gt];return n}var Sg;function Hg(n){Sg=n}function vD(){if(Sg!==void 0)return Sg;if(typeof document<"u")return document;throw new V(210,!1)}var Yl=new j("",{providedIn:"root",factory:()=>wP}),wP="ng",Zl=new j(""),Tr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Jl=new j("",{providedIn:"root",factory:()=>vD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TP="h",DP="b";var _D=!1,ED=new j("",{providedIn:"root",factory:()=>_D});function Xl(n){return(n.flags&32)===32}var bP=()=>null;function ID(n,e,t=!1){return bP(n,e,t)}function wD(n,e){let t=n.contentQueries;if(t!==null){let r=ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];ug(o),c.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function Ag(n,e,t){ug(0);let r=ee(null);try{e(n,t)}finally{ee(r)}}function zg(n,e,t){if(Wp(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{ee(r)}}}var $n=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})($n||{});var xl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${il})`}};function qg(n){return n instanceof xl?n.changingThisBreaksApplicationSecurity:n}function TD(n,e){let t=DD(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${il})`)}return t===e}function DD(n){return n instanceof xl&&n.getTypeName()||null}var CP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bD(n){return n=String(n),n.match(CP)?n:"unsafe:"+n}var Gg=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Gg||{});function _i(n){let e=SP();return e?e.sanitize(Gg.URL,n)||"":TD(n,"URL")?qg(n):bD(si(n))}function SP(){let n=de();return n&&n[gn].sanitizer}var AP=/^>|^->|<!--|-->|--!>|<!-$/g,RP=/(<|>)/g,NP="\u200B$1\u200B";function MP(n){return n.replace(AP,e=>e.replace(RP,NP))}function CD(n){return n instanceof Function?n():n}function PP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var SD="ng-template";function xP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&PP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Wg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Wg(n){return n.type===4&&n.value!==SD}function kP(n,e,t){let r=n.type===4&&!t?SD:n.value;return e===r}function OP(n,e,t){let r=4,i=n.attrs,o=i!==null?VP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!nn(r)&&!nn(u))return!1;if(s&&nn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!kP(n,u,t)||u===""&&e.length===1){if(nn(r))return!1;s=!0}}else if(r&8){if(i===null||!xP(n,i,u,t)){if(nn(r))return!1;s=!0}}else{let l=e[++c],f=LP(u,i,Wg(n),t);if(f===-1){if(nn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(nn(r))return!1;s=!0}}}}return nn(r)||s}function nn(n){return(n&1)===0}function LP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return jP(e,n)}function AD(n,e,t=!1){for(let r=0;r<e.length;r++)if(OP(n,e[r],t))return!0;return!1}function FP(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function VP(n){for(let e=0;e<n.length;e++){let t=n[e];if(sP(t))return e}return n.length}function jP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function UP(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function PT(n,e){return n?":not("+e.trim()+")":e}function BP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!nn(s)&&(e+=PT(o,i),i=""),r=s,o=o||!nn(r);t++}return i!==""&&(e+=PT(o,i)),e}function $P(n){return n.map(BP).join(",")}function HP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!nn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Nt={};function zP(n,e){return n.createText(e)}function qP(n,e,t){n.setValue(e,t)}function GP(n,e){return n.createComment(MP(e))}function RD(n,e,t){return n.createElement(e,t)}function kl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ND(n,e,t){n.appendChild(e,t)}function xT(n,e,t,r,i){r!==null?kl(n,e,t,r,i):ND(n,e,t)}function WP(n,e,t){n.removeChild(null,e,t)}function KP(n,e,t){n.setAttribute(e,"style",t)}function QP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function MD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&oP(n,e,r),i!==null&&QP(n,e,i),o!==null&&KP(n,e,o)}function Kg(n,e,t,r,i,o,s,c,u,l,f){let p=Ne+r,m=p+i,v=YP(p,m),S=typeof l=="function"?l():l;return v[z]={type:n,blueprint:v,template:t,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function YP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Nt);return t}function ZP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Kg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Qg(n,e,t,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Jt]=i,p[K]=r|4|128|8|64|1024,(l!==null||n&&n[K]&2048)&&(p[K]|=2048),Yp(p),p[tt]=p[ci]=n,p[mt]=t,p[gn]=s||n&&n[gn],p[ke]=c||n&&n[ke],p[pa]=u||n&&n[pa]||null,p[gt]=o,p[ga]=EP(),p[Do]=f,p[Gp]=l,p[At]=e.type==2?n[At]:p,p}function JP(n,e,t){let r=Bn(e,n),i=ZP(t),o=n[gn].rendererFactory,s=Yg(n,Qg(n,i,null,PD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function PD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function xD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Yg(n,e){return n[bo]?n[qp][Gt]=e:n[bo]=e,n[qp]=e,e}function pe(n=1){kD(Ft(),de(),_r()+n,!1)}function kD(n,e,t,r){if(!r)if((e[K]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Cl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Sl(e,o,0,t)}Er(t)}var ed=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(ed||{});function Rg(n,e,t,r){let i=ee(null);try{let[o,s,c]=n.inputs[t],u=null;(s&ed.SignalBased)!==0&&(u=e[o][wt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):ZT(e,u,o,r)}finally{ee(i)}}var En=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(En||{}),XP;function Zg(n,e){return XP(n,e)}var td=new Set;function Mo(n,e,t,r,i,o){if(r!=null){let s,c=!1;Xt(r)?s=r:mn(r)&&(c=!0,r=r[Jt]);let u=en(r);n===0&&t!==null?i==null?ND(e,t,u):kl(e,t,u,i||null,!0):n===1&&t!==null?kl(e,t,u,i||null,!0):n===2?kT(o,()=>{WP(e,u,c)}):n===3&&kT(o,()=>{e.destroyNode(u)}),s!=null&&lx(e,n,s,t,i)}}function ex(n,e){OD(n,e),e[Jt]=null,e[gt]=null}function tx(n,e,t,r,i,o){r[Jt]=i,r[gt]=e,nd(n,r,t,1,i,o)}function OD(n,e){e[gn].changeDetectionScheduler?.notify(9),nd(n,e,e[ke],2,null,null)}function nx(n){let e=n[bo];if(!e)return _g(n[z],n);for(;e;){let t=null;if(mn(e))t=e[bo];else{let r=e[vt];r&&(t=r)}if(!t){for(;e&&!e[Gt]&&e!==n;)mn(e)&&_g(e[z],e),e=e[tt];e===null&&(e=n),mn(e)&&_g(e[z],e),t=e&&e[Gt]}e=t}}function Jg(n,e){let t=n[va],r=t.indexOf(e);t.splice(r,1)}function Xg(n,e){if(pi(e))return;let t=e[ke];t.destroyNode&&nd(n,e,t,3,null,null),nx(e)}function _g(n,e){if(pi(e))return;let t=ee(null);try{e[K]&=-129,e[K]|=256,e[Lt]&&na(e[Lt]),ox(n,e),ix(n,e),e[z].type===1&&e[ke].destroy();let r=e[ui];if(r!==null&&Xt(e[tt])){r!==e[tt]&&Jg(r,e);let i=e[di];i!==null&&i.detachView(n)}Cg(e)}finally{ee(t)}}function kT(n,e){if(n&&n[yt]&&n[yt].leave)if(n[yt].skipLeaveAnimations)n[yt].skipLeaveAnimations=!1;else{let t=n[yt].leave,r=[];for(let i=0;i<t.length;i++){let o=t[i];r.push(o())}n[yt].running=Promise.allSettled(r),n[yt].leave=void 0}rx(n,e)}function rx(n,e){if(n&&n[yt]&&n[yt].running){n[yt].running.then(()=>{n[yt]&&n[yt].running&&(n[yt].running=void 0),td.delete(n),e()});return}e()}function ix(n,e){let t=n.cleanup,r=e[fl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[fl]=null);let i=e[Vn];if(i!==null){e[Vn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[ma];if(o!==null){e[ma]=null;for(let s of o)s.destroy()}}function ox(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Aa)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];be(4,c,u);try{u.call(c)}finally{be(5,c,u)}}else{be(4,i,o);try{o.call(i)}finally{be(5,i,o)}}}}}function LD(n,e,t){return sx(n,e.parent,t)}function sx(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Jt];if(hi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===$n.None||i===$n.Emulated)return null}return Bn(r,t)}function FD(n,e,t){return cx(n,e,t)}function ax(n,e,t){return n.type&40?Bn(n,t):null}var cx=ax,OT;function em(n,e,t,r){let i=LD(n,r,e),o=e[ke],s=r.parent||e[gt],c=FD(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)xT(o,i,t[u],c,!1);else xT(o,i,t,c,!1);OT!==void 0&&OT(o,r,e,t,i)}function Ca(n,e){if(e!==null){let t=e.type;if(t&3)return Bn(e,n);if(t&4)return Ng(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ca(n,r);{let i=n[e.index];return Xt(i)?Ng(-1,i):en(i)}}else{if(t&128)return Ca(n,e.next);if(t&32)return Zg(e,n)()||en(n[e.index]);{let r=VD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=mr(n[At]);return Ca(i,r)}else return Ca(n,e.next)}}}return null}function VD(n,e){if(e!==null){let r=n[At][gt],i=e.projection;return r.projection[i]}return null}function Ng(n,e){let t=vt+n+1;if(t<e.length){let r=e[t],i=r[z].firstChild;if(i!==null)return Ca(r,i)}return e[vr]}function tm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&xo(en(c),r),t.flags|=2),!Xl(t))if(u&8)tm(n,e,t.child,r,i,o,!1),Mo(e,n,i,c,o,r);else if(u&32){let l=Zg(t,r),f;for(;f=l();)Mo(e,n,i,f,o,r);Mo(e,n,i,c,o,r)}else u&16?jD(n,e,r,t,i,o):Mo(e,n,i,c,o,r);t=s?t.projectionNext:t.next}}function nd(n,e,t,r,i,o){tm(t,r,n.firstChild,e,i,o,!1)}function ux(n,e,t){let r=e[ke],i=LD(n,t,e),o=t.parent||e[gt],s=FD(o,t,e);jD(r,0,e,t,i,s)}function jD(n,e,t,r,i,o){let s=t[At],u=s[gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Mo(e,n,i,f,o,t)}else{let l=u,f=s[tt];fD(r)&&(l.flags|=128),tm(n,e,l,f,i,o,!0)}}function lx(n,e,t,r,i){let o=t[vr],s=en(t);o!==s&&Mo(e,n,r,o,i);for(let c=vt;c<t.length;c++){let u=t[c];nd(u[z],u,n,e,r,o)}}function dx(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:En.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=En.Important),n.setStyle(t,r,i,o))}}function UD(n,e,t,r,i){let o=_r(),s=r&2;try{Er(-1),s&&e.length>Ne&&kD(n,e,Ne,!1),be(s?2:0,i,t),t(r,i)}finally{Er(o),be(s?3:1,i,t)}}function rd(n,e,t){vx(n,e,t),(t.flags&64)===64&&_x(n,e,t)}function xa(n,e,t=Bn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function hx(n,e,t,r){let o=r.get(ED,_D)||t===$n.ShadowDom,s=n.selectRootElement(e,o);return fx(s),s}function fx(n){px(n)}var px=()=>null;function gx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function mx(n,e,t,r,i,o){let s=e[z];if(om(n,s,e,t,r)){hi(n)&&yx(e,n.index);return}n.type&3&&(t=gx(t)),BD(n,e,t,r,i,o)}function BD(n,e,t,r,i,o){if(n.type&3){let s=Bn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function yx(n,e){let t=tn(e,n);t[K]&16||(t[K]|=64)}function vx(n,e,t){let r=t.directiveStart,i=t.directiveEnd;hi(t)&&JP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||sD(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Dg(e,n,s,t);if(xo(u,e),o!==null&&Ix(e,s-r,u,c,t,o),fi(c)){let l=tn(t.index,e);l[mt]=Dg(e,n,s,t)}}}function _x(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=mT();try{Er(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];_l(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ex(u,l)}}finally{Er(-1),_l(s)}}function Ex(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function nm(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];AD(e,o.selectors,!1)&&(r??=[],fi(o)?r.unshift(o):r.push(o))}return r}function Ix(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Rg(r,t,u,l)}}function rm(n,e,t,r,i){let o=Ne+t,s=e[z],c=i(s,e,n,r,t);e[o]=c,So(n,!0);let u=n.type===2;return u?(MD(e[ke],c,n),(cT()===0||_a(n))&&xo(c,e),uT()):xo(c,e),wl()&&(!u||!Xl(n))&&em(s,e,c,n),n}function im(n){let e=n;return ig()?og():(e=e.parent,So(e,!1)),e}function om(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Rg(p,t[l],f,i),c=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];Rg(f,l,r,i),c=!0}return c}function wx(n,e){let t=tn(e,n),r=t[z];Tx(r,t);let i=t[Jt];i!==null&&t[Do]===null&&(t[Do]=ID(i,t[pa])),be(18),sm(r,t,t[mt]),be(19,t[mt])}function Tx(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function sm(n,e,t){El(e);try{let r=n.viewQuery;r!==null&&Ag(1,r,t);let i=n.template;i!==null&&UD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[di]?.finishViewCreation(n),n.staticContentQueries&&wD(n,e),n.staticViewQueries&&Ag(2,n.viewQuery,t);let o=n.components;o!==null&&Dx(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[K]&=-5,Il()}}function Dx(n,e){for(let t=0;t<e.length;t++)wx(n,e[t])}function am(n,e,t,r){let i=ee(null);try{let o=e.tView,c=n[K]&4096?4096:16,u=Qg(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ui]=l;let f=n[di];return f!==null&&(u[di]=f.createEmbeddedView(o)),sm(o,u,t),u}finally{ee(i)}}function Ol(n,e){return!e||e.firstChild===null||fD(n)}function Ra(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(en(o)),Xt(o)&&$D(o,r);let s=t.type;if(s&8)Ra(n,e,t.child,r);else if(s&32){let c=Zg(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=VD(e,t);if(Array.isArray(c))r.push(...c);else{let u=mr(e[At]);Ra(u[z],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function $D(n,e){for(let t=vt;t<n.length;t++){let r=n[t],i=r[z].firstChild;i!==null&&Ra(r[z],r,i,e)}n[vr]!==n[Jt]&&e.push(n[vr])}function HD(n){if(n[gl]!==null){for(let e of n[gl])e.impl.addSequence(e);n[gl].length=0}}var zD=[];function bx(n){return n[Lt]??Cx(n)}function Cx(n){let e=zD.pop()??Object.create(Ax);return e.lView=n,e}function Sx(n){n.lView[Lt]!==n&&(n.lView=null,zD.push(n))}var Ax=Ee(L({},Js),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{wa(n.lView)},consumerOnSignalRead(){this.lView[Lt]=this}});function Rx(n){let e=n[Lt]??Object.create(Nx);return e.lView=n,e}var Nx=Ee(L({},Js),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=mr(n.lView);for(;e&&!qD(e[z]);)e=mr(e);e&&Zp(e)},consumerOnSignalRead(){this.lView[Lt]=this}});function qD(n){return n.type!==2}function GD(n){if(n[ma]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ma])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[K]&8192)}}var Mx=100;function WD(n,e=0){let r=n[gn].rendererFactory,i=!1;i||r.begin?.();try{Px(n,e)}finally{i||r.end?.()}}function Px(n,e){let t=sg();try{ag(!0),Mg(n,e);let r=0;for(;Ia(n);){if(r===Mx)throw new V(103,!1);r++,Mg(n,1)}}finally{ag(t)}}function xx(n,e,t,r){if(pi(e))return;let i=e[K],o=!1,s=!1;El(e);let c=!0,u=null,l=null;o||(qD(n)?(l=bx(e),u=ea(l)):Su()===null?(c=!1,l=Rx(e),u=ea(l)):e[Lt]&&(na(e[Lt]),e[Lt]=null));try{Yp(e),fT(n.bindingStartIndex),t!==null&&UD(n,e,t,2,r),kx(e);let f=(i&3)===3;if(!o)if(f){let v=n.preOrderCheckHooks;v!==null&&Cl(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Sl(e,v,0,null),yg(e,0)}if(s||Ox(e),GD(e),KD(e,0),n.contentQueries!==null&&wD(n,e),!o)if(f){let v=n.contentCheckHooks;v!==null&&Cl(e,v)}else{let v=n.contentHooks;v!==null&&Sl(e,v,1),yg(e,1)}Fx(n,e);let p=n.components;p!==null&&YD(e,p,0);let m=n.viewQuery;if(m!==null&&Ag(2,m,r),!o)if(f){let v=n.viewCheckHooks;v!==null&&Cl(e,v)}else{let v=n.viewHooks;v!==null&&Sl(e,v,2),yg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[pl]){for(let v of e[pl])v();e[pl]=null}o||(HD(e),e[K]&=-73)}catch(f){throw o||wa(e),f}finally{l!==null&&(Au(l,u),c&&Sx(l)),Il()}}function kx(n){let e=n[yt];if(e?.enter){for(let t of e.enter)t();e.enter=void 0}}function KD(n,e){for(let t=gD(n);t!==null;t=mD(t))for(let r=vt;r<t.length;r++){let i=t[r];QD(i,e)}}function Ox(n){for(let e=gD(n);e!==null;e=mD(e)){if(!(e[K]&2))continue;let t=e[va];for(let r=0;r<t.length;r++){let i=t[r];Zp(i)}}}function Lx(n,e,t){be(18);let r=tn(e,n);QD(r,t),be(19,r[mt])}function QD(n,e){ml(n)&&Mg(n,e)}function Mg(n,e){let r=n[z],i=n[K],o=n[Lt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ta(o)),s||=!1,o&&(o.dirty=!1),n[K]&=-9217,s)xx(r,n,r.template,n[mt]);else if(i&8192){let c=ee(null);try{GD(n),KD(n,1);let u=r.components;u!==null&&YD(n,u,1),HD(n)}finally{ee(c)}}}function YD(n,e,t){for(let r=0;r<e.length;r++)Lx(n,e[r],t)}function Fx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Er(~i);else{let o=i,s=t[++r],c=t[++r];gT(s,o);let u=e[o];be(24,u),c(2,u),be(25,u)}}}finally{Er(-1)}}function ZD(n,e){let t=sg()?64:1088;for(n[gn].changeDetectionScheduler?.notify(e);n;){n[K]|=t;let r=mr(n);if(Co(n)&&!r)return n;n=r}return null}function JD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Vx(n,e){let t=vt+e;if(t<n.length)return n[t]}function cm(n,e,t,r=!0){let i=e[z];if(Ux(i,e,n,t),r){let s=Ng(t,n),c=e[ke],u=c.parentNode(n[vr]);u!==null&&tx(i,n[gt],c,e,u,s)}let o=e[Do];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jx(n,e){let t=Ll(n,e);return t!==void 0&&Xg(t[z],t),t}function Ll(n,e){if(n.length<=vt)return;let t=vt+e,r=n[t];if(r){let i=r[ui];i!==null&&i!==n&&Jg(i,r),e>0&&(n[t-1][Gt]=r[Gt]);let o=da(n,vt+e);ex(r[z],r);let s=o[di];s!==null&&s.detachView(o[z]),r[tt]=null,r[Gt]=null,r[K]&=-129}return r}function Ux(n,e,t,r){let i=vt+r,o=t.length;r>0&&(t[i-1][Gt]=e),r<o-vt?(e[Gt]=t[i],Vp(t,vt+r,e)):(t.push(e),e[Gt]=null),e[tt]=t;let s=e[ui];s!==null&&t!==s&&XD(s,e);let c=e[di];c!==null&&c.insertView(n),yl(e),e[K]|=128}function XD(n,e){let t=n[va],r=e[tt];if(mn(r))n[K]|=2;else{let i=r[tt][At];e[At]!==i&&(n[K]|=2)}t===null?n[va]=[e]:t.push(e)}var wr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[z];return Ra(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[mt]}set context(e){this._lView[mt]=e}get destroyed(){return pi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(Xt(e)){let t=e[ya],r=t?t.indexOf(this):-1;r>-1&&(Ll(e,r),da(t,r))}this._attachedToViewContainer=!1}Xg(this._lView[z],this._lView)}onDestroy(e){Jp(this._lView,e)}markForCheck(){ZD(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){yl(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,WD(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Co(this._lView),t=this._lView[ui];t!==null&&!e&&Jg(t,this._lView),OD(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=Co(this._lView),r=this._lView[ui];r!==null&&!t&&XD(r,this._lView),yl(this._lView)}};var ka=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Bx;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=am(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new wr(o)}}return n})();function Bx(){return $x(Vt(),de())}function $x(n,e){return n.type&4?new ka(e,n,Kl(n,e)):null}function Fo(n,e,t,r,i){let o=n.data[e];if(o===null)o=Hx(n,e,t,r,i),pT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=lT();o.injectorIndex=s===null?-1:s.injectorIndex}return So(o,!0),o}function Hx(n,e,t,r,i){let o=rg(),s=ig(),c=s?o:o&&o.parent,u=n.data[e]=qx(n,c,t,e,r,i);return zx(n,u,o,s),u}function zx(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function qx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return eg()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var C9=new RegExp(`^(\\d+)*(${DP}|${TP})*(.*)`);var Gx=()=>null,Wx=()=>null;function Pg(n,e){return Gx(n,e)}function Kx(n,e,t){return Wx(n,e,t)}var eb=class{},id=class{},xg=class{resolveComponentFactory(e){throw new V(917,!1)}},Oa=class{static NULL=new xg},mi=class{},um=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Qx()}return n})();function Qx(){let n=de(),e=Vt(),t=tn(e.index,n);return(mn(t)?t:n)[ke]}var tb=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var Al={},kg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Al,r);return i!==Al||t===Al?i:this.parentInjector.get(e,t,r)}};function Fl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=sl(i,c);else if(o==2){let u=c,l=e[++s];r=sl(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ct(n,e=0){let t=de();if(t===null)return W(n,e);let r=Vt();return lD(r,t,Ct(n),e)}function nb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}Jx(n,e,t,c,o,u,l)}o!==null&&r!==null&&Yx(t,r,o)}function Yx(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function Zx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Jx(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let v=r[m];!u&&fi(v)&&(u=!0,Zx(n,t,m)),hP(sD(t,e),n,v.type)}ik(t,n.data.length,c);for(let m=0;m<c;m++){let v=r[m];v.providersResolver&&v.providersResolver(v)}let l=!1,f=!1,p=xD(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let v=r[m];if(t.mergedAttrs=Gl(t.mergedAttrs,v.hostAttrs),ek(n,t,e,p,v),rk(p,v,i),s!==null&&s.has(v)){let[R,A]=s.get(v);t.directiveToIndex.set(v.type,[p,R+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let S=v.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}Xx(n,t,o)}function Xx(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))LT(0,e,i,r),LT(1,e,i,r),VT(e,r,!1);else{let o=t.get(i);FT(0,e,o,r),FT(1,e,o,r),VT(e,r,!0)}}}function LT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),rb(e,o)}}function FT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),rb(e,s)}}function rb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function VT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Wg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function ek(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=gr(i.type,!0)),s=new Aa(o,fi(i),ct,null);n.blueprint[r]=s,t[r]=s,tk(n,e,r,xD(n,t,i.hostVars,Nt),i)}function tk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;nk(s)!=c&&s.push(c),s.push(t,r,o)}}function nk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function rk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;fi(e)&&(t[""]=n)}}function ik(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function lm(n,e,t,r,i,o,s,c){let u=e[z],l=u.consts,f=yn(l,s),p=Fo(u,n,t,r,f);return o&&nb(u,e,p,yn(l,c),i),p.mergedAttrs=Gl(p.mergedAttrs,p.attrs),p.attrs!==null&&Fl(p,p.attrs,!1),p.mergedAttrs!==null&&Fl(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function dm(n,e){tD(n,e),Wp(e)&&n.queries.elementEnd(e)}function ok(n,e,t,r,i,o){let s=e.consts,c=yn(s,i),u=Fo(e,n,t,r,c);if(u.mergedAttrs=Gl(u.mergedAttrs,u.attrs),o!=null){let l=yn(s,o);u.localNames=[];for(let f=0;f<l.length;f+=2)u.localNames.push(l[f],-1)}return u.attrs!==null&&Fl(u,u.attrs,!1),u.mergedAttrs!==null&&Fl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function hm(n){return ob(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function ib(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function ob(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function sk(n,e,t){return n[e]=t}function Hn(n,e,t){if(t===Nt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function ak(n,e,t,r){let i=Hn(n,e,t);return Hn(n,e+1,r)||i}var Og=Symbol("BINDING");var Vl=class extends Oa{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=yr(e);return new ko(t,this.ngModule)}};function ck(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ed.SignalBased)!==0};return i&&(o.transform=i),o})}function uk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function lk(n,e,t){let r=e instanceof Be?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new kg(t,r):t}function dk(n){let e=n.get(mi,null);if(e===null)throw new V(407,!1);let t=n.get(tb,null),r=n.get(jn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function hk(n,e){let t=sb(n);return RD(e,t,t==="svg"?nT:t==="math"?rT:null)}function sb(n){return(n.selectors[0][0]||"div").toLowerCase()}var ko=class extends id{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ck(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=uk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=$P(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){be(22);let c=ee(null);try{let u=this.componentDef,l=fk(r,u,s,o),f=lk(u,i||this.ngModule,e),p=dk(f),m=p.rendererFactory.createRenderer(null,u),v=r?hx(m,r,u.encapsulation,f):hk(u,m),S=s?.some(jT)||o?.some(F=>typeof F!="function"&&F.bindings.some(jT)),R=Qg(null,l,null,512|PD(u),null,null,p,m,f,null,ID(v,f,!0));R[Ne]=v,El(R);let A=null;try{let F=lm(Ne,R,2,"#host",()=>l.directiveRegistry,!0,0);v&&(MD(m,v,F),xo(v,R)),rd(l,R,F),zg(l,F,R),dm(l,F),t!==void 0&&gk(F,this.ngContentSelectors,t),A=tn(F.index,R),R[mt]=A[mt],sm(l,R,null)}catch(F){throw A!==null&&Cg(A),Cg(R),F}finally{be(23),Il()}return new jl(this.componentType,R,!!S)}finally{ee(c)}}};function fk(n,e,t,r){let i=n?["ng-version","20.3.1"]:HP(e.selectors[0]),o=null,s=null,c=0;if(t)for(let f of t)c+=f[Og].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[Og].requiredVars;let v=f+1;m.create&&(m.targetIdx=v,(o??=[]).push(m)),m.update&&(m.targetIdx=v,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=$p(p);u.push(m)}return Kg(0,null,pk(o,s),1,c,u,null,null,null,[i],null)}function pk(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function jT(n){let e=n[Og].kind;return e==="input"||e==="twoWay"}var jl=class extends eb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ea(t[z],Ne),this.location=Kl(this._tNode,t),this.instance=tn(this._tNode.index,t)[mt],this.hostView=this.changeDetectorRef=new wr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=om(r,i[z],i,e,t);this.previousInputValues.set(e,t);let s=tn(r.index,i);ZD(s,1)}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ei=(()=>{class n{static __NG_ELEMENT_ID__=mk}return n})();function mk(){let n=Vt();return vk(n,de())}var yk=Ei,ab=class extends yk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Kl(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bg(this._hostTNode,this._hostLView);if(rD(e)){let t=Ml(e,this._hostLView),r=Nl(e),i=t[z].data[r+8];return new gi(i,t)}else return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=UT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Pg(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,Ol(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!ZM(e),l;if(u)l=t;else{let A=t||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,c=A.bindings}let f=u?e:new ko(yr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let F=(u?p:this.parentInjector).get(Be,null);F&&(o=F)}let m=yr(f.componentType??{}),v=Pg(this._lContainer,m?.id??null),S=v?.firstChild??null,R=f.create(p,i,S,o,s,c);return this.insertImpl(R.hostView,l,Ol(this._hostTNode,v)),R}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(oT(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[tt],l=new ab(u,u[gt],u[tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return cm(s,i,o,r),e.attachToViewContainerRef(),Vp(Eg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=UT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ll(this._lContainer,t);r&&(da(Eg(this._lContainer),t),Xg(r[z],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ll(this._lContainer,t);return r&&da(Eg(this._lContainer),t)!=null?new wr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function UT(n){return n[ya]}function Eg(n){return n[ya]||(n[ya]=[])}function vk(n,e){let t,r=e[n.index];return Xt(r)?t=r:(t=JD(r,e,null,n),e[n.index]=t,Yg(e,t)),Ek(t,e,n,r),new ab(t,n,e)}function _k(n,e){let t=n[ke],r=t.createComment(""),i=Bn(e,n),o=t.parentNode(i);return kl(t,o,r,t.nextSibling(i),!1),r}var Ek=Tk,Ik=()=>!1;function wk(n,e,t){return Ik(n,e,t)}function Tk(n,e,t,r){if(n[vr])return;let i;t.type&8?i=en(r):i=_k(e,t),n[vr]=i}var BT=new Set;function Ii(n){BT.has(n)||(BT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var yi=class{},od=class{};var Ul=class extends yi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Vl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Bp(e);this._bootstrapComponents=CD(o.bootstrap),this._r3Injector=fg(e,t,[{provide:yi,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver},...r],pr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bl=class extends od{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ul(this.moduleType,e,[])}};var Na=class extends yi{injector;componentFactoryResolver=new Vl(this);instance=null;constructor(e){super();let t=new ii([...e.providers,{provide:yi,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],e.parent||fa(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function La(n,e,t=null){return new Na({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Dk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Hp(!1,t.type),i=r.length>0?La([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(W(Be))})}return n})();function Ut(n){return Lo(()=>{let e=cb(n),t=Ee(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===$g.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Dk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||$n.Emulated,styles:n.styles||St,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Ii("NgStandalone"),ub(t);let r=n.dependencies;return t.directiveDefs=$T(r,bk),t.pipeDefs=$T(r,Kw),t.id=Ak(t),t})}function bk(n){return yr(n)||$p(n)}function Fa(n){return Lo(()=>({type:n.type,bootstrap:n.bootstrap||St,declarations:n.declarations||St,imports:n.imports||St,exports:n.exports||St,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ck(n,e){if(n==null)return ai;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=ed.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function Sk(n){if(n==null)return ai;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function wi(n){return Lo(()=>{let e=cb(n);return ub(e),e})}function fm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function cb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ai,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||St,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Ck(n.inputs,e),outputs:Sk(n.outputs),debugInfo:null}}function ub(n){n.features?.forEach(e=>e(n))}function $T(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Ak(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lb(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Gl(n.mergedAttrs,n.attrs);let f=n.tView=Kg(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),So(n,!1);let u=Nk(t,e,n,r);wl()&&em(t,e,u,n),xo(u,e);let l=JD(u,e,u,n);e[r+Ne]=l,Yg(e,l),wk(l,n,e)}function Rk(n,e,t,r,i,o,s,c,u,l,f){let p=t+Ne,m;return e.firstCreatePass?(m=Fo(e,p,4,s||null,c||null),vl()&&nb(e,n,m,yn(e.consts,l),nm),tD(e,m)):m=e.data[p],lb(m,n,e,t,r,i,o,u),_a(m)&&rd(e,n,m),l!=null&&xa(n,m,f),m}function pm(n,e,t,r,i,o,s,c,u,l,f){let p=t+Ne,m;if(e.firstCreatePass){if(m=Fo(e,p,4,s||null,c||null),l!=null){let v=yn(e.consts,l);m.localNames=[];for(let S=0;S<v.length;S+=2)m.localNames.push(v[S],-1)}}else m=e.data[p];return lb(m,n,e,t,r,i,o,u),l!=null&&xa(n,m,f),m}function Dr(n,e,t,r,i,o,s,c){let u=de(),l=Ft(),f=yn(l.consts,o);return Rk(u,l,n,e,t,r,i,f,void 0,s,c),Dr}var Nk=Mk;function Mk(n,e,t,r){return Ta(!0),e[ke].createComment("")}var gm=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(gm||{}),Va=new j(""),db=!1,Lg=class extends Xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,eT()&&(this.destroyRef=N(Ir,{optional:!0})??void 0,this.pendingTasks=N(vn,{optional:!0})??void 0)}emit(e){let t=ee(null);try{super.next(e)}finally{ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Re&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_t=Lg;function hb(n){let e,t;function r(){n=ba;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function HT(n){return queueMicrotask(()=>n()),()=>{n=ba}}var mm="isAngularZone",$l=mm+"_ID",Pk=0,_e=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _t(!1);onMicrotaskEmpty=new _t(!1);onStable=new _t(!1);onError=new _t(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=db}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ok(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,xk,ba,ba);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},xk={};function ym(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){hb(()=>{n.callbackScheduled=!1,Fg(n),n.isCheckStableRunning=!0,ym(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Fg(n)}function Ok(n){let e=()=>{kk(n)},t=Pk++;n._inner=n._inner.fork({name:"angular",properties:{[mm]:!0,[$l]:t,[$l+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(Lk(u))return r.invokeTask(o,s,c,u);try{return zT(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),qT(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return zT(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Fk(u)&&e(),qT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Fg(n),ym(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Fg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function zT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qT(n){n._nesting--,ym(n)}var Ma=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _t;onMicrotaskEmpty=new _t;onStable=new _t;onError=new _t;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Lk(n){return fb(n,"__ignore_ng_zone__")}function Fk(n){return fb(n,"__scheduler_tick__")}function fb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pb=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})();var vm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var _m=new j("");function Ti(n){return!!n&&typeof n.then=="function"}function sd(n){return!!n&&typeof n.subscribe=="function"}var gb=new j("");var Em=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(gb,{optional:!0})??[];injector=N(Ge);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=$e(this.injector,i);if(Ti(o))t.push(o);else if(sd(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ad=new j("");function mb(){Xf(()=>{let n="";throw new V(600,n)})}function yb(n){return n.isBoundToModule}var Vk=10;var Di=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Rt);afterRenderManager=N(pb);zonelessEnabled=N(Da);rootEffectScheduler=N(mg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Xe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(vn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(te(t=>!t))}constructor(){N(Va,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(Be);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ge.NULL){return this._injector.get(_e).run(()=>{be(10);let s=t instanceof id;if(!this._injector.get(Em).done){let S="";throw new V(405,S)}let u;s?u=t:u=this._injector.get(Oa).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=yb(u)?void 0:this._injector.get(yi),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,v=p.injector.get(_m,null);return v?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Sa(this.components,p),v?.unregisterApplication(m)}),this._loadComponent(p),be(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(gm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(t),this.afterTick.next(),be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(mi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Vk;)be(14),this.synchronizeOnce(),be(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ia(i))continue;let o=r&&!this.zonelessEnabled?0:1;WD(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ia(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Sa(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(ad,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var x9=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Vo(n,e,t,r,i,o,s,c){Ii("NgControlFlow");let u=de(),l=Ft(),f=yn(l.consts,o);return pm(u,l,n,e,t,r,i,f,256,s,c),Im}function Im(n,e,t,r,i,o,s,c){Ii("NgControlFlow");let u=de(),l=Ft(),f=yn(l.consts,o);return pm(u,l,n,e,t,r,i,f,512,s,c),Im}function jo(n,e){Ii("NgControlFlow");let t=de(),r=Ao(),i=t[r]!==Nt?t[r]:-1,o=i!==-1?GT(t,Ne+i):void 0,s=0;if(Hn(t,r,n)){let c=ee(null);try{if(o!==void 0&&jx(o,s),n!==-1){let u=Ne+n,l=GT(t,u),f=jk(t[z],u),p=Kx(l,f,t),m=am(t,f,e,{dehydratedView:p});cm(l,m,s,Ol(f,p))}}finally{ee(c)}}else if(o!==void 0){let c=Vx(o,s);c!==void 0&&(c[mt]=e)}}function GT(n,e){return n[e]}function jk(n,e){return Ea(n,e)}function Te(n,e,t){let r=de(),i=Ao();if(Hn(r,i,e)){let o=Ft(),s=hg();mx(s,r,n,e,r[ke],t)}return Te}function Vg(n,e,t,r,i){om(e,n,t,i?"class":"style",r)}function ne(n,e,t,r){let i=de(),o=i[z],s=n+Ne,c=o.firstCreatePass?lm(s,i,2,e,nm,vl(),t,r):o.data[s];if(rm(c,i,n,e,vb),_a(c)){let u=i[z];rd(u,i,c),zg(u,c,i)}return r!=null&&xa(i,c),ne}function se(){let n=Ft(),e=Vt(),t=im(e);return n.firstCreatePass&&dm(n,t),tg(t)&&ng(),Xp(),t.classesWithoutHost!=null&&rP(t)&&Vg(n,t,de(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&iP(t)&&Vg(n,t,de(),t.stylesWithoutHost,!1),se}function nt(n,e,t,r){return ne(n,e,t,r),se(),nt}function ja(n,e,t,r){let i=de(),o=i[z],s=n+Ne,c=o.firstCreatePass?ok(s,o,2,e,t,r):o.data[s];return rm(c,i,n,e,vb),r!=null&&xa(i,c),ja}function Ua(){let n=Vt(),e=im(n);return tg(e)&&ng(),Xp(),Ua}var vb=(n,e,t,r,i)=>(Ta(!0),RD(e[ke],r,wT()));function bi(n,e,t){let r=de(),i=r[z],o=n+Ne,s=i.firstCreatePass?lm(o,r,8,"ng-container",nm,vl(),e,t):i.data[o];if(rm(s,r,n,"ng-container",Uk),_a(s)){let c=r[z];rd(c,r,s),zg(c,s,r)}return t!=null&&xa(r,s),bi}function Ci(){let n=Ft(),e=Vt(),t=im(e);return n.firstCreatePass&&dm(n,t),Ci}var Uk=(n,e,t,r,i)=>(Ta(!0),GP(e[ke],""));function cd(n,e,t){let r=de(),i=Ao();if(Hn(r,i,e)){let o=Ft(),s=hg();BD(s,r,n,e,r[ke],t)}return cd}var Ba="en-US";var Bk=Ba;function _b(n){typeof n=="string"&&(Bk=n.toLowerCase().replace(/_/g,"-"))}function Si(n=1){return IT(n)}function $k(n,e){let t=null,r=FP(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?AD(n,o,!0):UP(r,o))return i}return t}function wm(n){let e=de()[At][gt];if(!e.projection){let t=n?n.length:1,r=e.projection=Gw(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?$k(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Tm(n,e=0,t,r,i,o){let s=de(),c=Ft(),u=r?n+1:null;u!==null&&pm(s,c,u,r,i,o,null,t);let l=Fo(c,Ne+n,16,null,t||null);l.projection===null&&(l.projection=e),og();let p=!s[Do]||eg();s[At][gt].projection[l.projection]===null&&u!==null?Hk(s,c,u):p&&!Xl(l)&&ux(c,s,l)}function Hk(n,e,t){let r=Ne+t,i=e.data[r],o=n[r],s=Pg(o,i.tView.ssrId),c=am(n,i,void 0,{dehydratedView:s});cm(o,c,0,Ol(i,s))}function bl(n,e){return n<<17|e<<2}function vi(n){return n>>17&32767}function zk(n){return(n&2)==2}function qk(n,e){return n&131071|e<<17}function jg(n){return n|2}function Oo(n){return(n&131068)>>2}function Ig(n,e){return n&-131069|e<<2}function Gk(n){return(n&1)===1}function Ug(n){return n|1}function Wk(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=vi(s),u=Oo(s);n[r]=t;let l=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||To(p,f)>0)&&(l=!0)}else f=t;if(i)if(u!==0){let m=vi(n[c+1]);n[r+1]=bl(m,c),m!==0&&(n[m+1]=Ig(n[m+1],r)),n[c+1]=qk(n[c+1],r)}else n[r+1]=bl(c,0),c!==0&&(n[c+1]=Ig(n[c+1],r)),c=r;else n[r+1]=bl(u,0),c===0?c=r:n[u+1]=Ig(n[u+1],r),u=r;l&&(n[r+1]=jg(n[r+1])),WT(n,f,r,!0),WT(n,f,r,!1),Kk(e,f,n,r,o),s=bl(c,u),o?e.classBindings=s:e.styleBindings=s}function Kk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&To(o,e)>=0&&(t[r+1]=Ug(t[r+1]))}function WT(n,e,t,r){let i=n[t+1],o=e===null,s=r?vi(i):Oo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],l=n[s+1];Qk(u,e)&&(c=!0,n[s+1]=r?Ug(l):jg(l)),s=r?vi(l):Oo(l)}c&&(n[t+1]=r?jg(i):Ug(i))}function Qk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?To(n,e)>=0:!1}var rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yk(n){return n.substring(rn.key,rn.keyEnd)}function Zk(n){return Jk(n),Eb(n,Ib(n,0,rn.textEnd))}function Eb(n,e){let t=rn.textEnd;return t===e?-1:(e=rn.keyEnd=Xk(n,rn.key=e,t),Ib(n,e,t))}function Jk(n){rn.key=0,rn.keyEnd=0,rn.value=0,rn.valueEnd=0,rn.textEnd=n.length}function Ib(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Xk(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Dm(n){tO(cO,eO,n,!0)}function eO(n,e){for(let t=Zk(e);t>=0;t=Eb(e,t))dl(n,Yk(e),!0)}function tO(n,e,t,r){let i=Ft(),o=cg(2);i.firstUpdatePass&&nO(i,null,o,r);let s=de();if(t!==Nt&&Hn(s,o,t)){let c=i.data[_r()];if(Tb(c,r)&&!wb(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(t=sl(u,t||"")),Vg(i,c,s,t,r)}else uO(i,c,s,s[ke],s[o+1],s[o+1]=aO(n,e,t),r,o)}}function wb(n,e){return e>=n.expandoStartIndex}function nO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[_r()],s=wb(n,t);Tb(o,r)&&e===null&&!s&&(e=!1),e=rO(i,o,e,r),Wk(i,o,e,t,s,r)}}function rO(n,e,t,r){let i=yT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=wg(null,n,e,t,r),t=Pa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=wg(i,n,e,t,r),o===null){let u=iO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=wg(null,n,e,u[1],r),u=Pa(u,e.attrs,r),oO(n,e,r,u))}else o=sO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function iO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Oo(r)!==0)return n[vi(r)]}function oO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[vi(i)]=r}function sO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Pa(r,s,t)}return Pa(r,e.attrs,t)}function wg(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=Pa(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function Pa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),dl(n,s,t?!0:e[++o]))}return n===void 0?null:n}function aO(n,e,t){if(t==null||t==="")return St;let r=[],i=qg(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function cO(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&dl(n,r,t)}function uO(n,e,t,r,i,o,s,c){i===Nt&&(i=St);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,v=l<o.length?o[l+1]:void 0,S=null,R;f===p?(u+=2,l+=2,m!==v&&(S=p,R=v)):p===null||f!==null&&f<p?(u+=2,S=f):(l+=2,S=p,R=v),S!==null&&lO(n,e,t,r,S,R,s,c),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function lO(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],f=Gk(l)?KT(u,e,t,i,Oo(l),s):void 0;if(!Hl(f)){Hl(o)||zk(l)&&(o=KT(u,null,t,i,c,s));let p=Kp(_r(),t);dx(r,s,p,i,o)}}function KT(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=t[i+1];m===Nt&&(m=p?St:void 0);let v=p?hl(m,r):f===r?m:void 0;if(l&&!Hl(v)&&(v=hl(u,r)),Hl(v)&&(c=v,s))return c;let S=n[i+1];i=s?vi(S):Oo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=hl(u,r))}return c}function Hl(n){return n!==void 0}function Tb(n,e){return(n.flags&(e?8:16))!==0}function ye(n,e=""){let t=de(),r=Ft(),i=n+Ne,o=r.firstCreatePass?Fo(r,i,1,e,null):r.data[i],s=dO(r,t,o,e,n);t[i]=s,wl()&&em(r,t,s,o),So(o,!1)}var dO=(n,e,t,r,i)=>(Ta(!0),zP(e[ke],r));function Db(n,e,t,r=""){return Hn(n,Ao(),t)?e+si(t)+r:Nt}function hO(n,e,t,r,i,o=""){let s=hT(),c=ak(n,s,t,i);return cg(2),c?e+si(t)+r+si(i)+o:Nt}function In(n){return bm("",n),In}function bm(n,e,t){let r=de(),i=Db(r,n,e,t);return i!==Nt&&bb(r,_r(),i),bm}function ud(n,e,t,r,i){let o=de(),s=hO(o,n,e,t,r,i);return s!==Nt&&bb(o,_r(),s),ud}function bb(n,e,t){let r=Kp(e,n);qP(n[ke],r,t)}function Cm(n){return Hn(de(),Ao(),n)?si(n):Nt}function ld(n,e,t=""){return Db(de(),n,e,t)}function fO(n,e){let t=n[e];return t===Nt?void 0:t}function pO(n,e,t,r,i,o){let s=e+t;return Hn(n,s,i)?sk(n,s+1,o?r.call(o,i):r(i)):fO(n,s+1)}function $a(n,e){let t=Ft(),r,i=n+Ne;t.firstCreatePass?(r=gO(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=gr(r.type,!0)),s,c=pt(ct);try{let u=Pl(!1),l=o();return Pl(u),Qp(t,de(),i,l),l}finally{pt(c)}}function gO(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ha(n,e,t){let r=n+Ne,i=de(),o=iT(i,r);return mO(i,r)?pO(i,dT(),e,o.transform,t,o):o.transform(t)}function mO(n,e){return n[z].data[e].pure}var zl=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Sm=(()=>{class n{compileModuleSync(t){return new Bl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Bp(t),o=CD(i.declarations).reduce((s,c)=>{let u=yr(c);return u&&s.push(new ko(u)),s},[]);return new zl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yO=(()=>{class n{zone=N(_e);changeDetectionScheduler=N(jn);applicationRef=N(Di);applicationErrorHandler=N(Rt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(Ee(L({},Sb()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:Un,multi:!0,useFactory:()=>{let r=N(yO,{optional:!0});return()=>r.initialize()}},{provide:Un,multi:!0,useFactory:()=>{let r=N(vO);return()=>{r.initialize()}}},e===!0?{provide:gg,useValue:!0}:[],{provide:Tl,useValue:t??db},{provide:Rt,useFactory:()=>{let r=N(_e),i=N(Be),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(pn),o.handleError(s))})}}}]}function Sb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var vO=(()=>{class n{subscription=new Re;initialized=!1;zone=N(_e);pendingTasks=N(vn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Am=(()=>{class n{applicationErrorHandler=N(Rt);appRef=N(Di);taskService=N(vn);ngZone=N(_e);zonelessEnabled=N(Da);tracing=N(Va,{optional:!0});disableScheduling=N(gg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($l):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Tl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ma||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?HT:hb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($l+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,HT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rm(){return Ii("NgZoneless"),Ot([{provide:jn,useExisting:Am},{provide:_e,useClass:Ma},{provide:Da,useValue:!0},{provide:Tl,useValue:!1},[]])}function _O(){return typeof $localize<"u"&&$localize.locale||Ba}var dd=new j("",{providedIn:"root",factory:()=>N(dd,{optional:!0,skipSelf:!0})||_O()});function on(n){return Fw(n)}var Ab=class{[wt];constructor(e){this[wt]=e}destroy(){this[wt].destroy()}};var Pb=Symbol("InputSignalNode#UNSET"),LO=Ee(L({},Ru),{transformFn:void 0,applyValueToInputSignal(n,e){io(n,e)}});function xb(n,e){let t=Object.create(LO);t.value=n,t.transformFn=e?.transform;function r(){if(Xs(t),t.value===Pb){let i=null;throw new V(-950,i)}return t.value}return r[wt]=t,r}var FO=new j("");FO.__NG_ELEMENT_ID__=n=>{let e=Vt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function Rb(n,e){return xb(n,e)}function VO(n){return xb(Pb,n)}var kb=(Rb.required=VO,Rb);var Nm=new j(""),jO=new j("");function za(n){return!n.moduleRef}function UO(n){let e=za(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{za(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Rt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),za(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Nm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Nm);s.add(o),n.moduleRef.onDestroy(()=>{Sa(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return $O(r,t,()=>{let o=e.get(vn),s=o.add(),c=e.get(Em);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(dd,Ba);if(_b(u||Ba),!e.get(jO,!0))return za(n)?e.get(Di):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(za(n)){let f=e.get(Di);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return BO?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var BO;function $O(n,e,t){try{let r=t();return Ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var hd=null;function HO(n=[],e){return Ge.create({name:e,providers:[{provide:ha,useValue:"platform"},{provide:Nm,useValue:new Set([()=>hd=null])},...n]})}function zO(n=[]){if(hd)return hd;let e=HO(n);return hd=e,mb(),qO(e),e}function qO(n){let e=n.get(Zl,null);$e(n,()=>{e?.forEach(t=>t())})}function Om(){return!1}var pd=(()=>{class n{static __NG_ELEMENT_ID__=GO}return n})();function GO(n){return WO(Vt(),de(),(n&16)===16)}function WO(n,e,t){if(hi(n)&&!t){let r=tn(n.index,e);return new wr(r,r)}else if(n.type&175){let r=e[At];return new wr(r,e)}return null}var Mm=class{constructor(){}supports(e){return hm(e)}create(e){return new Pm(e)}},KO=(n,e)=>e,Pm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||KO}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Nb(r,i,o)?t:r,c=Nb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,S=v+m;f<=S&&S<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!hm(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,ib(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new xm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new fd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},xm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},km=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},fd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new km,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Nb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Mb(){return new Lm([new Mm])}var Lm=(()=>{class n{factories;static \u0275prov=U({token:n,providedIn:"root",factory:Mb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||Mb())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function Ob(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;be(8);try{let o=i?.injector??zO(r),s=[Cb({}),{provide:jn,useExisting:Am},DT,...t||[]],c=new Na({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return UO({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{be(9)}}var Vb=null;function zn(){return Vb}function Fm(n){Vb??=n}var Ga=class{},Vm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(jb),providedIn:"platform"})}return n})();var jb=(()=>{class n extends Vm{_location;_history;_doc=N(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zn().getBaseHref(this._doc)}onPopState(t){let r=zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ub(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Lb(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function br(n){return n&&n[0]!=="?"?`?${n}`:n}var gd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N($b),providedIn:"root"})}return n})(),Bb=new j(""),$b=(()=>{class n extends gd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ub(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+br(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+br(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+br(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(Vm),W(Bb,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uo=(()=>{class n{_subject=new Xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=ZO(Lb(Fb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+br(r))}normalize(t){return n.stripTrailingSlash(YO(this._basePath,Fb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+br(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=br;static joinWithSlash=Ub;static stripTrailingSlash=Lb;static \u0275fac=function(r){return new(r||n)(W(gd))};static \u0275prov=U({token:n,factory:()=>QO(),providedIn:"root"})}return n})();function QO(){return new Uo(W(gd))}function YO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Fb(n){return n.replace(/\/index.html$/,"")}function ZO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var jm=/\s+/,Hb=[],$m=(()=>{class n{_ngEl;_renderer;initialClasses=Hb;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(jm):Hb}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(jm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(jm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ct(Ql),ct(um))};static \u0275dir=wi({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var md=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bo=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new md(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),zb(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);zb(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ct(Ei),ct(ka),ct(Lm))};static \u0275dir=wi({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function zb(n,e){n.context.$implicit=e.item}var Hm=(()=>{class n{_viewContainer;_context=new yd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ct(Ei),ct(ka))};static \u0275dir=wi({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),yd=class{$implicit=null;ngIf=null};function qb(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}function JO(n,e){return new V(2100,!1)}var Um=class{createSubscription(e,t,r){return on(()=>e.subscribe({next:t,error:r}))}dispose(e){on(()=>e.unsubscribe())}},Bm=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},XO=new Bm,e1=new Um,Wa=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=N(Rt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Ti(t))return XO;if(sd(t))return e1;throw JO(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(ct(pd,16))};static \u0275pipe=fm({name:"async",type:n,pure:!1})}return n})();var Cr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fa({type:n});static \u0275inj=wo({})}return n})();function zm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ka=class{};var Gb="browser";var _d=new j(""),Ym=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(_d),W(_e))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Qa=class{_doc;constructor(e){this._doc=e}manager},Gm="ng-app-id";function Wb(n){for(let e of n)e.remove()}function Kb(n,e){let t=e.createElement("style");return t.textContent=n,t}function t1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Gm}="${e}"],link[${Gm}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Gm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Km(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Zm=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,t1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Kb);r?.forEach(i=>this.addUsage(i,this.external,Km))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Wb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Wb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Kb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Km(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(We),W(Yl),W(Jl,8),W(Tr))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Wm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jm=/%COMP%/g;var Yb="%COMP%",n1=`_nghost-${Yb}`,r1=`_ngcontent-${Yb}`,i1=!0,o1=new j("",{providedIn:"root",factory:()=>i1});function s1(n){return r1.replace(Jm,n)}function a1(n){return n1.replace(Jm,n)}function Zb(n,e){return e.map(t=>t.replace(Jm,n))}var Xm=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new Ya(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof vd?i.applyToHost(t):i instanceof Za&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case $n.Emulated:o=new vd(u,l,r,this.appId,f,s,c,p,m);break;case $n.ShadowDom:return new Qm(u,l,t,r,s,c,this.nonce,p,m);default:o=new Za(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W(Ym),W(Zm),W(Yl),W(o1),W(We),W(Tr),W(_e),W(Jl),W(Va,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Ya=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Wm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Qb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Qb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Wm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Wm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(t,r,i&En.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&En.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=zn().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Qb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qm=class extends Ya{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=Zb(i.id,f);for(let m of f){let v=document.createElement("style");c&&v.setAttribute("nonce",c),v.textContent=m,this.shadowRoot.appendChild(v)}let p=i.getExternalStyles?.();if(p)for(let m of p){let v=Km(m,o);c&&v.setAttribute("nonce",c),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Za=class extends Ya{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?Zb(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&td.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vd=class extends Za{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,l,f),this.contentAttr=s1(f),this.hostAttr=a1(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ed=class n extends Ga{supportsDOMEvents=!0;static makeCurrent(){Fm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=c1();return t==null?null:u1(t)}resetBaseElement(){Ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zm(document.cookie,e)}},Ja=null;function c1(){return Ja=Ja||document.head.querySelector("base"),Ja?Ja.getAttribute("href"):null}function u1(n){return new URL(n,document.baseURI).pathname}var l1=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Xb=(()=>{class n extends Qa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(W(We))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Jb=["alt","control","meta","shift"],d1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},eC=(()=>{class n extends Qa{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zn().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),Jb.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=d1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Jb.forEach(s=>{if(s!==i){let c=h1[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(We))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function ey(n,e,t){let r=L({rootComponent:n,platformRef:t?.platformRef},f1(e));return Ob(r)}function f1(n){return{appProviders:[...v1,...n?.providers??[]],platformProviders:y1}}function p1(){Ed.makeCurrent()}function g1(){return new pn}function m1(){return Hg(document),document}var y1=[{provide:Tr,useValue:Gb},{provide:Zl,useValue:p1,multi:!0},{provide:We,useFactory:m1}];var v1=[{provide:ha,useValue:"root"},{provide:pn,useFactory:g1},{provide:_d,useClass:Xb,multi:!0,deps:[We]},{provide:_d,useClass:eC,multi:!0,deps:[We]},Xm,Zm,Ym,{provide:mi,useExisting:Xm},{provide:Ka,useClass:l1},[]];var tC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(We))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q="primary",fc=Symbol("RouteTitle"),oy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ni(n){return new oy(n)}function uC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function E1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wn(n[t],e[t]))return!1;return!0}function wn(n,e){let t=n?sy(n):void 0,r=e?sy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!lC(n[i],e[i]))return!1;return!0}function sy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function dC(n){return n.length>0?n[n.length-1]:null}function Wn(n){return pp(n)?n:Ti(n)?xe(Promise.resolve(n)):H(n)}var I1={exact:fC,subset:pC},hC={exact:w1,subset:T1,ignored:()=>!0};function nC(n,e,t){return I1[t.paths](n.root,e.root,t.matrixParams)&&hC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function w1(n,e){return wn(n,e)}function fC(n,e,t){if(!Ai(n.segments,e.segments)||!Td(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!fC(n.children[r],e.children[r],t))return!1;return!0}function T1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lC(n[t],e[t]))}function pC(n,e,t){return gC(n,e,e.segments,t)}function gC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ai(i,t)||e.hasChildren()||!Td(i,t,r))}else if(n.segments.length===t.length){if(!Ai(n.segments,t)||!Td(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!pC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ai(n.segments,i)||!Td(n.segments,i,r)||!n.children[Q]?!1:gC(n.children[Q],e,o,r)}}function Td(n,e,t){return e.every((r,i)=>hC[t](n[i].parameters,r.parameters))}var Dn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ni(this.queryParams),this._queryParamMap}toString(){return C1.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dd(this)}},Sr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ni(this.parameters),this._parameterMap}toString(){return yC(this)}};function D1(n,e){return Ai(n,e)&&n.every((t,r)=>wn(t.parameters,e[r].parameters))}function Ai(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function b1(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Q&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Q&&(t=t.concat(e(i,r)))}),t}var pc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new Mi,providedIn:"root"})}return n})(),Mi=class{parse(e){let t=new cy(e);return new Dn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Xa(e.root,!0)}`,r=R1(e.queryParams),i=typeof e.fragment=="string"?`#${S1(e.fragment)}`:"";return`${t}${r}${i}`}},C1=new Mi;function Dd(n){return n.segments.map(e=>yC(e)).join("/")}function Xa(n,e){if(!n.hasChildren())return Dd(n);if(e){let t=n.children[Q]?Xa(n.children[Q],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${Xa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=b1(n,(r,i)=>i===Q?[Xa(n.children[Q],!1)]:[`${i}:${Xa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Q]!=null?`${Dd(n)}/${t[0]}`:`${Dd(n)}/(${t.join("//")})`}}function mC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Id(n){return mC(n).replace(/%3B/gi,";")}function S1(n){return encodeURI(n)}function ay(n){return mC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bd(n){return decodeURIComponent(n)}function rC(n){return bd(n.replace(/\+/g,"%20"))}function yC(n){return`${ay(n.path)}${A1(n.parameters)}`}function A1(n){return Object.entries(n).map(([e,t])=>`;${ay(e)}=${ay(t)}`).join("")}function R1(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Id(t)}=${Id(i)}`).join("&"):`${Id(t)}=${Id(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var N1=/^[^\/()?;#]+/;function ty(n){let e=n.match(N1);return e?e[0]:""}var M1=/^[^\/()?;=#]+/;function P1(n){let e=n.match(M1);return e?e[0]:""}var x1=/^[^=?&#]+/;function k1(n){let e=n.match(x1);return e?e[0]:""}var O1=/^[^&#]+/;function L1(n){let e=n.match(O1);return e?e[0]:""}var cy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Q]=new ge(e,t)),r}parseSegment(){let e=ty(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Sr(bd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=P1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ty(this.remaining);i&&(r=i,this.capture(r))}e[bd(t)]=bd(r)}parseQueryParam(e){let t=k1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=L1(this.remaining);s&&(r=s,this.capture(r))}let i=rC(t),o=rC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ty(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Q]:new ge([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function vC(n){return n.segments.length>0?new ge([],{[Q]:n}):n}function _C(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=_C(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ge(n.segments,e);return F1(t)}function F1(n){if(n.numberOfChildren===1&&n.children[Q]){let e=n.children[Q];return new ge(n.segments.concat(e.segments),e.children)}return n}function Go(n){return n instanceof Dn}function EC(n,e,t=null,r=null){let i=IC(n);return wC(i,e,t,r)}function IC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new ge(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=vC(r);return e??i}function wC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return ny(i,i,i,t,r);let o=V1(e);if(o.toRoot())return ny(i,i,new ge([],{}),t,r);let s=j1(o,i,n),c=s.processChildren?tc(s.segmentGroup,s.index,o.commands):DC(s.segmentGroup,s.index,o.commands);return ny(i,s.segmentGroup,c,t,r)}function Cd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ic(n){return typeof n=="object"&&n!=null&&n.outlets}function ny(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=TC(n,e,t);let c=vC(_C(s));return new Dn(c,o,i)}function TC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=TC(o,e,t)}),new ge(n.segments,r)}var Sd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cd(r[0]))throw new V(4003,!1);let i=r.find(ic);if(i&&i!==dC(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function V1(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Sd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Sd(t,e,r)}var zo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function j1(n,e,t){if(n.isAbsolute)return new zo(e,!0,0);if(!t)return new zo(e,!1,NaN);if(t.parent===null)return new zo(t,!0,0);let r=Cd(n.commands[0])?0:1,i=t.segments.length-1+r;return U1(t,i,n.numberOfDoubleDots)}function U1(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new zo(r,!1,i-o)}function B1(n){return ic(n[0])?n[0].outlets:{[Q]:n}}function DC(n,e,t){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return tc(n,e,t);let r=$1(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ge(n.segments.slice(0,r.pathIndex),{});return o.children[Q]=new ge(n.segments.slice(r.pathIndex),n.children),tc(o,0,i)}else return r.match&&i.length===0?new ge(n.segments,{}):r.match&&!n.hasChildren()?uy(n,e,t):r.match?tc(n,0,i):uy(n,e,t)}function tc(n,e,t){if(t.length===0)return new ge(n.segments,{});{let r=B1(t),i={};if(Object.keys(r).some(o=>o!==Q)&&n.children[Q]&&n.numberOfChildren===1&&n.children[Q].segments.length===0){let o=tc(n.children[Q],e,t);return new ge(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=DC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(n.segments,i)}}function $1(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(ic(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!oC(u,l,s))return o;r+=2}else{if(!oC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function uy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ic(o)){let u=H1(o.outlets);return new ge(r,u)}if(i===0&&Cd(t[0])){let u=n.segments[e];r.push(new Sr(u.path,iC(t[0]))),i++;continue}let s=ic(o)?o.outlets[Q]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Cd(c)?(r.push(new Sr(s,iC(c))),i+=2):(r.push(new Sr(s,{})),i++)}return new ge(r,{})}function H1(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=uy(new ge([],{}),0,r))}),e}function iC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function oC(n,e,t){return n==t.path&&wn(e,t.parameters)}var nc="imperative",Ke=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ke||{}),Ht=class{id;url;constructor(e,t){this.id=e,this.url=t}},Pi=class extends Ht{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qn=class extends Ht{urlAfterRedirects;type=Ke.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Et||{}),oc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(oc||{}),Tn=class extends Ht{reason;code;type=Ke.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gn=class extends Ht{reason;code;type=Ke.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Wo=class extends Ht{error;target;type=Ke.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sc=class extends Ht{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ad=class extends Ht{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rd=class extends Ht{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nd=class extends Ht{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Md=class extends Ht{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pd=class{route;type=Ke.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xd=class{route;type=Ke.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kd=class{snapshot;type=Ke.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Od=class{snapshot;type=Ke.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ld=class{snapshot;type=Ke.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fd=class{snapshot;type=Ke.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ac=class{},Ko=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function z1(n){return!(n instanceof ac)&&!(n instanceof Ko)}function q1(n,e){return n.providers&&!n._injector&&(n._injector=La(n.providers,e,`Route: ${n.path}`)),n._injector??e}function sn(n){return n.outlet||Q}function G1(n,e){let t=n.filter(r=>sn(r)===e);return t.push(...n.filter(r=>sn(r)!==e)),t}function Zo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Vd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Zo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Jo(this.rootInjector)}},Jo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Vd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(Be))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ly(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ly(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=dy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dy(e,this._root).map(t=>t.value)}};function ly(n,e){if(n===e.value)return e;for(let t of e.children){let r=ly(n,t);if(r)return r}return null}function dy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=dy(n,t);if(r.length)return r.unshift(e),r}return[]}var $t=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ho(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var cc=class extends jd{snapshot;constructor(e,t){super(e),this.snapshot=t,_y(this,e)}toString(){return this.snapshot.toString()}};function bC(n){let e=W1(n),t=new et([new Sr("",{})]),r=new et({}),i=new et({}),o=new et({}),s=new et(""),c=new Ar(t,r,o,s,i,Q,n,e.root);return c.snapshot=e.root,new cc(new $t(c,[]),e)}function W1(n){let e={},t={},r={},o=new Ri([],e,r,"",t,Q,n,null,{});return new uc("",new $t(o,[]))}var Ar=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[fc]))??H(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>Ni(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>Ni(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ud(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&SC(i)&&(r.resolve[fc]=i.title),r}var Ri=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ni(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ni(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},uc=class extends jd{url;constructor(e,t){super(t),this.url=e,_y(this,t)}toString(){return CC(this._root)}};function _y(n,e){e.value._routerState=n,e.children.forEach(t=>_y(n,t))}function CC(n){let e=n.children.length>0?` { ${n.children.map(CC).join(", ")} } `:"";return`${n.value}${e}`}function ry(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),wn(e.params,t.params)||n.paramsSubject.next(t.params),E1(e.url,t.url)||n.urlSubject.next(t.url),wn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hy(n,e){let t=wn(n.params,e.params)&&D1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||hy(n.parent,e.parent))}function SC(n){return typeof n.title=="string"||n.title===null}var AC=new j(""),gc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new _t;deactivateEvents=new _t;attachEvents=new _t;detachEvents=new _t;routerOutletData=kb(void 0);parentContexts=N(Jo);location=N(Ei);changeDetector=N(pd);inputBinder=N(zd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new fy(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=wi({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ql]})}return n})(),fy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ar?this.route:e===Jo?this.childContexts:e===AC?this.outletData:this.parent.get(e,t)}},zd=new j("");var Ey=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ut({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&nt(0,"router-outlet")},dependencies:[gc],encapsulation:2})}return n})();function Iy(n){let e=n.children&&n.children.map(Iy),t=e?Ee(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Q&&(t.component=Ey),t}function K1(n,e,t){let r=lc(n,e._root,t?t._root:void 0);return new cc(r,e)}function lc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Q1(n,e,t);return new $t(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>lc(n,c)),s}}let r=Y1(e.value),i=e.children.map(o=>lc(n,o));return new $t(r,i)}}function Q1(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return lc(n,r,i);return lc(n,r)})}function Y1(n){return new Ar(new et(n.url),new et(n.params),new et(n.queryParams),new et(n.fragment),new et(n.data),n.outlet,n.component,n)}var Qo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},RC="ngNavigationCancelingError";function Bd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Go(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NC(!1,Et.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function NC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[RC]=!0,t.cancellationCode=e,t}function Z1(n){return MC(n)&&Go(n.url)}function MC(n){return!!n&&n[RC]}var J1=(n,e,t,r)=>te(i=>(new py(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),py=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ry(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ho(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ho(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Fd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Od(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ry(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),ry(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},$d=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function X1(n,e,t){let r=n._root,i=e?e._root:null;return ec(r,i,t,[r.value])}function eL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Xo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Np(n)?n:e.get(n):r}function ec(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ho(e);return n.children.forEach(s=>{tL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>rc(c,t.getContext(s),i)),i}function tL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=nL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $d(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ec(n,e,c?c.children:null,r,i):ec(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new qo(c.outlet.component,s))}else s&&rc(e,c,i),i.canActivateChecks.push(new $d(r)),o.component?ec(n,null,c?c.children:null,r,i):ec(n,null,t,r,i);return i}function nL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ai(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ai(n.url,e.url)||!wn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hy(n,e)||!wn(n.queryParams,e.queryParams);case"paramsChange":default:return!hy(n,e)}}function rc(n,e,t){let r=Ho(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?rc(s,e.children.getContext(o),t):rc(s,null,t):rc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new qo(e.outlet.component,i)):t.canDeactivateChecks.push(new qo(null,i)):t.canDeactivateChecks.push(new qo(null,i))}function mc(n){return typeof n=="function"}function rL(n){return typeof n=="boolean"}function iL(n){return n&&mc(n.canLoad)}function oL(n){return n&&mc(n.canActivate)}function sL(n){return n&&mc(n.canActivateChild)}function aL(n){return n&&mc(n.canDeactivate)}function cL(n){return n&&mc(n.canMatch)}function PC(n){return n instanceof On||n?.name==="EmptyError"}var wd=Symbol("INITIAL_VALUE");function Yo(){return bt(n=>Qu(n.map(e=>e.pipe(Ln(1),Ju(wd)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===wd)return wd;if(t===!1||uL(t))return t}return!0}),kt(e=>e!==wd),Ln(1)))}function uL(n){return Go(n)||n instanceof Qo}function lL(n,e){return Ue(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?H(Ee(L({},t),{guardsResult:!0})):dL(s,r,i,n).pipe(Ue(c=>c&&rL(c)?hL(r,o,n,e):H(c)),te(c=>Ee(L({},t),{guardsResult:c})))})}function dL(n,e,t,r){return xe(n).pipe(Ue(i=>yL(i.component,i.route,t,e,r)),Fn(i=>i!==!0,!0))}function hL(n,e,t,r){return xe(e).pipe(vo(i=>yo(pL(i.route.parent,r),fL(i.route,r),mL(n,i.path,t),gL(n,i.route,t))),Fn(i=>i!==!0,!0))}function fL(n,e){return n!==null&&e&&e(new Ld(n)),H(!0)}function pL(n,e){return n!==null&&e&&e(new kd(n)),H(!0)}function gL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>oa(()=>{let s=Zo(e)??t,c=Xo(o,s),u=oL(c)?c.canActivate(e,n):$e(s,()=>c(e,n));return Wn(u).pipe(Fn())}));return H(i).pipe(Yo())}function mL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>eL(s)).filter(s=>s!==null).map(s=>oa(()=>{let c=s.guards.map(u=>{let l=Zo(s.node)??t,f=Xo(u,l),p=sL(f)?f.canActivateChild(r,n):$e(l,()=>f(r,n));return Wn(p).pipe(Fn())});return H(c).pipe(Yo())}));return H(o).pipe(Yo())}function yL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(c=>{let u=Zo(e)??i,l=Xo(c,u),f=aL(l)?l.canDeactivate(n,e,t,r):$e(u,()=>l(n,e,t,r));return Wn(f).pipe(Fn())});return H(s).pipe(Yo())}function vL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let c=Xo(s,n),u=iL(c)?c.canLoad(e,t):$e(n,()=>c(e,t));return Wn(u)});return H(o).pipe(Yo(),xC(r))}function xC(n){return ku(qe(e=>{if(typeof e!="boolean")throw Bd(n,e)}),te(e=>e===!0))}function _L(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let c=Xo(s,n),u=cL(c)?c.canMatch(e,t):$e(n,()=>c(e,t));return Wn(u)});return H(o).pipe(Yo(),xC(r))}var dc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},hc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function $o(n){return mo(new dc(n))}function EL(n){return mo(new V(4e3,!1))}function IL(n){return mo(NC(!1,Et.GuardRejected))}var gy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[Q])return EL(`${e.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(e,t,r,i,o){return wL(t,i,o).pipe(te(s=>{if(s instanceof Dn)throw new hc(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new hc(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Dn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function wL(n,e,t){if(typeof n=="string")return H(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:f,title:p}=e;return Wn($e(t,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var my={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TL(n,e,t,r,i){let o=kC(n,e,t);return o.matched?(r=q1(e,r),_L(r,e,t,i).pipe(te(s=>s===!0?o:L({},my)))):H(o)}function kC(n,e,t){if(e.path==="**")return DL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},my):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uC)(t,n,e);if(!i)return L({},my);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function DL(n){return{matched:!0,parameters:n.length>0?dC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sC(n,e,t,r){return t.length>0&&SL(n,t,r)?{segmentGroup:new ge(e,CL(r,new ge(t,n.children))),slicedSegments:[]}:t.length===0&&AL(n,t,r)?{segmentGroup:new ge(n.segments,bL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:t}}function bL(n,e,t,r){let i={};for(let o of t)if(qd(n,e,o)&&!r[sn(o)]){let s=new ge([],{});i[sn(o)]=s}return L(L({},r),i)}function CL(n,e){let t={};t[Q]=e;for(let r of n)if(r.path===""&&sn(r)!==Q){let i=new ge([],{});t[sn(r)]=i}return t}function SL(n,e,t){return t.some(r=>qd(n,e,r)&&sn(r)!==Q)}function AL(n,e,t){return t.some(r=>qd(n,e,r))}function qd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function RL(n,e,t){return e.length===0&&!n.children[t]}var yy=class{};function NL(n,e,t,r,i,o,s="emptyOnly"){return new vy(n,e,t,r,i,s,o).recognize()}var ML=31,vy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new gy(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=sC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new $t(r,t),o=new uc("",i),s=EC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ri([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Q,t).pipe(te(r=>({children:r,rootSnapshot:t})),hr(r=>{if(r instanceof hc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof dc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(te(s=>s instanceof $t?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(vo(s=>{let c=r.children[s],u=G1(t,s);return this.processSegmentGroup(e,u,c,s,i)}),Zu((s,c)=>(s.push(...c),s)),fr(null),gp(),Ue(s=>{if(s===null)return $o(r);let c=OC(s);return PL(c),H(c)}))}processSegment(e,t,r,i,o,s,c){return xe(t).pipe(vo(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(hr(l=>{if(l instanceof dc)return H(null);throw l}))),Fn(u=>!!u),hr(u=>{if(PC(u))return RL(r,i,o)?H(new yy):$o(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return sn(r)!==s&&(s===Q||!qd(i,o,r))?$o(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):$o(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=kC(t,i,o);if(!u)return $o(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ML&&(this.allowRedirects=!1));let v=new Ri(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,aC(i),sn(i),i.component??i._loadedComponent??null,i,cC(i)),S=Ud(v,c,this.paramsInheritanceStrategy);return v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,v,e).pipe(bt(A=>this.applyRedirects.lineralizeSegments(i,A)),Ue(A=>this.processSegment(e,r,t,A.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=TL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new Ri(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,aC(r),sn(r),r.component??r._loadedComponent??null,r,cC(r)),R=Ud(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data);let{segmentGroup:A,slicedSegments:F}=sC(t,m,v,l);if(F.length===0&&A.hasChildren())return this.processChildren(f,l,A,S).pipe(te(Z=>new $t(S,Z)));if(l.length===0&&F.length===0)return H(new $t(S,[]));let J=sn(r)===o;return this.processSegment(f,l,A,F,J?Q:o,!0,S).pipe(te(Z=>new $t(S,Z instanceof $t?[Z]:[])))}))):$o(t)))}getChildConfig(e,t,r){return t.children?H({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?H({routes:t._loadedRoutes,injector:t._loadedInjector}):vL(e,t,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,t).pipe(qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):IL(t))):H({routes:[],injector:e})}};function PL(n){n.sort((e,t)=>e.value.outlet===Q?-1:t.value.outlet===Q?1:e.value.outlet.localeCompare(t.value.outlet))}function xL(n){let e=n.value.routeConfig;return e&&e.path===""}function OC(n){let e=[],t=new Set;for(let r of n){if(!xL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=OC(r.children);e.push(new $t(r.value,i))}return e.filter(r=>!t.has(r))}function aC(n){return n.data||{}}function cC(n){return n.resolve||{}}function kL(n,e,t,r,i,o){return Ue(s=>NL(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:c,tree:u})=>Ee(L({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function OL(n,e){return Ue(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of LC(u))s.add(l);let c=0;return xe(s).pipe(vo(u=>o.has(u)?LL(u,r,n,e):(u.data=Ud(u,u.parent,n).resolve,H(void 0))),qe(()=>c++),_o(1),Ue(u=>c===s.size?H(t):Tt))})}function LC(n){let e=n.children.map(t=>LC(t)).flat();return[n,...e]}function LL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!SC(i)&&(o[fc]=i.title),oa(()=>(n.data=Ud(n,n.parent,t).resolve,FL(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=L(L({},n.data),s),null)))))}function FL(n,e,t,r){let i=sy(n);if(i.length===0)return H({});let o={};return xe(i).pipe(Ue(s=>VL(n[s],e,t,r).pipe(Fn(),qe(c=>{if(c instanceof Qo)throw Bd(new Mi,c);o[s]=c}))),_o(1),te(()=>o),hr(s=>PC(s)?Tt:mo(s)))}function VL(n,e,t,r){let i=Zo(e)??r,o=Xo(n,i),s=o.resolve?o.resolve(e,t):$e(i,()=>o(e,t));return Wn(s)}function iy(n){return bt(e=>{let t=n(e);return t?xe(t).pipe(te(()=>e)):H(e)})}var wy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(t){return t.data[fc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(FC),providedIn:"root"})}return n})(),FC=(()=>{class n extends wy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(tC))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yc=new j("",{providedIn:"root",factory:()=>({})}),vc=new j(""),VC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Sm);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Wn($e(t,()=>r.loadComponent())).pipe(te(UC),bt(BC),qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),sa(()=>{this.componentLoaders.delete(r)})),o=new ho(i,()=>new Xe).pipe(lo());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=jC(r,this.compiler,t,this.onLoadEndListener).pipe(sa(()=>{this.childrenLoaders.delete(r)})),s=new ho(o,()=>new Xe).pipe(lo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jC(n,e,t,r){return Wn($e(t,()=>n.loadChildren())).pipe(te(UC),bt(BC),Ue(i=>i instanceof od||Array.isArray(i)?H(i):xe(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(vc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Iy),injector:o}}))}function jL(n){return n&&typeof n=="object"&&"default"in n}function UC(n){return jL(n)?n.default:n}function BC(n){return H(n)}var Gd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(UL),providedIn:"root"})}return n})(),UL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$C=new j("");var HC=new j(""),zC=(()=>{class n{currentNavigation=Ro(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Xe;transitionAbortWithErrorSubject=new Xe;configLoader=N(VC);environmentInjector=N(Be);destroyRef=N(Ir);urlSerializer=N(pc);rootContexts=N(Jo);location=N(Uo);inputBindingEnabled=N(zd,{optional:!0})!==null;titleStrategy=N(wy);options=N(yc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Gd);createViewTransition=N($C,{optional:!0});navigationErrorHandler=N(HC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Pd(i)),r=i=>this.events.next(new xd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;on(()=>{this.transitions?.next(Ee(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new et(null),this.transitions.pipe(kt(r=>r!==null),bt(r=>{let i=!1;return H(r).pipe(bt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Et.SupersededByNewNavigation),Tt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.rawUrl),"",oc.IgnoredSameUrlNavigation)),o.resolve(!1),Tt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return H(o).pipe(bt(u=>(this.events.next(new Pi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Tt:Promise.resolve(u))),kL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let l=new sc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:f,restoredState:p,extras:m}=o,v=new Pi(u,this.urlSerializer.serialize(l),f,p);this.events.next(v);let S=bC(this.rootComponentType).snapshot;return this.currentTransition=r=Ee(L({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:Ee(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=l,R)),H(r)}else return this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",oc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Tt}),qe(o=>{let s=new Ad(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),te(o=>(this.currentTransition=r=Ee(L({},o),{guards:X1(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),lL(this.environmentInjector,o=>this.events.next(o)),qe(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Bd(this.urlSerializer,o.guardsResult);let s=new Rd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),kt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Et.GuardRejected),!1)),iy(o=>{if(o.guards.canActivateChecks.length!==0)return H(o).pipe(qe(s=>{let c=new Nd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),bt(s=>{let c=!1;return H(s).pipe(OL(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",Et.NoDataFromResolver)}}))}),qe(s=>{let c=new Md(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),iy(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let l=Zo(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(qe(f=>{c.component=f}),te(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return Qu(s(o.targetSnapshot.root)).pipe(fr(null),Ln(1))}),iy(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?xe(c).pipe(te(()=>r)):H(r)}),te(o=>{let s=K1(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Ee(L({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),qe(()=>{this.events.next(new ac)}),J1(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ln(1),Xu(new X(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(kt(()=>!i&&!r.targetRouterState),qe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Et.Aborted)}))),qe({next:o=>{i=!0,this.lastSuccessfulNavigation=on(this.currentNavigation),this.events.next(new qn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Xu(this.transitionAbortWithErrorSubject.pipe(qe(o=>{throw o}))),sa(()=>{i||this.cancelNavigationTransition(r,"",Et.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),hr(o=>{if(this.destroyed)return r.resolve(!1),Tt;if(i=!0,MC(o))this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Z1(o)?this.events.next(new Ko(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Wo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=$e(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof Qo){let{message:u,cancellationCode:l}=Bd(this.urlSerializer,c);this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ko(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Tt}))}))}cancelNavigationTransition(t,r,i){let o=new Tn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=on(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BL(n){return n!==nc}var qC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N($L),providedIn:"root"})}return n})(),Hd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},$L=(()=>{class n extends Hd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wl(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GC=(()=>{class n{urlSerializer=N(pc);options=N(yc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Uo);urlHandlingStrategy=N(Gd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Dn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=bC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(HL),providedIn:"root"})}return n})(),HL=(()=>{class n extends GC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Pi?this.updateStateMemento():t instanceof Gn?this.commitTransition(r):t instanceof sc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ac?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Tn&&t.code!==Et.SupersededByNewNavigation&&t.code!==Et.Redirect?this.restoreHistory(r):t instanceof Wo?this.restoreHistory(r,!0):t instanceof qn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wl(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ty(n,e){n.events.pipe(kt(t=>t instanceof qn||t instanceof Tn||t instanceof Wo||t instanceof Gn),te(t=>t instanceof qn||t instanceof Gn?0:(t instanceof Tn?t.code===Et.Redirect||t.code===Et.SupersededByNewNavigation:!1)?2:1),kt(t=>t!==2),Ln(1)).subscribe(()=>{e()})}var zL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wd=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(vm);stateManager=N(GC);options=N(yc,{optional:!0})||{};pendingTasks=N(vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(zC);urlSerializer=N(pc);location=N(Uo);urlHandlingStrategy=N(Gd);injector=N(Be);_events=new Xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(qC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(vc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(zd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Re;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=on(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Tn&&r.code!==Et.Redirect&&r.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qn)this.navigated=!0;else if(r instanceof Ko){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||BL(i.source)},s);this.scheduleNavigation(c,nc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}z1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(Rt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return on(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Iy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=IC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return wC(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Go(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,nc,null,r)}navigate(t,r={skipLocationChange:!1}){return GL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},zL):r===!1?i=L({},qL):i=r,Go(t))return nC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return nC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return Ty(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var KL=new j("");function Dy(n,...e){return Ot([{provide:vc,multi:!0,useValue:n},[],{provide:Ar,useFactory:QL,deps:[Wd]},{provide:ad,multi:!0,useFactory:YL},e.map(t=>t.\u0275providers)])}function QL(n){return n.routerState.root}function YL(){let n=N(Ge);return e=>{let t=n.get(Di);if(e!==t.components[0])return;let r=n.get(Wd),i=n.get(ZL);n.get(JL)===1&&r.initialNavigation(),n.get(XL,null,{optional:!0})?.setUpPreloading(),n.get(KL,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ZL=new j("",{factory:()=>new Xe}),JL=new j("",{providedIn:"root",factory:()=>1});var XL=new j("");var WC=()=>{};var YC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Kd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(t[f],t[p],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Cy;let m=o<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Cy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nF=function(n){let e=YC(n);return Kd.encodeByteArray(e,!0)},Ec=function(n){return nF(n).replace(/\./g,"")},Qd=function(n){try{return Kd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ay(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var rF=()=>Ay().__FIREBASE_DEFAULTS__,iF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Qd(n[1]);return e&&JSON.parse(e)},Yd=()=>{try{return WC()||rF()||iF()||oF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ry=n=>{var e,t;return(t=(e=Yd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ZC=n=>{let e=Ry(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ny=()=>{var n;return(n=Yd())===null||n===void 0?void 0:n.config},My=n=>{var e;return(e=Yd())===null||e===void 0?void 0:e[`_${n}`]};var xi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Rr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zd(n){return(await fetch(n,{credentials:"include"})).ok}function JC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ec(JSON.stringify(t)),Ec(JSON.stringify(s)),""].join(".")}var _c={};function sF(){let n={prod:[],emulator:[]};for(let e of Object.keys(_c))_c[e]?n.emulator.push(e):n.prod.push(e);return n}function aF(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var KC=!1;function Jd(n,e){if(typeof window>"u"||typeof document>"u"||!Rr(window.location.host)||_c[n]===e||_c[n]||KC)return;_c[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=sF().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{KC=!0,s()},m}function f(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=aF(r),v=t("text"),S=document.getElementById(v)||document.createElement("span"),R=t("learnmore"),A=document.getElementById(R)||document.createElement("a"),F=t("preprendIcon"),J=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Z=m.element;c(Z),f(A,R);let Ie=l();u(J,F),Z.append(J,S,A,Ie),document.body.appendChild(Z)}o?(S.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function cF(){var n;let e=(n=Yd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rS(){let n=Qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iS(){return!cF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ic(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var uF="FirebaseError",zt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=uF,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}},an=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?lF(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new zt(i,c,r)}};function lF(n,e){return n.replace(dF,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var dF=/\{\$([^}]+)}/g;function sS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(QC(o)&&QC(s)){if(!bn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function QC(n){return n!==null&&typeof n=="object"}function wc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aS(n,e){let t=new Sy(n,e);return t.subscribe.bind(t)}var Sy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");hF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=by),i.error===void 0&&(i.error=by),i.complete===void 0&&(i.complete=by);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function hF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function by(){}var TX=14400*1e3;function Mt(n){return n&&n._delegate?n._delegate:n}var It=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ki="[DEFAULT]";var Py=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new xi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pF(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function fF(n){return n===ki?void 0:n}function pF(n){return n.instantiationMode==="EAGER"}var Xd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Py(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var gF=[],ie=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ie||{}),mF={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},yF=ie.INFO,vF={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},_F=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=vF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cn=class{constructor(e){this.name=e,this._logLevel=yF,this._logHandler=_F,this._userLogHandler=null,gF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var EF=(n,e)=>e.some(t=>n instanceof t),cS,uS;function IF(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wF(){return uS||(uS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var lS=new WeakMap,ky=new WeakMap,dS=new WeakMap,xy=new WeakMap,Ly=new WeakMap;function TF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Sn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&lS.set(t,n)}).catch(()=>{}),Ly.set(e,n),e}function DF(n){if(ky.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});ky.set(n,e)}var Oy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ky.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hS(n){Oy=n(Oy)}function bF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(eh(this),e,...t);return dS.set(r,e.sort?e.sort():[e]),Sn(r)}:wF().includes(n)?function(...e){return n.apply(eh(this),e),Sn(lS.get(this))}:function(...e){return Sn(n.apply(eh(this),e))}}function CF(n){return typeof n=="function"?bF(n):(n instanceof IDBTransaction&&DF(n),EF(n,IF())?new Proxy(n,Oy):n)}function Sn(n){if(n instanceof IDBRequest)return TF(n);if(xy.has(n))return xy.get(n);let e=CF(n);return e!==n&&(xy.set(n,e),Ly.set(e,n)),e}var eh=n=>Ly.get(n);function pS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Sn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Sn(s.result),u.oldVersion,u.newVersion,Sn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var SF=["get","getKey","getAll","getAllKeys","count"],AF=["put","add","delete","clear"],Fy=new Map;function fS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fy.get(e))return Fy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=AF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SF.includes(t)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[t](...c),i&&u.done]))[0]};return Fy.set(e,o),o}hS(n=>Ee(L({},n),{get:(e,t,r)=>fS(e,t)||n.get(e,t,r),has:(e,t)=>!!fS(e,t)||n.has(e,t)}));var jy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function RF(n){let e=n.getComponent();return e?.type==="VERSION"}var Uy="@firebase/app",gS="0.13.2";var Kn=new Cn("@firebase/app"),NF="@firebase/app-compat",MF="@firebase/analytics-compat",PF="@firebase/analytics",xF="@firebase/app-check-compat",kF="@firebase/app-check",OF="@firebase/auth",LF="@firebase/auth-compat",FF="@firebase/database",VF="@firebase/data-connect",jF="@firebase/database-compat",UF="@firebase/functions",BF="@firebase/functions-compat",$F="@firebase/installations",HF="@firebase/installations-compat",zF="@firebase/messaging",qF="@firebase/messaging-compat",GF="@firebase/performance",WF="@firebase/performance-compat",KF="@firebase/remote-config",QF="@firebase/remote-config-compat",YF="@firebase/storage",ZF="@firebase/storage-compat",JF="@firebase/firestore",XF="@firebase/ai",eV="@firebase/firestore-compat",tV="firebase",nV="11.10.0";var By="[DEFAULT]",rV={[Uy]:"fire-core",[NF]:"fire-core-compat",[PF]:"fire-analytics",[MF]:"fire-analytics-compat",[kF]:"fire-app-check",[xF]:"fire-app-check-compat",[OF]:"fire-auth",[LF]:"fire-auth-compat",[FF]:"fire-rtdb",[VF]:"fire-data-connect",[jF]:"fire-rtdb-compat",[UF]:"fire-fn",[BF]:"fire-fn-compat",[$F]:"fire-iid",[HF]:"fire-iid-compat",[zF]:"fire-fcm",[qF]:"fire-fcm-compat",[GF]:"fire-perf",[WF]:"fire-perf-compat",[KF]:"fire-rc",[QF]:"fire-rc-compat",[YF]:"fire-gcs",[ZF]:"fire-gcs-compat",[JF]:"fire-fst",[eV]:"fire-fst-compat",[XF]:"fire-vertex","fire-js":"fire-js",[tV]:"fire-js-all"};var Tc=new Map,iV=new Map,$y=new Map;function mS(n,e){try{n.container.addComponent(e)}catch(t){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function cn(n){let e=n.name;if($y.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,n);for(let t of Tc.values())mS(t,n);for(let t of iV.values())mS(t,n);return!0}function es(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wt(n){return n==null?!1:n.settings!==void 0}var oV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new an("app","Firebase",oV);var Hy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}};var Mr=nV;function Gy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:By,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Nr.create("bad-app-name",{appName:String(i)});if(t||(t=Ny()),!t)throw Nr.create("no-options");let o=Tc.get(i);if(o){if(bn(t,o.options)&&bn(r,o.config))return o;throw Nr.create("duplicate-app",{appName:i})}let s=new Xd(i);for(let u of $y.values())s.addComponent(u);let c=new Hy(t,r,s);return Tc.set(i,c),c}function Oi(n=By){let e=Tc.get(n);if(!e&&n===By&&Ny())return Gy();if(!e)throw Nr.create("no-app",{appName:n});return e}function th(){return Array.from(Tc.values())}function Me(n,e,t){var r;let i=(r=rV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(c.join(" "));return}cn(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var sV="firebase-heartbeat-database",aV=1,Dc="firebase-heartbeat-store",Vy=null;function ES(){return Vy||(Vy=pS(sV,aV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Dc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Nr.create("idb-open",{originalErrorMessage:n.message})})),Vy}async function cV(n){try{let t=(await ES()).transaction(Dc),r=await t.objectStore(Dc).get(IS(n));return await t.done,r}catch(e){if(e instanceof zt)Kn.warn(e.message);else{let t=Nr.create("idb-get",{originalErrorMessage:e?.message});Kn.warn(t.message)}}}async function yS(n,e){try{let r=(await ES()).transaction(Dc,"readwrite");await r.objectStore(Dc).put(e,IS(n)),await r.done}catch(t){if(t instanceof zt)Kn.warn(t.message);else{let r=Nr.create("idb-set",{originalErrorMessage:t?.message});Kn.warn(r.message)}}}function IS(n){return`${n.name}!${n.options.appId}`}var uV=1024,lV=30,zy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new qy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>lV){let s=hV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=vS(),{heartbeatsToSend:r,unsentEntries:i}=dV(this._heartbeatsCache.heartbeats),o=Ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Kn.warn(t),""}}};function vS(){return new Date().toISOString().substring(0,10)}function dV(n,e=uV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_S(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_S(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var qy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ic()?oS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await cV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return yS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return yS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function _S(n){return Ec(JSON.stringify({version:2,heartbeats:n})).length}function hV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function fV(n){cn(new It("platform-logger",e=>new jy(e),"PRIVATE")),cn(new It("heartbeat",e=>new zy(e),"PRIVATE")),Me(Uy,gS,n),Me(Uy,gS,"esm2017"),Me("fire-js","")}fV("");var pV="firebase",gV="11.10.0";Me(pV,gV,"app");function wS(n){n===void 0&&(n=N(Ge));let e=n.get(No);return t=>new X(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Pr=new Io("ANGULARFIRE2_VERSION");function bc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ns=(n,e)=>{let t=e?[e]:th(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ts=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ts||{}),TS=Om()&&typeof Zone<"u"?ts.WARN:ts.SILENT;var nh=class{zone;delegate;constructor(e,t=hp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},xr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(_e);this.outsideAngular=t.runOutsideAngular(()=>new nh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new nh(typeof Zone>"u"?void 0:Zone.current,dp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DS=!1;function mV(n,e){!DS&&(TS>ts.SILENT||Om())&&(DS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),TS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function yV(n){let e=N(_e,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Li(n){let e=N(_e,{optional:!0});return e?e.run(()=>n()):n()}var vV=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),$e(t,()=>Li(()=>n.apply(void 0,r)))),un=(n,e,t)=>(t||=e?ts.WARN:ts.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=N(xr),s=N(No),c=N(Be)}catch{return mV(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Li(()=>s.add())),i[l]=vV(i[l],r,c));let u=yV(()=>n.apply(this,i));return e?u instanceof X?u.pipe(dr(o.outsideAngular),lr(o.insideAngular),wS(c)):u instanceof Promise?Li(()=>{let l=s.add();return new Promise((f,p)=>{u.then(m=>$e(c,()=>Li(()=>f(m))),m=>$e(c,()=>Li(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Li(()=>u):u instanceof X?u.pipe(dr(o.outsideAngular),lr(o.insideAngular)):Li(()=>u)});var Qn=class{constructor(e){return e}},Fi=class{constructor(){return th()}};function _V(n){return n&&n.length===1?n[0]:new Qn(Oi())}var Wy=new j("angularfire2._apps"),EV={provide:Qn,useFactory:_V,deps:[[new jt,Wy]]},IV={provide:Fi,deps:[[new jt,Wy]]};function wV(n){return(e,t)=>{let r=t.get(Tr);Me("angularfire",Pr.full,"core"),Me("angularfire",Pr.full,"app"),Me("angular",Ap.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Qn(i)}}function bS(n,...e){return Ot([EV,IV,{provide:Wy,useFactory:wV(n),multi:!0,deps:[_e,Ge,xr,...e]}])}var CS=un(Gy,!0);var TV=new Map,DV={activated:!1,tokenObservers:[]},bV={initialized:!1,enabled:!1};function ln(n){return TV.get(n)||Object.assign({},DV)}function NS(){return bV}var CV="https://content-firebaseappcheck.googleapis.com/v1";var SV="exchangeDebugToken",SS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Tee=1440*60*1e3;var Yy=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new xi,this.pending.promise.catch(t=>{}),await AV(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new xi,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function AV(n){return new Promise(e=>{setTimeout(e,n)})}var RV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},kr=new an("appCheck","AppCheck",RV);function MS(n){if(!ln(n).activated)throw kr.create("use-before-activation",{appName:n.name})}async function PS({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw kr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw kr.create("fetch-status-error",{httpStatus:s.status});let c;try{c=await s.json()}catch(p){throw kr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw kr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let l=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+l,issuedAtTimeMillis:f}}function xS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${CV}/projects/${t}/apps/${r}:${SV}?key=${i}`,body:{debug_token:e}}}var NV="firebase-app-check-database",MV=1,Zy="firebase-app-check-store";var rh=null;function PV(){return rh||(rh=new Promise((n,e)=>{try{let t=indexedDB.open(NV,MV);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(kr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Zy,{keyPath:"compositeKey"})}}}catch(t){e(kr.create("storage-open",{originalErrorMessage:t?.message}))}}),rh)}function xV(n,e){return kV(OV(n),e)}async function kV(n,e){let r=(await PV()).transaction(Zy,"readwrite"),o=r.objectStore(Zy).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(kr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function OV(n){return`${n.options.appId}-${n.name}`}var Cc=new Cn("@firebase/app-check");function Ky(n,e){return Ic()?xV(n,e).catch(t=>{Cc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kS(){return NS().enabled}async function OS(){let n=NS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var LV={error:"UNKNOWN_ERROR"};function FV(n){return Kd.encodeString(JSON.stringify(n),!1)}async function Jy(n,e=!1,t=!1){let r=n.app;MS(r);let i=ln(r),o=i.token,s;if(o&&!Sc(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Sc(l)?o=l:await Ky(r,void 0))}if(!e&&o&&Sc(o))return{token:o.token};let c=!1;if(kS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=PS(xS(r,await OS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=await i.exchangeTokenPromise;return await Ky(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Cc.warn(l.message):t&&Cc.error(l),Qy(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=await ln(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Cc.warn(l.message):t&&Cc.error(l),s=l}let u;return o?s?Sc(o)?u={token:o.token,internalError:s}:u=Qy(s):(u={token:o.token},i.token=o,await Ky(r,o)):u=Qy(s),c&&BV(r,u),u}async function VV(n){let e=n.app;MS(e);let{provider:t}=ln(e);if(kS()){let r=await OS(),{token:i}=await PS(xS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function jV(n,e,t,r){let{app:i}=n,o=ln(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Sc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),AS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>AS(n))}function LS(n,e){let t=ln(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function AS(n){let{app:e}=n,t=ln(e),r=t.tokenRefresher;r||(r=UV(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function UV(n){let{app:e}=n;return new Yy(async()=>{let t=ln(e),r;if(t.token?r=await Jy(n,!0):r=await Jy(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=ln(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},SS.RETRIAL_MIN_WAIT,SS.RETRIAL_MAX_WAIT)}function BV(n,e){let t=ln(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Sc(n){return n.expireTimeMillis-Date.now()>0}function Qy(n){return{token:FV(LV),error:n}}var Xy=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ln(this.app);for(let t of e)LS(this.app,t.next);return Promise.resolve()}};function $V(n,e){return new Xy(n,e)}function HV(n){return{getToken:e=>Jy(n,e),getLimitedUseToken:()=>VV(n),addTokenListener:e=>jV(n,"INTERNAL",e),removeTokenListener:e=>LS(n.app,e)}}var zV="@firebase/app-check",qV="0.10.1";var GV="app-check",RS="app-check-internal";function WV(){cn(new It(GV,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return $V(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RS).initialize()})),cn(new It(RS,n=>{let e=n.getProvider("app-check").getImmediate();return HV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(zV,qV)}WV();var KV="app-check";var rs=class{constructor(){return ns(KV)}};var QV=["localhost","0.0.0.0","127.0.0.1"],Oee=typeof window<"u"&&QV.includes(window.location.hostname);function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var JS=ZS,XS=new an("auth","Firebase",ZS());var uh=new Cn("@firebase/auth");function YV(n,...e){uh.logLevel<=ie.WARN&&uh.warn(`Auth (${Mr}): ${n}`,...e)}function oh(n,...e){uh.logLevel<=ie.ERROR&&uh.error(`Auth (${Mr}): ${n}`,...e)}function Fr(n,...e){throw _v(n,...e)}function ji(n,...e){return _v(n,...e)}function eA(n,e,t){let r=Object.assign(Object.assign({},JS()),{[e]:t});return new an("auth","Firebase",r).create(e,{appName:n.name})}function Vi(n){return eA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _v(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XS.create(n,...e)}function $(n,e,...t){if(!n)throw _v(e,...t)}function Yn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw oh(e),new Error(e)}function Vr(n,e){n||Yn(e)}function rv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ZV(){return FS()==="http:"||FS()==="https:"}function FS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function JV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZV()||tS()||"connection"in navigator)?navigator.onLine:!0}function XV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ui=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vr(t>e,"Short delay should be less than long delay!"),this.isMobile=XC()||nS()}get(){return JV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ev(n,e){Vr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var lh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var e2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var t2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n2=new Ui(3e4,6e4);function Iv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function is(n,e,t,r,i={}){return tA(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=wc(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:u},o);return eS()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&Rr(n.emulatorConfig.host)&&(l.credentials="include"),lh.fetch()(await nA(n,n.config.apiHost,t,c),l)})}async function tA(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},e2),e);try{let i=new iv(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw ih(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ih(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw ih(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw eA(n,f,l);Fr(n,f)}}catch(i){if(i instanceof zt)throw i;Fr(n,"network-request-failed",{message:String(i)})}}async function r2(n,e,t,r,i={}){let o=await is(n,e,t,r,i);return"mfaPendingCredential"in o&&Fr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function nA(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Ev(n.config,i):`${n.config.apiScheme}://${i}`;return t2.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var iv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),n2.get())})}};function ih(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ji(n,e,r);return i.customData._tokenResponse=t,i}async function i2(n,e){return is(n,"POST","/v1/accounts:delete",e)}async function dh(n,e){return is(n,"POST","/v1/accounts:lookup",e)}function Ac(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wv(n,e=!1){let t=Mt(n),r=await t.getIdToken(e),i=Tv(r);$(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ac(ev(i.auth_time)),issuedAtTime:Ac(ev(i.iat)),expirationTime:Ac(ev(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ev(n){return Number(n)*1e3}function Tv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Qd(t);return i?JSON.parse(i):(oh("Failed to decode base64 JWT payload"),null)}catch(i){return oh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function VS(n){let e=Tv(n);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Nc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zt&&o2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function o2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ov=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Mc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function hh(n){var e;let t=n.auth,r=await n.getIdToken(),i=await Nc(n,dh(t,{idToken:r}));$(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?rA(o.providerUserInfo):[],c=s2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Mc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function Dv(n){let e=Mt(n);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rA(n){return n.map(e=>{var{providerId:t}=e,r=fp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function a2(n,e){let t=await tA(n,{},async()=>{let r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await nA(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Rr(n.emulatorConfig.host)&&(u.credentials="include"),lh.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function c2(n,e){return is(n,"POST","/v2/accounts:revokeToken",Iv(n,e))}var Rc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(e.length!==0,"internal-error");let t=VS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await a2(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&($(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&($(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Yn("not implemented")}};function Or(n,e){$(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Lr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ov(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return $(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wv(this,e)}reload(){return Dv(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wt(this.auth.app))return Promise.reject(Vi(this.auth));let e=await this.getIdToken();return await Nc(this,i2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,J=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:Ie,isAnonymous:dt,providerData:ve,stsTokenManager:w}=t;$(Z&&w,e,"internal-error");let y=Rc.fromJSON(this.name,w);$(typeof Z=="string",e,"internal-error"),Or(p,e.name),Or(m,e.name),$(typeof Ie=="boolean",e,"internal-error"),$(typeof dt=="boolean",e,"internal-error"),Or(v,e.name),Or(S,e.name),Or(R,e.name),Or(A,e.name),Or(F,e.name),Or(J,e.name);let E=new n({uid:Z,auth:e,email:m,emailVerified:Ie,displayName:p,isAnonymous:dt,photoURL:S,phoneNumber:v,tenantId:R,stsTokenManager:y,createdAt:F,lastLoginAt:J});return ve&&Array.isArray(ve)&&(E.providerData=ve.map(I=>Object.assign({},I))),A&&(E._redirectEventId=A),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new Rc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hh(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];$(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?rA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Rc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var jS=new Map;function Zn(n){Vr(n instanceof Function,"Expected a class definition");let e=jS.get(n);return e?(Vr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jS.set(n,e),e)}var u2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),sv=u2;function sh(n,e,t){return`firebase:${n}:${e}:${t}`}var fh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=sh(this.userKey,i.apiKey,o),this.fullPersistenceKey=sh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await dh(this.auth,{idToken:e}).catch(()=>{});return t?Lr._fromGetAccountInfoResponse(this.auth,t,e):null}return Lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Zn(sv),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Zn(sv),s=sh(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await dh(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Lr._fromGetAccountInfoResponse(e,m,f)}else p=Lr._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function US(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uA(e))return"Blackberry";if(lA(e))return"Webos";if(oA(e))return"Safari";if((e.includes("chrome/")||sA(e))&&!e.includes("edge/"))return"Chrome";if(cA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function iA(n=Qe()){return/firefox\//i.test(n)}function oA(n=Qe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sA(n=Qe()){return/crios\//i.test(n)}function aA(n=Qe()){return/iemobile/i.test(n)}function cA(n=Qe()){return/android/i.test(n)}function uA(n=Qe()){return/blackberry/i.test(n)}function lA(n=Qe()){return/webos/i.test(n)}function bv(n=Qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function l2(n=Qe()){var e;return bv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d2(){return rS()&&document.documentMode===10}function dA(n=Qe()){return bv(n)||cA(n)||lA(n)||uA(n)||/windows phone/i.test(n)||aA(n)}function hA(n,e=[]){let t;switch(n){case"Browser":t=US(Qe());break;case"Worker":t=`${US(Qe())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mr}/${r}`}var av=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function h2(n,e={}){return is(n,"GET","/v2/passwordPolicy",Iv(n,e))}var f2=6,cv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:f2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var uv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ph(this),this.idTokenSubscription=new ph(this),this.beforeStateQueue=new av(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zn(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await fh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await dh(this,{idToken:e}),r=await Lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wt(this.app))return Promise.reject(Vi(this));let t=e?Mt(e):null;return t&&$(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wt(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wt(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await h2(this),t=new cv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new an("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await c2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Zn(e)||this._popupRedirectResolver;$(t,this,"argument-error"),this.redirectPersistenceManager=await fh.create(this,[Zn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if($(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&YV(`Error while retrieving App Check token: ${t.error}`),t?.token}};function Cv(n){return Mt(n)}var ph=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Sv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p2(n){Sv=n}function g2(n){return Sv.loadJS(n)}function m2(){return Sv.gapiScript}function fA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Av(n,e){let t=es(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(bn(o,e??{}))return i;Fr(i,"already-initialized")}return t.initialize({options:e})}function y2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Rv(n,e,t){let r=Cv(n);$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=pA(e),{host:s,port:c}=v2(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$(bn(l,r.config.emulator)&&bn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Rr(s)?(Zd(`${o}//${s}${u}`),Jd("Auth",!0)):i||_2()}function pA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function v2(n){let e=pA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:BS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:BS(s)}}}function BS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function _2(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var gh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,t){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}};async function tv(n,e){return r2(n,"POST","/v1/accounts:signInWithIdp",Iv(n,e))}var mh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var lv=class extends mh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Pc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Lr._fromIdTokenResponse(e,r,i),s=$S(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=$S(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function $S(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var dv=class n extends zt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function gA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dv._fromErrorAndOperation(n,o,e,r):o})}async function E2(n,e,t=!1){let r=await Nc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pc._forOperation(n,"link",r)}async function I2(n,e,t=!1){let{auth:r}=n;if(Wt(r.app))return Promise.reject(Vi(r));let i="reauthenticate";try{let o=await Nc(n,gA(r,i,e,n),t);$(o.idToken,r,"internal-error");let s=Tv(o.idToken);$(s,r,"internal-error");let{sub:c}=s;return $(n.uid===c,r,"user-mismatch"),Pc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Fr(r,"user-mismatch"),o}}async function w2(n,e,t=!1){if(Wt(n.app))return Promise.reject(Vi(n));let r="signIn",i=await gA(n,r,e),o=await Pc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function Nv(n,e,t,r){return Mt(n).onIdTokenChanged(e,t,r)}function Mv(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}var yh="__sak";var vh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var T2=1e3,D2=10,b2=(()=>{class n extends vh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);d2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,D2):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},T2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),mA=b2;var C2=(()=>{class n extends vh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Pv=C2;function S2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var A2=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(async f=>f(r.origin,s)),l=await S2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function yA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var hv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=yA("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function An(){return window}function R2(n){An().location.href=n}function vA(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function N2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function P2(){return vA()?self:null}var _A="firebaseLocalStorageDb",x2=1,_h="firebaseLocalStorage",EA="fbase_key",Bi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ih(n,e){return n.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function k2(){let n=indexedDB.deleteDatabase(_A);return new Bi(n).toPromise()}function fv(){let n=indexedDB.open(_A,x2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(_h,{keyPath:EA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await k2(),e(await fv()))})})}async function HS(n,e,t){let r=Ih(n,!0).put({[EA]:e,value:t});return new Bi(r).toPromise()}async function O2(n,e){let t=Ih(n,!1).get(e),r=await new Bi(t).toPromise();return r===void 0?null:r.value}function zS(n,e){let t=Ih(n,!0).delete(e);return new Bi(t).toPromise()}var L2=800,F2=3,V2=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fv(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>F2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=A2._getInstance(P2()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await N2(),!this.activeServiceWorker)return;this.sender=new hv(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||M2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await fv();return await HS(t,yh,"1"),await zS(t,yh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>HS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>O2(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>zS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=Ih(o,!1).getAll();return new Bi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),IA=V2;var qee=fA("rcb"),Gee=new Ui(3e4,6e4);function j2(n,e){return e?Zn(e):($(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var xc=class extends gh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function U2(n){return w2(n.auth,new xc(n),n.bypassAuthState)}function B2(n){let{auth:e,user:t}=n;return $(t,e,"internal-error"),I2(t,new xc(n),n.bypassAuthState)}async function $2(n){let{auth:e,user:t}=n;return $(t,e,"internal-error"),E2(t,new xc(n),n.bypassAuthState)}var pv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return $2;case"reauthViaPopup":case"reauthViaRedirect":return B2;default:Fr(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Wee=new Ui(2e3,1e4);var H2="pendingRedirect",ah=new Map,gv=class extends pv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{let r=await z2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function z2(n,e){let t=W2(e),r=G2(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function q2(n,e){ah.set(n._key(),e)}function G2(n){return Zn(n._redirectPersistence)}function W2(n){return sh(H2,n.config.apiKey,n.name)}async function K2(n,e,t=!1){if(Wt(n.app))return Promise.reject(Vi(n));let r=Cv(n),i=j2(r,e),s=await new gv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var Q2=600*1e3,mv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!wA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ji(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(qS(e))}saveEventToCache(e){this.cachedEventUids.add(qS(e)),this.lastProcessedEventTime=Date.now()}};function qS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Y2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wA(n);default:return!1}}async function Z2(n,e={}){return is(n,"GET","/v1/projects",e)}var J2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X2=/^https?/;async function ej(n){if(n.config.emulator)return;let{authorizedDomains:e}=await Z2(n);for(let t of e)try{if(tj(t))return}catch{}Fr(n,"unauthorized-domain")}function tj(n){let e=rv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!X2.test(t))return!1;if(J2.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var nj=new Ui(3e4,6e4);function GS(){let n=An().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function rj(n){return new Promise((e,t)=>{var r,i,o;function s(){GS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GS(),t(ji(n,"network-request-failed"))},timeout:nj.get()})}if(!((i=(r=An().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=An().gapi)===null||o===void 0)&&o.load)s();else{let c=fA("iframefcb");return An()[c]=()=>{gapi.load?s():t(ji(n,"network-request-failed"))},g2(`${m2()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw ch=null,e})}var ch=null;function ij(n){return ch=ch||rj(n),ch}var oj=new Ui(5e3,15e3),sj="__/auth/iframe",aj="emulator/auth/iframe",cj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lj(n){let e=n.config;$(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ev(e,aj):`https://${n.config.authDomain}/${sj}`,r={apiKey:e.apiKey,appName:n.name,v:Mr},i=uj.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${wc(r).slice(1)}`}async function dj(n){let e=await ij(n),t=An().gapi;return $(t,n,"internal-error"),e.open({where:document.body,url:lj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=ji(n,"network-request-failed"),c=An().setTimeout(()=>{o(s)},oj.get());function u(){An().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var hj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fj=500,pj=600,gj="_blank",mj="http://localhost",Eh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function yj(n,e,t,r=fj,i=pj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},hj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Qe().toLowerCase();t&&(c=sA(l)?gj:t),iA(l)&&(e=e||mj,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(l2(l)&&c!=="_self")return vj(e||"",c),new Eh(null);let p=window.open(e||"",c,f);$(p,n,"popup-blocked");try{p.focus()}catch{}return new Eh(p)}function vj(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var _j="__/auth/handler",Ej="emulator/auth/handler",Ij=encodeURIComponent("fac");async function WS(n,e,t,r,i,o){$(n.config.authDomain,n,"auth-domain-config-required"),$(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Mr,eventId:i};if(e instanceof mh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",sS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof lv){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=await n._getAppCheckToken(),l=u?`#${Ij}=${encodeURIComponent(u)}`:"";return`${wj(n)}?${wc(c).slice(1)}${l}`}function wj({config:n}){return n.emulator?Ev(n,Ej):`https://${n.authDomain}/${_j}`}var nv="webStorageSupport",yv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pv,this._completeRedirectFn=K2,this._overrideRedirectResult=q2}async _openPopup(e,t,r,i){var o;Vr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await WS(e,t,r,rv(),i);return yj(e,s,yA())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await WS(e,t,r,rv(),i);return R2(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Vr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await dj(e),r=new mv(e);return t.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nv,{type:nv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[nv];s!==void 0&&t(!!s),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ej(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dA()||oA()||bv()}},TA=yv;var KS="@firebase/auth",QS="1.10.8";var vv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Tj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dj(n){cn(new It("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;$(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hA(n)},l=new uv(r,i,o,u);return y2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),cn(new It("auth-internal",e=>{let t=Cv(e.getProvider("auth").getImmediate());return(r=>new vv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(KS,QS,Tj(n)),Me(KS,QS,"esm2017")}var bj=300,Cj=My("authIdTokenMaxAge")||bj,YS=null,Sj=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Cj)return;let i=t?.token;YS!==i&&(YS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xv(n=Oi()){let e=es(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Av(n,{popupRedirectResolver:TA,persistence:[IA,mA,Pv]}),r=My("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Sj(o.toString());Mv(t,s,()=>s(t.currentUser)),Nv(t,c=>s(c))}}let i=Ry("auth");return i&&Rv(t,`http://${i}`),t}function Aj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}p2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ji("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Aj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dj("Browser");var DA="auth",kc=class{constructor(e){return e}},Oc=class{constructor(){return ns(DA)}};var kv=new j("angularfire2.auth-instances");function IU(n,e){let t=bc(DA,n,e);return t&&new kc(t)}function wU(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new kc(r)}}var TU={provide:Oc,deps:[[new jt,kv]]},DU={provide:kc,useFactory:IU,deps:[[new jt,kv],Qn]};function bA(n,...e){return Me("angularfire",Pr.full,"auth"),Ot([DU,TU,{provide:kv,useFactory:wU(n),multi:!0,deps:[_e,Ge,xr,Fi,[new jt,rs],...e]}])}var CA=un(xv,!0);var SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AA={};var Jn,Ov;(function(){var n;function e(w,y){function E(){}E.prototype=y.prototype,w.D=y.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,T,b){for(var _=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)_[Pn-2]=arguments[Pn];return y.prototype[T].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,y,E){E||(E=0);var I=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)I[T]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=w.g[0],E=w.g[1],T=w.g[2];var b=w.g[3],_=y+(b^E&(T^b))+I[0]+3614090360&4294967295;y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(b^E&(T^b))+I[4]+4118548399&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(b^E&(T^b))+I[8]+1770035416&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(b^E&(T^b))+I[12]+1804603682&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(T^b&(E^T))+I[1]+4129170786&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(E^T))+I[5]+3593408605&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(E^T))+I[9]+568446438&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(E^T))+I[13]+2850285829&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(E^T^b)+I[5]+4294588738&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(E^T^b)+I[1]+2763975236&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(E^T^b)+I[13]+681279174&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(E^T^b)+I[9]+3654602809&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(T^(E|~b))+I[0]+4096336452&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=y+(T^(E|~b))+I[12]+1700485571&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=y+(T^(E|~b))+I[8]+1873313359&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=y+(T^(E|~b))+I[4]+4149444226&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var E=y-this.blockSize,I=this.B,T=this.h,b=0;b<y;){if(T==0)for(;b<=E;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<y;)if(I[T++]=w.charCodeAt(b++),T==this.blockSize){i(this,I),T=0;break}}else for(;b<y;)if(I[T++]=w[b++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var E=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=E&255,E/=256;for(this.u(w),w=Array(16),y=E=0;4>y;++y)for(var I=0;32>I;I+=8)w[E++]=this.g[y]>>>I&255;return w};function o(w,y){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=y(w)}function s(w,y){this.h=y;for(var E=[],I=!0,T=w.length-1;0<=T;T--){var b=w[T]|0;I&&b==y||(E[T]=b,I=!1)}this.g=E}var c={};function u(w){return-128<=w&&128>w?o(w,function(y){return new s([y|0],0>y?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var y=[],E=1,I=0;w>=E;I++)y[I]=w/E|0,E*=4294967296;return new s(y,0)}function f(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return A(f(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(y,8)),I=p,T=0;T<w.length;T+=8){var b=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+b),y);8>b?(b=l(Math.pow(y,b)),I=I.j(b).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(R(this))return-A(this).m();for(var w=0,y=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*y,y*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(R(this))return"-"+A(this).toString(w);for(var y=l(Math.pow(w,6)),E=this,I="";;){var T=Ie(E,y).g;E=F(E,T.j(y));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=T,S(E))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function R(w){return w.h==-1}n.l=function(w){return w=F(this,w),R(w)?-1:S(w)?0:1};function A(w){for(var y=w.g.length,E=[],I=0;I<y;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return R(this)?A(this):this},n.add=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0,T=0;T<=y;T++){var b=I+(this.i(T)&65535)+(w.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=_>>>16,b&=65535,_&=65535,E[T]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(w,y){return w.add(A(y))}n.j=function(w){if(S(this)||S(w))return p;if(R(this))return R(w)?A(this).j(A(w)):A(A(this).j(w));if(R(w))return A(this.j(A(w)));if(0>this.l(v)&&0>w.l(v))return l(this.m()*w.m());for(var y=this.g.length+w.g.length,E=[],I=0;I<2*y;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var b=this.i(I)>>>16,_=this.i(I)&65535,Pn=w.i(T)>>>16,xs=w.i(T)&65535;E[2*I+2*T]+=_*xs,J(E,2*I+2*T),E[2*I+2*T+1]+=b*xs,J(E,2*I+2*T+1),E[2*I+2*T+1]+=_*Pn,J(E,2*I+2*T+1),E[2*I+2*T+2]+=b*Pn,J(E,2*I+2*T+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new s(E,0)};function J(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function Z(w,y){this.g=w,this.h=y}function Ie(w,y){if(S(y))throw Error("division by zero");if(S(w))return new Z(p,p);if(R(w))return y=Ie(A(w),y),new Z(A(y.g),A(y.h));if(R(y))return y=Ie(w,A(y)),new Z(A(y.g),y.h);if(30<w.g.length){if(R(w)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=y;0>=I.l(w);)E=dt(E),I=dt(I);var T=ve(E,1),b=ve(I,1);for(I=ve(I,2),E=ve(E,2);!S(I);){var _=b.add(I);0>=_.l(w)&&(T=T.add(E),b=_),I=ve(I,1),E=ve(E,1)}return y=F(w,T.j(y)),new Z(T,y)}for(T=p;0<=w.l(y);){for(E=Math.max(1,Math.floor(w.m()/y.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(E),_=b.j(y);R(_)||0<_.l(w);)E-=I,b=l(E),_=b.j(y);S(b)&&(b=m),T=T.add(b),w=F(w,_)}return new Z(T,w)}n.A=function(w){return Ie(this,w).h},n.and=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function dt(w){for(var y=w.g.length+1,E=[],I=0;I<y;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function ve(w,y){var E=y>>5;y%=32;for(var I=w.g.length-E,T=[],b=0;b<I;b++)T[b]=0<y?w.i(b+E)>>>y|w.i(b+E+1)<<32-y:w.i(b+E);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ov=AA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Jn=AA.Integer=s}).apply(typeof SA<"u"?SA:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xn={};var Lv,bU,os,Fv,Lc,Th,Vv,jv,Uv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,D={next:function(){if(!g&&h<a.length){var C=h++;return{value:d(C,a[C]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,D,C){for(var x=Array(arguments.length-2),we=2;we<arguments.length;we++)x[we-2]=arguments[we];return d.prototype[D].apply(g,x)}}function R(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function A(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=a.length||0,C=g.length||0;a.length=D+C;for(let x=0;x<C;x++)a[D+x]=g[x]}else a.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Ie(a){return Ie[" "](a),a}Ie[" "]=function(){};var dt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ve(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let C=0;C<E.length;C++)h=E[C],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Ef;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Pn{constructor(){this.h=this.g=null}add(d,h){let g=xs.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var xs=new F(()=>new rN,a=>a.reset());class rN{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ks,Os=!1,Ef=new Pn,ZE=()=>{let a=c.Promise.resolve(void 0);ks=()=>{a.then(iN)}};var iN=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=xs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Os=!1};function or(){this.s=this.s,this.C=this.C}or.prototype.s=!1,or.prototype.ma=function(){this.s||(this.s=!0,this.N())},or.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var oN=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a})();function Ls(a,d){if(rt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(dt){e:{try{Ie(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:sN[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ls.aa.h.call(this)}}S(Ls,rt);var sN={2:"touch",3:"pen",4:"mouse"};Ls.prototype.h=function(){Ls.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Fs="closure_listenable_"+(1e6*Math.random()|0),aN=0;function cN(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++aN,this.da=this.fa=!1}function au(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function cu(a){this.src=a,this.g={},this.h=0}cu.prototype.add=function(a,d,h,g,D){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var x=wf(a,d,g,D);return-1<x?(d=a[x],h||(d.fa=!1)):(d=new cN(d,this.src,C,!!g,D),d.fa=h,a.push(d)),d};function If(a,d){var h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),C;(C=0<=D)&&Array.prototype.splice.call(g,D,1),C&&(au(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function wf(a,d,h,g){for(var D=0;D<a.length;++D){var C=a[D];if(!C.da&&C.listener==d&&C.capture==!!h&&C.ha==g)return D}return-1}var Tf="closure_lm_"+(1e6*Math.random()|0),Df={};function JE(a,d,h,g,D){if(g&&g.once)return eI(a,d,h,g,D);if(Array.isArray(d)){for(var C=0;C<d.length;C++)JE(a,d[C],h,g,D);return null}return h=Af(h),a&&a[Fs]?a.K(d,h,l(g)?!!g.capture:!!g,D):XE(a,d,h,!1,g,D)}function XE(a,d,h,g,D,C){if(!d)throw Error("Invalid event type");var x=l(D)?!!D.capture:!!D,we=Cf(a);if(we||(a[Tf]=we=new cu(a)),h=we.add(d,h,g,x,C),h.proxy)return h;if(g=uN(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)oN||(D=x),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(nI(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function uN(){function a(h){return d.call(a.src,a.listener,h)}let d=lN;return a}function eI(a,d,h,g,D){if(Array.isArray(d)){for(var C=0;C<d.length;C++)eI(a,d[C],h,g,D);return null}return h=Af(h),a&&a[Fs]?a.L(d,h,l(g)?!!g.capture:!!g,D):XE(a,d,h,!0,g,D)}function tI(a,d,h,g,D){if(Array.isArray(d))for(var C=0;C<d.length;C++)tI(a,d[C],h,g,D);else g=l(g)?!!g.capture:!!g,h=Af(h),a&&a[Fs]?(a=a.i,d=String(d).toString(),d in a.g&&(C=a.g[d],h=wf(C,h,g,D),-1<h&&(au(C[h]),Array.prototype.splice.call(C,h,1),C.length==0&&(delete a.g[d],a.h--)))):a&&(a=Cf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=wf(d,h,g,D)),(h=-1<a?d[a]:null)&&bf(h))}function bf(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Fs])If(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(nI(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Cf(d))?(If(h,a),h.h==0&&(h.src=null,d[Tf]=null)):au(a)}}}function nI(a){return a in Df?Df[a]:Df[a]="on"+a}function lN(a,d){if(a.da)a=!0;else{d=new Ls(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&bf(a),a=h.call(g,d)}return a}function Cf(a){return a=a[Tf],a instanceof cu?a:null}var Sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Af(a){return typeof a=="function"?a:(a[Sf]||(a[Sf]=function(d){return a.handleEvent(d)}),a[Sf])}function it(){or.call(this),this.i=new cu(this),this.M=this,this.F=null}S(it,or),it.prototype[Fs]=!0,it.prototype.removeEventListener=function(a,d,h,g){tI(this,a,d,h,g)};function ht(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new rt(d,a);else if(d instanceof rt)d.target=d.target||a;else{var D=d;d=new rt(g,a),I(d,D)}if(D=!0,h)for(var C=h.length-1;0<=C;C--){var x=d.g=h[C];D=uu(x,g,!0,d)&&D}if(x=d.g=a,D=uu(x,g,!0,d)&&D,D=uu(x,g,!1,d)&&D,h)for(C=0;C<h.length;C++)x=d.g=h[C],D=uu(x,g,!1,d)&&D}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)au(h[g]);delete a.g[d],a.h--}}this.F=null},it.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},it.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function uu(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,C=0;C<d.length;++C){var x=d[C];if(x&&!x.da&&x.capture==h){var we=x.listener,Je=x.ha||x.src;x.fa&&If(a.i,x),D=we.call(Je,g)!==!1&&D}}return D&&!g.defaultPrevented}function rI(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function iI(a){a.g=rI(()=>{a.g=null,a.i&&(a.i=!1,iI(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class dN extends or{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:iI(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(a){or.call(this),this.h=a,this.g={}}S(Vs,or);var oI=[];function sI(a){ve(a.g,function(d,h){this.g.hasOwnProperty(h)&&bf(d)},a),a.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),sI(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rf=c.JSON.stringify,hN=c.JSON.parse,fN=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Nf(){}Nf.prototype.h=null;function aI(a){return a.h||(a.h=a.i())}function cI(){}var js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mf(){rt.call(this,"d")}S(Mf,rt);function Pf(){rt.call(this,"c")}S(Pf,rt);var Kr={},uI=null;function lu(){return uI=uI||new it}Kr.La="serverreachability";function lI(a){rt.call(this,Kr.La,a)}S(lI,rt);function Us(a){let d=lu();ht(d,new lI(d))}Kr.STAT_EVENT="statevent";function dI(a,d){rt.call(this,Kr.STAT_EVENT,a),this.stat=d}S(dI,rt);function ft(a){let d=lu();ht(d,new dI(d,a))}Kr.Ma="timingevent";function hI(a,d){rt.call(this,Kr.Ma,a),this.size=d}S(hI,rt);function Bs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function $s(){this.g=!0}$s.prototype.xa=function(){this.g=!1};function pN(a,d,h,g,D,C){a.info(function(){if(a.g)if(C)for(var x="",we=C.split("&"),Je=0;Je<we.length;Je++){var fe=we[Je].split("=");if(1<fe.length){var ot=fe[0];fe=fe[1];var st=ot.split("_");x=2<=st.length&&st[1]=="type"?x+(ot+"="+fe+"&"):x+(ot+"=redacted&")}}else x=null;else x=C;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+x})}function gN(a,d,h,g,D,C,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+C+" "+x})}function Ji(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+yN(a,h)+(g?" "+g:"")})}function mN(a,d){a.info(function(){return"TIMEOUT: "+d})}$s.prototype.info=function(){};function yN(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var C=D[0];if(C!="noop"&&C!="stop"&&C!="close")for(var x=1;x<D.length;x++)D[x]=""}}}}return Rf(h)}catch{return d}}var du={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xf;function hu(){}S(hu,Nf),hu.prototype.g=function(){return new XMLHttpRequest},hu.prototype.i=function(){return{}},xf=new hu;function sr(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pI}function pI(){this.i=null,this.g="",this.h=!1}var gI={},kf={};function Of(a,d,h){a.L=1,a.v=mu(xn(d)),a.m=h,a.P=!0,mI(a,null)}function mI(a,d){a.F=Date.now(),fu(a),a.A=xn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),NI(h.i,"t",g),a.C=0,h=a.j.J,a.h=new pI,a.g=KI(a.j,h?d:null,!a.m),0<a.O&&(a.M=new dN(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(oI[0]=D.toString()),D=oI);for(var C=0;C<D.length;C++){var x=JE(h,D[C],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Us(),pN(a.i,a.u,a.A,a.l,a.R,a.m)}sr.prototype.ca=function(a){a=a.target;let d=this.M;d&&kn(a)==3?d.j():this.Y(a)},sr.prototype.Y=function(a){try{if(a==this.g)e:{let st=kn(this.g);var d=this.g.Ba();let to=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||FI(this.g)))){this.J||st!=4||d==7||(d==8||0>=to?Us(3):Us(2)),Lf(this);var h=this.g.Z();this.X=h;t:if(yI(this)){var g=FI(this.g);a="";var D=g.length,C=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),Hs(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(C&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=h==200,gN(this.i,this.u,this.A,this.l,this.R,st,h),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Je=this.g;if((we=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(we)){var fe=we;break t}}fe=null}if(h=fe)Ji(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ff(this,h);else{this.o=!1,this.s=3,ft(12),Qr(this),Hs(this);break e}}if(this.P){h=!0;let Yt;for(;!this.J&&this.C<x.length;)if(Yt=vN(this,x),Yt==kf){st==4&&(this.s=4,ft(14),h=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==gI){this.s=4,ft(15),Ji(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Ji(this.i,this.l,Yt,null),Ff(this,Yt);if(yI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||x.length!=0||this.h.h||(this.s=1,ft(16),h=!1),this.o=this.o&&h,!h)Ji(this.i,this.l,x,"[Invalid Chunked Response]"),Qr(this),Hs(this);else if(0<x.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Hf(ot),ot.M=!0,ft(11))}}else Ji(this.i,this.l,x,null),Ff(this,x);st==4&&Qr(this),this.o&&!this.J&&(st==4?zI(this.j,this):(this.o=!1,fu(this)))}else ON(this.g),h==400&&0<x.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Qr(this),Hs(this)}}}catch{}finally{}};function yI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function vN(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?kf:(h=Number(d.substring(h,g)),isNaN(h)?gI:(g+=1,g+h>d.length?kf:(d=d.slice(g,g+h),a.C=g+h,d)))}sr.prototype.cancel=function(){this.J=!0,Qr(this)};function fu(a){a.S=Date.now()+a.I,vI(a,a.I)}function vI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Bs(m(a.ba,a),d)}function Lf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}sr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(mN(this.i,this.A),this.L!=2&&(Us(),ft(17)),Qr(this),this.s=2,Hs(this)):vI(this,this.S-a)};function Hs(a){a.j.G==0||a.J||zI(a.j,a)}function Qr(a){Lf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,sI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Ff(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Vf(h.h,a))){if(!a.K&&Vf(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Iu(h),_u(h);else break e;$f(h),ft(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Bs(m(h.Za,h),6e3));if(1>=II(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Zr(h,11)}else if((a.K||h.g==a)&&Iu(h),!J(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let fe=D[d];if(h.T=fe[0],fe=fe[1],h.G==2)if(fe[0]=="c"){h.K=fe[1],h.ia=fe[2];let ot=fe[3];ot!=null&&(h.la=ot,h.j.info("VER="+h.la));let st=fe[4];st!=null&&(h.Aa=st,h.j.info("SVER="+h.Aa));let to=fe[5];to!=null&&typeof to=="number"&&0<to&&(g=1.5*to,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Yt=a.g;if(Yt){let Tu=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tu){var C=g.h;C.g||Tu.indexOf("spdy")==-1&&Tu.indexOf("quic")==-1&&Tu.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(jf(C,C.h),C.h=null))}if(g.D){let zf=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;zf&&(g.ya=zf,De(g.I,g.D,zf))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var x=a;if(g.qa=WI(g,g.J?g.ia:null,g.W),x.K){wI(g.h,x);var we=x,Je=g.L;Je&&(we.I=Je),we.B&&(Lf(we),fu(we)),g.g=x}else $I(g);0<h.i.length&&Eu(h)}else fe[0]!="stop"&&fe[0]!="close"||Zr(h,7);else h.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Zr(h,7):Bf(h):fe[0]!="noop"&&h.l&&h.l.ta(fe),h.v=0)}}Us(4)}catch{}}var _N=class{constructor(a,d){this.g=a,this.map=d}};function _I(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function EI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function II(a){return a.h?1:a.g?a.g.size:0}function Vf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function jf(a,d){a.g?a.g.add(d):a.h=d}function wI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}_I.prototype.cancel=function(){if(this.i=TI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function TI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return R(a.i)}function EN(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function IN(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function DI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=IN(a),g=EN(a),D=g.length,C=0;C<D;C++)d.call(void 0,g[C],h&&h[C],a)}var bI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wN(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),D=null;if(0<=g){var C=a[h].substring(0,g);D=a[h].substring(g+1)}else C=a[h];d(C,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Yr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Yr){this.h=a.h,pu(this,a.j),this.o=a.o,this.g=a.g,gu(this,a.s),this.l=a.l;var d=a.i,h=new Gs;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),CI(this,h),this.m=a.m}else a&&(d=String(a).match(bI))?(this.h=!1,pu(this,d[1]||"",!0),this.o=zs(d[2]||""),this.g=zs(d[3]||"",!0),gu(this,d[4]),this.l=zs(d[5]||"",!0),CI(this,d[6]||"",!0),this.m=zs(d[7]||"")):(this.h=!1,this.i=new Gs(null,this.h))}Yr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(qs(d,SI,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(qs(d,SI,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(qs(h,h.charAt(0)=="/"?bN:DN,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",qs(h,SN)),a.join("")};function xn(a){return new Yr(a)}function pu(a,d,h){a.j=h?zs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function gu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function CI(a,d,h){d instanceof Gs?(a.i=d,AN(a.i,a.h)):(h||(d=qs(d,CN)),a.i=new Gs(d,a.h))}function De(a,d,h){a.i.set(d,h)}function mu(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function zs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function qs(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,TN),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function TN(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var SI=/[#\/\?@]/g,DN=/[#\?:]/g,bN=/[#\?]/g,CN=/[#\?@]/g,SN=/#/g;function Gs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ar(a){a.g||(a.g=new Map,a.h=0,a.i&&wN(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Gs.prototype,n.add=function(a,d){ar(this),this.i=null,a=Xi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function AI(a,d){ar(a),d=Xi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function RI(a,d){return ar(a),d=Xi(a,d),a.g.has(d)}n.forEach=function(a,d){ar(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)},n.na=function(){ar(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=a[g];for(let C=0;C<D.length;C++)h.push(d[g])}return h},n.V=function(a){ar(this);let d=[];if(typeof a=="string")RI(this,a)&&(d=d.concat(this.g.get(Xi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return ar(this),this.i=null,a=Xi(this,a),RI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function NI(a,d,h){AI(a,d),0<h.length&&(a.i=null,a.g.set(Xi(a,d),R(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let C=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var D=C;x[g]!==""&&(D+="="+encodeURIComponent(String(x[g]))),a.push(D)}}return this.i=a.join("&")};function Xi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function AN(a,d){d&&!a.j&&(ar(a),a.i=null,a.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(AI(this,g),NI(this,D,h))},a)),a.j=d}function RN(a,d){let h=new $s;if(c.Image){let g=new Image;g.onload=v(cr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=v(cr,h,"TestLoadImage: error",!1,d,g),g.onabort=v(cr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(cr,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function NN(a,d){let h=new $s,g=new AbortController,D=setTimeout(()=>{g.abort(),cr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(C=>{clearTimeout(D),C.ok?cr(h,"TestPingServer: ok",!0,d):cr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),cr(h,"TestPingServer: error",!1,d)})}function cr(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function MN(){this.g=new fN}function PN(a,d,h){let g=h||"";try{DI(a,function(D,C){let x=D;l(D)&&(x=Rf(D)),d.push(g+C+"="+encodeURIComponent(x))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ws(a){this.l=a.Ub||null,this.j=a.eb||!1}S(Ws,Nf),Ws.prototype.g=function(){return new yu(this.l,this.j)},Ws.prototype.i=(function(a){return function(){return a}})({});function yu(a,d){it.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(yu,it),n=yu.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Qs(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;MI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function MI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ks(this):Qs(this),this.readyState==3&&MI(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Ks(this))},n.Qa=function(a){this.g&&(this.response=a,Ks(this))},n.ga=function(){this.g&&Ks(this)};function Ks(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Qs(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Qs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function PI(a){let d="";return ve(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Uf(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=PI(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):De(a,d,h))}function Ae(a){it.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ae,it);var xN=/^https?$/i,kN=["POST","PUT"];n=Ae.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xf.g(),this.v=this.o?aI(this.o):aI(xf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(C){xI(this,C);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let C of g.keys())h.set(C,g.get(C));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(C=>C.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(kN,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,x]of h)this.g.setRequestHeader(C,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{LI(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){xI(this,C)}};function xI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,kI(a),vu(a)}function kI(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),vu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vu(this,!0)),Ae.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?OI(this):this.bb())},n.bb=function(){OI(this)};function OI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||kn(a)!=4||a.Z()!=2)){if(a.u&&kn(a)==4)rI(a.Ea,0,a);else if(ht(a,"readystatechange"),kn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=x===0){var D=String(a.D).match(bI)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!xN.test(D?D.toLowerCase():"")}h=g}if(h)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var C=2<kn(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",kI(a)}}finally{vu(a)}}}}function vu(a,d){if(a.g){LI(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ht(a,"ready");try{h.onreadystatechange=g}catch{}}}function LI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function kn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),hN(d)}};function FI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ON(a){let d={};a=(a.g&&2<=kn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(J(a[g]))continue;var h=T(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let C=d[D]||[];d[D]=C,C.push(h)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function VI(a){this.Aa=0,this.i=[],this.j=new $s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,a),this.cb=Ys("retryDelaySeedMs",1e4,a),this.Wa=Ys("forwardChannelMaxRetries",2,a),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new _I(a&&a.concurrentRequestLimit),this.Da=new MN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=VI.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){ft(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=WI(this,null,this.W),Eu(this)};function Bf(a){if(jI(a),a.G==3){var d=a.U++,h=xn(a.I);if(De(h,"SID",a.K),De(h,"RID",d),De(h,"TYPE","terminate"),Zs(a,h),d=new sr(a,a.j,d),d.L=2,d.v=mu(xn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=KI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),fu(d)}GI(a)}function _u(a){a.g&&(Hf(a),a.g.cancel(),a.g=null)}function jI(a){_u(a),a.u&&(c.clearTimeout(a.u),a.u=null),Iu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Eu(a){if(!EI(a.h)&&!a.s){a.s=!0;var d=a.Ga;ks||ZE(),Os||(ks(),Os=!0),Ef.add(d,a),a.B=0}}function LN(a,d){return II(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Bs(m(a.Ga,a,d),qI(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new sr(this,this.j,a),C=this.o;if(this.S&&(C?(C=y(C),I(C,this.S)):C=this.S),this.m!==null||this.O||(D.H=C,C=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=BI(this,D,d),h=xn(this.I),De(h,"RID",a),De(h,"CVER",22),this.D&&De(h,"X-HTTP-Session-Id",this.D),Zs(this,h),C&&(this.O?d="headers="+encodeURIComponent(String(PI(C)))+"&"+d:this.m&&Uf(h,this.m,C)),jf(this.h,D),this.Ua&&De(h,"TYPE","init"),this.P?(De(h,"$req",d),De(h,"SID","null"),D.T=!0,Of(D,h,null)):Of(D,h,d),this.G=2}}else this.G==3&&(a?UI(this,a):this.i.length==0||EI(this.h)||UI(this))};function UI(a,d){var h;d?h=d.l:h=a.U++;let g=xn(a.I);De(g,"SID",a.K),De(g,"RID",h),De(g,"AID",a.T),Zs(a,g),a.m&&a.o&&Uf(g,a.m,a.o),h=new sr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=BI(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),jf(a.h,h),Of(h,g,d)}function Zs(a,d){a.H&&ve(a.H,function(h,g){De(d,g,h)}),a.l&&DI({},function(h,g){De(d,g,h)})}function BI(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let C=-1;for(;;){let x=["count="+h];C==-1?0<h?(C=D[0].g,x.push("ofs="+C)):C=0:x.push("ofs="+C);let we=!0;for(let Je=0;Je<h;Je++){let fe=D[Je].g,ot=D[Je].map;if(fe-=C,0>fe)C=Math.max(0,D[Je].g-100),we=!1;else try{PN(ot,x,"req"+fe+"_")}catch{g&&g(ot)}}if(we){g=x.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function $I(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ks||ZE(),Os||(ks(),Os=!0),Ef.add(d,a),a.v=0}}function $f(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Bs(m(a.Fa,a),qI(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,HI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Bs(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),_u(this),HI(this))};function Hf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function HI(a){a.g=new sr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=xn(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),Zs(a,d),a.m&&a.o&&Uf(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=mu(xn(d)),h.m=null,h.P=!0,mI(h,a)}n.Za=function(){this.C!=null&&(this.C=null,_u(this),$f(this),ft(19))};function Iu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function zI(a,d){var h=null;if(a.g==d){Iu(a),Hf(a),a.g=null;var g=2}else if(Vf(a.h,d))h=d.D,wI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=lu(),ht(g,new hI(g,h)),Eu(a)}else $I(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&LN(a,d)||g==2&&$f(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:Zr(a,5);break;case 4:Zr(a,10);break;case 3:Zr(a,6);break;default:Zr(a,2)}}}function qI(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Zr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let D=!g;g=new Yr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||pu(g,"https"),mu(g),D?RN(g.toString(),h):NN(g.toString(),h)}else ft(2);a.G=0,a.l&&a.l.sa(d),GI(a),jI(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function GI(a){if(a.G=0,a.ka=[],a.l){let d=TI(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ka,d),A(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function WI(a,d,h){var g=h instanceof Yr?xn(h):new Yr(h);if(g.g!="")d&&(g.g=d+"."+g.g),gu(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var C=new Yr(null);g&&pu(C,g),d&&(C.g=d),D&&gu(C,D),h&&(C.l=h),g=C}return h=a.D,d=a.ya,h&&d&&De(g,h,d),De(g,"VER",a.la),Zs(a,g),g}function KI(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ae(new Ws({eb:h})):new Ae(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function QI(){}n=QI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wu(){}wu.prototype.g=function(a,d){return new Pt(a,d)};function Pt(a,d){it.call(this),this.g=new VI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!J(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new eo(this)}S(Pt,it),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Bf(this.g)},Pt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Rf(a),a=h);d.i.push(new _N(d.Ya++,a)),d.G==3&&Eu(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Bf(this.g),delete this.g,Pt.aa.N.call(this)};function YI(a){Mf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(YI,Mf);function ZI(){Pf.call(this),this.status=1}S(ZI,Pf);function eo(a){this.g=a}S(eo,QI),eo.prototype.ua=function(){ht(this.g,"a")},eo.prototype.ta=function(a){ht(this.g,new YI(a))},eo.prototype.sa=function(a){ht(this.g,new ZI)},eo.prototype.ra=function(){ht(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,Uv=Xn.createWebChannelTransport=function(){return new wu},jv=Xn.getStatEventTarget=function(){return lu()},Vv=Xn.Event=Kr,Th=Xn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},du.NO_ERROR=0,du.TIMEOUT=8,du.HTTP_ERROR=6,Lc=Xn.ErrorCode=du,fI.COMPLETE="complete",Fv=Xn.EventType=fI,cI.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",it.prototype.listen=it.prototype.K,os=Xn.WebChannel=cI,bU=Xn.FetchXmlHttpFactory=Ws,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,Lv=Xn.XhrIo=Ae}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});var RA="@firebase/firestore",NA="4.8.0";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var Ss="11.10.0";var Wi=new Cn("@firebase/firestore");function ss(){return Wi.logLevel}function k(n,...e){if(Wi.logLevel<=ie.DEBUG){let t=e.map(AE);Wi.debug(`Firestore (${Ss}): ${n}`,...t)}}function tr(n,...e){if(Wi.logLevel<=ie.ERROR){let t=e.map(AE);Wi.error(`Firestore (${Ss}): ${n}`,...t)}}function Hr(n,...e){if(Wi.logLevel<=ie.WARN){let t=e.map(AE);Wi.warn(`Firestore (${Ss}): ${n}`,...t)}}function AE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,T0(n,r,t)}function T0(n,e,t){let r=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw tr(r),new Error(r)}function Se(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||T0(e,i,r)}function le(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var jr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Nh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Gv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ye.UNAUTHENTICATED))}shutdown(){}},Wv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Kv=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Se(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new Nh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}},Qv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Yv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Qv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Mh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zv=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,k("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Mh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Se(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Mh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function CU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function D0(){return new TextEncoder}var Ph=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=CU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function re(n,e){return n<e?-1:n>e?1:0}function Jv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=D0(),s=SU(o.encode(MA(n,t)),o.encode(MA(e,t)));return s!==0?s:re(r,i)}}t+=r>65535?2:1}return re(n.length,e.length)}function MA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function SU(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return re(n[t],e[t]);return re(n.length,e.length)}function ms(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var PA="__name__",xh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return re(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Jv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jn.fromString(e.substring(4,e.length-2))}},Pe=class n extends xh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},AU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends xh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return AU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PA}static keyField(){return new n([PA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new O(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new O(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new O(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var B=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pe.fromString(e))}static fromName(e){return new n(Pe.fromString(e).popFirst(5))}static empty(){return new n(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pe(e.slice()))}};function RU(n,e,t){if(!t)throw new O(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NU(n,e,t,r){if(e===!0&&r===!0)throw new O(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xA(n){if(B.isDocumentKey(n))throw new O(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function b0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function af(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":q(12329,{type:typeof n})}function Sh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=af(n);throw new O(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function je(n,e){let t={typeString:n};return e&&(t.value=e),t}function iu(n,e){if(!b0(n))throw new O(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new O(P.INVALID_ARGUMENT,t);return!0}var kA=-62135596800,OA=1e6,He=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*OA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kA)throw new O(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OA}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-kA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:je("string",He._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};var Y=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new He(0,0))}static max(){return new n(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hc=-1,Xv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Xv.UNKNOWN_ID=-1;function MU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new He(t+1,0):new He(t,r));return new Ki(i,B.empty(),e)}function PU(n){return new Ki(n.readTime,n.key,Hc)}var Ki=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Y.min(),B.empty(),Hc)}static max(){return new n(Y.max(),B.empty(),Hc)}};function xU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=B.comparator(n.documentKey,e.documentKey),t!==0?t:re(n.largestBatchId,e.largestBatchId))}var kU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",e_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function cf(n){if(n.code!==P.FAILED_PRECONDITION||n.message!==kU)throw n;k("LocalStore","Unexpectedly lost primary lease")}var M=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function OU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function As(n){return n.name==="IndexedDbTransactionError"}var RE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),LU=-1;function uf(n){return n==null}function zc(n){return n===0&&1/n==-1/0}function FU(n){return typeof n=="number"&&Number.isInteger(n)&&!zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var C0="";function VU(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=LA(e)),e=jU(n.get(t),e);return LA(e)}function jU(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case C0:t+="";break;default:t+=o}}return t}function LA(n){return n+C0+""}var UU="remoteDocuments",S0="owner";var A0="mutationQueues";var R0="mutations";var N0="documentMutations",BU="remoteDocumentsV14";var M0="remoteDocumentGlobal";var P0="targets";var x0="targetDocuments";var k0="targetGlobal",O0="collectionParents";var L0="clientMetadata";var F0="bundles";var V0="namedQueries";var $U="indexConfiguration";var HU="indexState";var zU="indexEntries";var j0="documentOverlays";var qU="globals";var GU=[A0,R0,N0,UU,P0,S0,k0,x0,L0,M0,O0,F0,V0],Qte=[...GU,j0],WU=[A0,R0,N0,BU,P0,S0,k0,x0,L0,M0,O0,F0,V0,j0],KU=WU,QU=[...KU,$U,HU,zU];var Yte=[...QU,qU];function FA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function U0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Oe=class n{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ls(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ls(this.root,e,this.comparator,!1)}getReverseIterator(){return new ls(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ls(this.root,e,this.comparator,!0)}},ls=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ze=class n{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kh(this.data.getIterator())}getIteratorFrom(e){return new kh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},kh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var $i=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ze(Qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Oh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Oh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var YU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(n){if(Se(!!n,39018),typeof n=="string"){let e=0,t=YU.exec(n);if(Se(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rr(n){return typeof n=="string"?lt.fromBase64String(n):lt.fromUint8Array(n)}var B0="server_timestamp",$0="__type__",H0="__previous_value__",z0="__local_write_time__";function NE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[$0])===null||t===void 0?void 0:t.stringValue)===B0}function lf(n){let e=n.mapValue.fields[H0];return NE(e)?lf(e):e}function qc(n){let e=nr(n.mapValue.fields[z0].timestampValue);return new He(e.seconds,e.nanos)}var t_=class{constructor(e,t,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},Lh="(default)",Fh=class n{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ME="__type__",q0="__max__",Dh={mapValue:{fields:{__type__:{stringValue:q0}}}},PE="__vector__",ys="value";function zr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?NE(n)?4:W0(n)?9007199254740991:G0(n)?10:11:q(28295,{value:n})}function Mn(n,e){if(n===e)return!0;let t=zr(n);if(t!==zr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=nr(i.timestampValue),c=nr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return rr(i.bytesValue).isEqual(rr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),c=Ce(o.doubleValue);return s===c?zc(s)===zc(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return ms(n.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(FA(s)!==FA(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Mn(s[u],c[u])))return!1;return!0})(n,e);default:return q(52216,{left:n})}}function Gc(n,e){return(n.values||[]).find(t=>Mn(t,e))!==void 0}function vs(n,e){if(n===e)return 0;let t=zr(n),r=zr(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return VA(n.timestampValue,e.timestampValue);case 4:return VA(qc(n),qc(e));case 5:return Jv(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=rr(o),u=rr(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=re(c[l],u[l]);if(f!==0)return f}return re(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=re(Ce(o.latitude),Ce(s.latitude));return c!==0?c:re(Ce(o.longitude),Ce(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return jA(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},v=(c=p[ys])===null||c===void 0?void 0:c.arrayValue,S=(u=m[ys])===null||u===void 0?void 0:u.arrayValue,R=re(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:jA(v,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Dh.mapValue&&s===Dh.mapValue)return 0;if(o===Dh.mapValue)return 1;if(s===Dh.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=Jv(u[p],f[p]);if(m!==0)return m;let v=vs(c[u[p]],l[f[p]]);if(v!==0)return v}return re(u.length,f.length)})(n.mapValue,e.mapValue);default:throw q(23264,{le:t})}}function VA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return re(n,e);let t=nr(n),r=nr(e),i=re(t.seconds,r.seconds);return i!==0?i:re(t.nanos,r.nanos)}function jA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=vs(t[i],r[i]);if(o)return o}return re(t.length,r.length)}function _s(n){return n_(n)}function n_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=nr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return rr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return B.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=n_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${n_(t.fields[s])}`;return i+"}"})(n.mapValue):q(61005,{value:n})}function Ah(n){switch(zr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=lf(n);return e?16+Ah(e):16;case 5:return 2*n.stringValue.length;case 6:return rr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Ah(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Rs(r.fields,(o,s)=>{i+=o.length+Ah(s)}),i})(n.mapValue);default:throw q(13486,{value:n})}}function UA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function r_(n){return!!n&&"integerValue"in n}function xE(n){return!!n&&"arrayValue"in n}function BA(n){return!!n&&"nullValue"in n}function $A(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bv(n){return!!n&&"mapValue"in n}function G0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ME])===null||t===void 0?void 0:t.stringValue)===PE}function Vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Rs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function W0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===q0}var Jte={mapValue:{fields:{[ME]:{stringValue:PE},[ys]:{arrayValue:{}}}}};var er=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=Vc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Bv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Rs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Vc(this.value))}};var dn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,Y.min(),Y.min(),Y.min(),er.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Y.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Y.min(),Y.min(),er.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Y.min(),Y.min(),er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Es=class{constructor(e,t){this.position=e,this.inclusive=t}};function HA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),t.key):r=vs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mn(n.position[t],e.position[t]))return!1;return!0}var Qi=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function ZU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Vh=class{},Ve=class n extends Vh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new o_(e,t,r):t==="array-contains"?new c_(e,r):t==="in"?new u_(e,r):t==="not-in"?new l_(e,r):t==="array-contains-any"?new d_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new s_(e,r):new a_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vs(t,this.value)):t!==null&&zr(this.value)===zr(t)&&this.matchesComparison(vs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hn=class n extends Vh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return K0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function K0(n){return n.op==="and"}function Q0(n){return JU(n)&&K0(n)}function JU(n){for(let e of n.filters)if(e instanceof hn)return!1;return!0}function i_(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+_s(n.value);if(Q0(n))return n.filters.map(e=>i_(e)).join(",");{let e=n.filters.map(t=>i_(t)).join(",");return`${n.op}(${e})`}}function Y0(n,e){return n instanceof Ve?(function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&Mn(r.value,i.value)})(n,e):n instanceof hn?(function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&Y0(s,i.filters[c]),!0):!1})(n,e):void q(19439)}function Z0(n){return n instanceof Ve?(function(t){return`${t.field.canonicalString()} ${t.op} ${_s(t.value)}`})(n):n instanceof hn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Z0).join(" ,")+"}"})(n):"Filter"}var o_=class extends Ve{constructor(e,t,r){super(e,t,r),this.key=B.fromName(r.referenceValue)}matches(e){let t=B.comparator(e.key,this.key);return this.matchesComparison(t)}},s_=class extends Ve{constructor(e,t){super(e,"in",t),this.keys=J0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},a_=class extends Ve{constructor(e,t){super(e,"not-in",t),this.keys=J0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function J0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>B.fromName(r.referenceValue))}var c_=class extends Ve{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return xE(t)&&Gc(t.arrayValue,this.value)}},u_=class extends Ve{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Gc(this.value.arrayValue,t)}},l_=class extends Ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gc(this.value.arrayValue,t)}},d_=class extends Ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!xE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}};var h_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function qA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new h_(n,e,t,r,i,o,s)}function kE(n){let e=le(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>i_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_s(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_s(r)).join(",")),e.Pe=t}return e.Pe}function OE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Y0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zA(n.startAt,e.startAt)&&zA(n.endAt,e.endAt)}function f_(n){return B.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var qr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function XU(n,e,t,r,i,o,s,c){return new qr(n,e,t,r,i,o,s,c)}function LE(n){return new qr(n)}function GA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function X0(n){return n.collectionGroup!==null}function jc(n){let e=le(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ze(Qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Qi(o,r))}),t.has(Qt.keyField().canonicalString())||e.Te.push(new Qi(Qt.keyField(),r))}return e.Te}function Nn(n){let e=le(n);return e.Ie||(e.Ie=eB(e,jc(n))),e.Ie}function eB(n,e){if(n.limitType==="F")return qA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Qi(i.field,o)});let t=n.endAt?new Es(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Es(n.startAt.position,n.startAt.inclusive):null;return qA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function p_(n,e){let t=n.filters.concat([e]);return new qr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function g_(n,e,t){return new qr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function df(n,e){return OE(Nn(n),Nn(e))&&n.limitType===e.limitType}function eR(n){return`${kE(Nn(n))}|lt:${n.limitType}`}function as(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Z0(i)).join(", ")}]`),uf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>_s(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>_s(i)).join(",")),`Target(${r})`})(Nn(n))}; limitType=${n.limitType})`}function hf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of jc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=HA(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,jc(r),i)||r.endAt&&!(function(s,c,u){let l=HA(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,jc(r),i))})(n,e)}function tB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tR(n){return(e,t)=>{let r=!1;for(let i of jc(n)){let o=nB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nB(n,e,t){let r=n.field.isKeyField()?B.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?vs(u,l):q(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:n.dir})}}var ir=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return U0(this.inner)}size(){return this.innerSize}};var rB=new Oe(B.comparator);function Gr(){return rB}var nR=new Oe(B.comparator);function Fc(...n){let e=nR;for(let t of n)e=e.insert(t.key,t);return e}function iB(n){let e=nR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hi(){return Uc()}function rR(){return Uc()}function Uc(){return new ir(n=>n.toString(),(n,e)=>n.isEqual(e))}var Xte=new Oe(B.comparator),oB=new Ze(B.comparator);function he(...n){let e=oB;for(let t of n)e=e.add(t);return e}var sB=new Ze(re);function aB(){return sB}function FE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function iR(n){return{integerValue:""+n}}function cB(n,e){return FU(e)?iR(e):FE(n,e)}var Is=class{constructor(){this._=void 0}};function uB(n,e,t){return n instanceof Wc?(function(i,o){let s={fields:{[$0]:{stringValue:B0},[z0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&NE(o)&&(o=lf(o)),o&&(s.fields[H0]=o),{mapValue:s}})(t,e):n instanceof ws?oR(n,e):n instanceof Ts?sR(n,e):(function(i,o){let s=dB(i,o),c=WA(s)+WA(i.Ee);return r_(s)&&r_(i.Ee)?iR(c):FE(i.serializer,c)})(n,e)}function lB(n,e,t){return n instanceof ws?oR(n,e):n instanceof Ts?sR(n,e):t}function dB(n,e){return n instanceof Kc?(function(r){return r_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Wc=class extends Is{},ws=class extends Is{constructor(e){super(),this.elements=e}};function oR(n,e){let t=aR(e);for(let r of n.elements)t.some(i=>Mn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ts=class extends Is{constructor(e){super(),this.elements=e}};function sR(n,e){let t=aR(e);for(let r of n.elements)t=t.filter(i=>!Mn(i,r));return{arrayValue:{values:t}}}var Kc=class extends Is{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function WA(n){return Ce(n.integerValue||n.doubleValue)}function aR(n){return xE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function hB(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ws&&i instanceof ws||r instanceof Ts&&i instanceof Ts?ms(r.elements,i.elements,Mn):r instanceof Kc&&i instanceof Kc?Mn(r.Ee,i.Ee):r instanceof Wc&&i instanceof Wc})(n.transform,e.transform)}var Bc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Rh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Qc=class{};function cR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new m_(n.key,Bc.none()):new Yc(n.key,n.data,Bc.none());{let t=n.data,r=er.empty(),i=new Ze(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ds(n.key,r,new $i(i.toArray()),Bc.none())}}function fB(n,e,t){n instanceof Yc?(function(i,o,s){let c=i.value.clone(),u=QA(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Ds?(function(i,o,s){if(!Rh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=QA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(uR(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function $c(n,e,t,r){return n instanceof Yc?(function(o,s,c,u){if(!Rh(o.precondition,s))return c;let l=o.value.clone(),f=YA(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ds?(function(o,s,c,u){if(!Rh(o.precondition,s))return c;let l=YA(o.fieldTransforms,u,s),f=s.data;return f.setAll(uR(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return Rh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function KA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ms(r,i,(o,s)=>hB(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Yc=class extends Qc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ds=class extends Qc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function uR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function QA(n,e,t){let r=new Map;Se(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,lB(s,c,t[i]))}return r}function YA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,uB(o,s,e))}return r}var m_=class extends Qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var y_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&fB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=$c(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=$c(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=rR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=cR(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(t,r)=>KA(t,r))&&ms(this.baseMutations,e.baseMutations,(t,r)=>KA(t,r))}};var v_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var __=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Le,ue;function lR(n){if(n===void 0)return tr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Le.OK:return P.OK;case Le.CANCELLED:return P.CANCELLED;case Le.UNKNOWN:return P.UNKNOWN;case Le.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Le.INTERNAL:return P.INTERNAL;case Le.UNAVAILABLE:return P.UNAVAILABLE;case Le.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Le.NOT_FOUND:return P.NOT_FOUND;case Le.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Le.ABORTED:return P.ABORTED;case Le.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Le.DATA_LOSS:return P.DATA_LOSS;default:return q(39323,{code:n})}}(ue=Le||(Le={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var ZA=null;var pB=new Jn([4294967295,4294967295],0);function JA(n){let e=D0().encode(n),t=new Ov;return t.update(e),new Uint8Array(t.digest())}function XA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jn([t,r],0),new Jn([i,o],0)]}var E_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new zi(`Invalid padding: ${t}`);if(r<0)throw new zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new zi(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Jn.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Jn.fromNumber(r)));return i.compare(pB)===1&&(i=new Jn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=JA(e),[r,i]=XA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=JA(e),[r,i]=XA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},zi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var jh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Y.min(),i,new Oe(re),Gr(),he())}},Zc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,he(),he(),he())}};var ds=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Uh=class{constructor(e,t){this.targetId=e,this.De=t}},Bh=class{constructor(e,t,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},$h=class{constructor(){this.ve=0,this.Ce=e0(),this.Fe=lt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=he(),t=he(),r=he();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new Zc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=e0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},I_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Gr(),this.je=bh(),this.Je=bh(),this.He=new Oe(re)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(f_(o))if(r===0){let s=new B(o.path);this.Xe(t,s,dn.newNoDocument(s,Y.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}ZA?.ct((function(f,p,m,v,S){var R,A,F,J,Z,Ie;let dt={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ve=p.unchangedNames;return ve&&(dt.bloomFilter={applied:S===0,hashCount:(R=ve?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(J=(F=(A=ve?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&J!==void 0?J:0,padding:(Ie=(Z=ve?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&Ie!==void 0?Ie:0,mightContain:w=>{var y;return(y=v?.mightContain(w))!==null&&y!==void 0&&y}}),dt})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=rr(r).toUint8Array()}catch(u){if(u instanceof Oh)return Hr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new E_(s,i,o)}catch(u){return Hr(u instanceof zi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&f_(c.target)){let u=new B(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,dn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=he();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new jh(e,t,this.He,this.ze,r);return this.ze=Gr(),this.je=bh(),this.Je=bh(),this.He=new Oe(re),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new $h,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ze(re),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ze(re),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||k("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new $h),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function bh(){return new Oe(B.comparator)}function e0(){return new Oe(B.comparator)}var gB={asc:"ASCENDING",desc:"DESCENDING"},mB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yB={and:"AND",or:"OR"},w_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function T_(n,e){return n.useProto3Json||uf(e)?e:{value:e}}function D_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hs(n){return Se(!!n,49232),Y.fromTimestamp((function(t){let r=nr(t);return new He(r.seconds,r.nanos)})(n))}function hR(n,e){return b_(n,e).canonicalString()}function b_(n,e){let t=(function(i){return new Pe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function fR(n){let e=Pe.fromString(n);return Se(vR(e),10190,{key:e.toString()}),e}function $v(n,e){let t=fR(e);if(t.get(1)!==n.databaseId.projectId)throw new O(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new B(gR(t))}function pR(n,e){return hR(n.databaseId,e)}function vB(n){let e=fR(n);return e.length===4?Pe.emptyPath():gR(e)}function t0(n){return new Pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gR(n){return Se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _B(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Se(f===void 0||typeof f=="string",58123),lt.fromBase64String(f||"")):(Se(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),lt.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let f=l.code===void 0?P.UNKNOWN:lR(l.code);return new O(f,l.message||"")})(s);t=new Bh(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$v(n,r.document.name),o=hs(r.document.updateTime),s=r.document.createTime?hs(r.document.createTime):Y.min(),c=new er({mapValue:{fields:r.document.fields}}),u=dn.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new ds(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$v(n,r.document),o=r.readTime?hs(r.readTime):Y.min(),s=dn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new ds([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$v(n,r.document),o=r.removedTargetIds||[];t=new ds([],o,i,null)}else{if(!("filter"in e))return q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new __(i,o),c=r.targetId;t=new Uh(c,s)}}return t}function EB(n,e){return{documents:[pR(n,e.path)]}}function IB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=pR(n,i);let o=(function(l){if(l.length!==0)return yR(hn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:cs(m.field),direction:DB(m.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=T_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function wB(n){let e=vB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Se(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let m=mR(p);return m instanceof hn&&Q0(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Qi(us(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,uf(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,v=p.values||[];return new Es(v,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,v=p.values||[];return new Es(v,m)})(t.endAt)),XU(e,i,s,o,c,"F",u,l)}function TB(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=us(t.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=us(t.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=us(t.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=us(t.unaryFilter.field);return Ve.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ve.create(us(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hn.create(t.compositeFilter.filters.map(r=>mR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(t.compositeFilter.op))})(n):q(30097,{filter:n})}function DB(n){return gB[n]}function bB(n){return mB[n]}function CB(n){return yB[n]}function cs(n){return{fieldPath:n.canonicalString()}}function us(n){return Qt.fromServerFormat(n.fieldPath)}function yR(n){return n instanceof Ve?(function(t){if(t.op==="=="){if($A(t.value))return{unaryFilter:{field:cs(t.field),op:"IS_NAN"}};if(BA(t.value))return{unaryFilter:{field:cs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($A(t.value))return{unaryFilter:{field:cs(t.field),op:"IS_NOT_NAN"}};if(BA(t.value))return{unaryFilter:{field:cs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(t.field),op:bB(t.op),value:t.value}}})(n):n instanceof hn?(function(t){let r=t.getFilters().map(i=>yR(i));return r.length===1?r[0]:{compositeFilter:{op:CB(t.op),filters:r}}})(n):q(54877,{filter:n})}function vR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Jc=class n{constructor(e,t,r,i,o=Y.min(),s=Y.min(),c=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var C_=class{constructor(e){this.gt=e}};function SB(n){let e=wB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?g_(e,e.limit,"L"):e}var Hh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),zc(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=nr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(rr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?W0(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):G0(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):q(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ys,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ce(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),B.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Hh.Ut=new Hh;var S_=class{constructor(){this.Dn=new A_}addToCollectionParentIndex(e,t){return this.Dn.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(Ki.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}},A_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ze(Pe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Pe.comparator)).toArray()}};var ene=new Uint8Array(0);var n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_R=41943040,Kt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(_R,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);var Xc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var r0="LruGarbageCollector",AB=1048576;function i0([n,e],[t,r]){let i=re(n,t);return i===0?re(e,r):i}var R_=class{constructor(e){this.Tr=e,this.buffer=new Ze(i0),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();i0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},N_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){k(r0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){As(t)?k(r0,"Ignoring IndexedDB error during garbage collection: ",t):await cf(t)}await this.Rr(3e5)})}},M_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return M.resolve(RE.ue);let r=new R_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(k("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(n0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ss()<=ie.DEBUG&&k("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function RB(n,e){return new M_(n,e)}var P_=class{constructor(){this.changes=new ir(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var x_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var k_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&$c(r.mutation,i,$i.empty(),He.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){let i=Hi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Fc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Hi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=Gr(),s=Uc(),c=(function(){return Uc()})();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Ds)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),$c(f.mutation,l,f.mutation.getFieldMask(),He.now())):s.set(l.key,$i.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new x_(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Uc(),i=new Oe((s,c)=>s-c),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||$i.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||he()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=rR();f.forEach(m=>{if(!o.has(m)){let v=cR(t.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):X0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):M.resolve(Hi()),c=Hc,u=o;return s.next(l=>M.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(f=>({batchId:c,changes:iB(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next(r=>{let i=Fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Fc();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let l=(function(p,m){return new qr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,dn.newInvalidDocument(f)))});let c=Fc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&$c(f.mutation,l,$i.empty(),He.now()),hf(t,l)&&(c=c.insert(u,l))}),c})}};var O_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return M.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:hs(i.createTime)}})(t)),M.resolve()}getNamedQuery(e,t){return M.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:SB(i.bundledQuery),readTime:hs(i.readTime)}})(t)),M.resolve()}};var L_=class{constructor(){this.overlays=new Oe(B.comparator),this.kr=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Hi();return M.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),M.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){let i=Hi(),o=t.length+1,s=new B(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Oe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Hi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Hi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new v_(t,r));let o=this.kr.get(t);o===void 0&&(o=he(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var F_=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,M.resolve()}};var eu=class{constructor(){this.qr=new Ze(Fe.Qr),this.$r=new Ze(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Fe(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Fe(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new B(new Pe([])),r=new Fe(t,e),i=new Fe(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new B(new Pe([])),r=new Fe(t,e),i=new Fe(t,e+1),o=he();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Fe(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return B.comparator(e.key,t.key)||re(e.Hr,t.Hr)}static Ur(e,t){return re(e.Hr,t.Hr)||B.comparator(e.key,t.key)}};var V_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ze(Fe.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new y_(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Fe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,t){return M.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?LU:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Fe(t,0),i=new Fe(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(re);return t.forEach(i=>{let o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Fe(new B(o),0),c=new Ze(re);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),M.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Se(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(t.mutations,i=>{let o=new Fe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Fe(t,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var j_=class{constructor(e){this.ni=e,this.docs=(function(){return new Oe(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=Gr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Gr(),s=t.path,c=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||xU(PU(f),r)<=0||(i.has(f.key)||hf(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,t,r,i){q(9500)}ri(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new U_(this)}getSize(e){return M.resolve(this.size)}},U_=class extends P_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var B_=class{constructor(e){this.persistence=e,this.ii=new ir(t=>kE(t),OE),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.si=0,this.oi=new eu,this.targetCount=0,this._i=Xc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),M.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Xc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.hr(t),M.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),M.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.oi.containsKey(t))}};var zh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new RE(0),this.ci=!1,this.ci=!0,this.li=new F_,this.referenceDelegate=e(this),this.hi=new B_(this),this.indexManager=new S_,this.remoteDocumentCache=(function(i){return new j_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new C_(t),this.Ti=new O_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new L_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new V_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){k("MemoryPersistence","Starting transaction:",e);let i=new $_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},$_=class extends e_{constructor(e){super(),this.currentSequenceNumber=e}},H_=class n{constructor(e){this.persistence=e,this.Ai=new eu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw q(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),M.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=B.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Y.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return M.or([()=>M.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},qh=class n{constructor(e,t){this.persistence=e,this.gi=new ir(r=>VU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=RB(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return M.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,Y.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ah(e.data.value)),t}Sr(e,t,r){return M.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var z_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=he(),i=he();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var q_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var G_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return iS()?8:OU(Qe())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new q_;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(ss()<=ie.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",as(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(ss()<=ie.DEBUG&&k("QueryEngine","Query:",as(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ss()<=ie.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",as(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(t))):M.resolve())}ps(e,t){if(GA(t))return M.resolve(null);let r=Nn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=g_(t,null,"F"),r=Nn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,s,u.readTime)?this.ps(e,g_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return GA(t)||i.isEqual(Y.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?M.resolve(null):(ss()<=ie.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),as(t)),this.vs(e,s,t,MU(i,Hc)).next(c=>c))})}bs(e,t){let r=new Ze(tR(e));return t.forEach((i,o)=>{hf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return ss()<=ie.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",as(t)),this.gs.getDocumentsMatchingQuery(e,t,Ki.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var VE="LocalStore",NB=3e8,W_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Oe(re),this.Ms=new ir(o=>kE(o),OE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function MB(n,e,t,r){return new W_(n,e,t,r)}async function ER(n,e){let t=le(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=he();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})}function IR(n){let e=le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function PB(n,e){let t=le(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,f.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(lt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),(function(R,A,F){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=NB?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,v,f)&&c.push(t.hi.updateTargetData(o,v))});let u=Gr(),l=he();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(xB(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(Y.min())){let f=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function xB(n,e,t){let r=he(),i=he();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Gr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):k(VE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function kB(n,e){let t=le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Jc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function K_(n,e,t){let r=le(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!As(s))throw s;k(VE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function o0(n,e,t){let r=le(n),i=Y.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=le(u),m=p.Ms.get(f);return m!==void 0?M.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)})(r,s,Nn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:Y.min(),t?o:he())).next(c=>(OB(r,tB(e),c),{documents:c,qs:o})))}function OB(n,e,t){let r=n.xs.get(e)||Y.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Gh=class{constructor(){this.activeTargetIds=aB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Q_=class{constructor(){this.Fo=new Gh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Gh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Y_=class{xo(e){}shutdown(){}};var s0="ConnectivityMonitor",Wh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){k(s0,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){k(s0,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ch=null;function Z_(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}var Hv="RestConnection",LB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},J_=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Lh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Z_(),c=this.Go(e,t.toUriEncodedString());k(Hv,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=Rr(l);return this.jo(e,c,u,r,f).then(p=>(k(Hv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Hr(Hv,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ss})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=LB[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var X_=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ut="WebChannelConnection",eE=class extends J_{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Z_();return new Promise((c,u)=>{let l=new Lv;l.setWithCredentials(!0),l.listenOnce(Fv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Lc.NO_ERROR:let p=l.getResponseJson();k(ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Lc.TIMEOUT:k(ut,`RPC '${e}' ${s} timed out`),u(new O(P.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:let m=l.getStatus();if(k(ut,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let S=v?.error;if(S&&S.status&&S.message){let R=(function(F){let J=F.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(J)>=0?J:P.UNKNOWN})(S.status);u(new O(R,S.message))}else u(new O(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new O(P.UNAVAILABLE,"Connection failed."));break;default:q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{k(ut,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);k(ut,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}P_(e,t,r){let i=Z_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Uv(),c=jv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");k(ut,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,v=!1,S=new X_({Ho:A=>{v?k(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(k(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),k(ut,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),R=(A,F,J)=>{A.listen(F,Z=>{try{J(Z)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return R(p,os.EventType.OPEN,()=>{v||(k(ut,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),R(p,os.EventType.CLOSE,()=>{v||(v=!0,k(ut,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),R(p,os.EventType.ERROR,A=>{v||(v=!0,Hr(ut,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.__(new O(P.UNAVAILABLE,"The operation could not be completed")))}),R(p,os.EventType.MESSAGE,A=>{var F;if(!v){let J=A.data[0];Se(!!J,16349);let Z=J,Ie=Z?.error||((F=Z[0])===null||F===void 0?void 0:F.error);if(Ie){k(ut,`RPC '${e}' stream ${i} received error:`,Ie);let dt=Ie.status,ve=(function(E){let I=Le[E];if(I!==void 0)return lR(I)})(dt),w=Ie.message;ve===void 0&&(ve=P.INTERNAL,w="Unknown error status: "+dt+" with message "+Ie.message),v=!0,S.__(new O(ve,w)),p.close()}else k(ut,`RPC '${e}' stream ${i} received:`,J),S.a_(J)}}),R(c,Vv.STAT_EVENT,A=>{A.stat===Th.PROXY?k(ut,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Th.NOPROXY&&k(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function zv(){return typeof document<"u"?document:null}function ff(n){return new w_(n,!0)}var Kh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var a0="PersistentStream",tE=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Kh(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new O(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return k(a0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(k(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nE=class extends tE{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=_B(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Y.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?hs(s.readTime):Y.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=t0(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=f_(u)?{documents:EB(o,u)}:{query:IB(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=dR(o,s.resumeToken);let l=T_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(Y.min())>0){c.readTime=D_(o,s.snapshotVersion.toTimestamp());let l=T_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=TB(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=t0(this.serializer),t.removeTarget=e,this.k_(t)}};var rE=class{},iE=class extends rE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new O(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,b_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(P.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,b_(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(P.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},oE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(tr(t),this._a=!1):k("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var bs="RemoteStore",sE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{su(this)&&(k(bs,"Restarting streams for network reachability change."),await(async function(u){let l=le(u);l.Ia.add(4),await ou(l),l.Aa.set("Unknown"),l.Ia.delete(4),await pf(l)})(this))})}),this.Aa=new oE(r,i)}};async function pf(n){if(su(n))for(let e of n.da)await e(!0)}async function ou(n){for(let e of n.da)await e(!1)}function wR(n,e){let t=le(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),$E(t)?BE(t):Ns(t).x_()&&UE(t,e))}function jE(n,e){let t=le(n),r=Ns(t);t.Ta.delete(e),r.x_()&&TR(t,e),t.Ta.size===0&&(r.x_()?r.B_():su(t)&&t.Aa.set("Unknown"))}function UE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ns(n).H_(e)}function TR(n,e){n.Ra.$e(e),Ns(n).Y_(e)}function BE(n){n.Ra=new I_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ns(n).start(),n.Aa.aa()}function $E(n){return su(n)&&!Ns(n).M_()&&n.Ta.size>0}function su(n){return le(n).Ia.size===0}function DR(n){n.Ra=void 0}async function FB(n){n.Aa.set("Online")}async function VB(n){n.Ta.forEach((e,t)=>{UE(n,e)})}async function jB(n,e){DR(n),$E(n)?(n.Aa.la(e),BE(n)):n.Aa.set("Unknown")}async function UB(n,e,t){if(n.Aa.set("Online"),e instanceof Bh&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})(n,e)}catch(r){k(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await c0(n,r)}else if(e instanceof ds?n.Ra.Ye(e):e instanceof Uh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Y.min()))try{let r=await IR(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(lt.EMPTY_BYTE_STRING,f.snapshotVersion)),TR(o,u);let p=new Jc(f.target,u,l,f.sequenceNumber);UE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){k(bs,"Failed to raise snapshot:",r),await c0(n,r)}}async function c0(n,e,t){if(!As(e))throw e;n.Ia.add(1),await ou(n),n.Aa.set("Offline"),t||(t=()=>IR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{k(bs,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await pf(n)})}async function u0(n,e){let t=le(n);t.asyncQueue.verifyOperationInProgress(),k(bs,"RemoteStore received new credentials");let r=su(t);t.Ia.add(3),await ou(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await pf(t)}async function BB(n,e){let t=le(n);e?(t.Ia.delete(2),await pf(t)):e||(t.Ia.add(2),await ou(t),t.Aa.set("Unknown"))}function Ns(n){return n.Va||(n.Va=(function(t,r,i){let o=le(t);return o.ia(),new nE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:FB.bind(null,n),e_:VB.bind(null,n),n_:jB.bind(null,n),J_:UB.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),$E(n)?BE(n):n.Aa.set("Unknown")):(await n.Va.stop(),DR(n))})),n.Va}var aE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function bR(n,e){if(tr("AsyncQueue",`${e}: ${n}`),As(n))return new O(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Qh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||B.comparator(t.key,r.key):(t,r)=>B.comparator(t.key,r.key),this.keyedMap=Fc(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Yh=class{constructor(){this.fa=new Oe(B.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):q(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Cs=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Qh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var cE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},uE=class{constructor(){this.queries=l0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=le(t),o=i.queries;i.queries=l0(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new O(P.ABORTED,"Firestore shutting down"))}};function l0(){return new ir(n=>eR(n),df)}async function $B(n,e){let t=le(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new cE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let c=bR(s,`Initialization of query '${as(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&HE(t)}async function HB(n,e){let t=le(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function zB(n,e){let t=le(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&HE(t)}function qB(n,e,t){let r=le(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function HE(n){n.Da.forEach(e=>{e.next()})}var lE,d0;(d0=lE||(lE={})).Fa="default",d0.Cache="cache";var dE=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Cs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==lE.Cache}};var Zh=class{constructor(e){this.key=e}},Jh=class{constructor(e){this.key=e}},hE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=he(),this.mutatedKeys=he(),this.Xa=tR(e),this.eu=new Qh(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Yh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),v=hf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),A=!1;m&&v?m.data.isEqual(v.data)?S!==R&&(r.track({type:3,doc:v}),A=!0):this.iu(m,v)||(r.track({type:2,doc:v}),A=!0,(u&&this.Xa(v,u)>0||l&&this.Xa(v,l)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),A=!0):m&&!v&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(c=!0)),A&&(v?(s=s.add(v),o=R?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(v,S){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{At:A})}};return R(v)-R(S)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Cs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Yh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=he(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Jh(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Zh(r))}),t}uu(e){this.Ha=e.qs,this.Za=he();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Cs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},zE="SyncEngine",fE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},pE=class{constructor(e){this.key=e,this.lu=!1}},gE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ir(c=>eR(c),df),this.Tu=new Map,this.Iu=new Set,this.du=new Oe(B.comparator),this.Eu=new Map,this.Au=new eu,this.Ru={},this.Vu=new Map,this.mu=Xc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function GB(n,e,t=!0){let r=NR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await CR(r,e,t,!0),i}async function WB(n,e){let t=NR(n);await CR(t,e,!0,!1)}async function CR(n,e,t,r){let i=await kB(n.localStore,Nn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=await KB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&wR(n.remoteStore,i),c}async function KB(n,e,t,r,i){n.gu=(p,m,v)=>(async function(R,A,F,J){let Z=A.view.nu(F);Z.Ds&&(Z=await o0(R.localStore,A.query,!1).then(({documents:w})=>A.view.nu(w,Z)));let Ie=J&&J.targetChanges.get(A.targetId),dt=J&&J.targetMismatches.get(A.targetId)!=null,ve=A.view.applyChanges(Z,R.isPrimaryClient,Ie,dt);return f0(R,A.targetId,ve._u),ve.snapshot})(n,p,m,v);let o=await o0(n.localStore,e,!0),s=new hE(e,o.qs),c=s.nu(o.documents),u=Zc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);f0(n,t,l._u);let f=new fE(e,t,s);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function QB(n,e,t){let r=le(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!df(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await K_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&jE(r.remoteStore,i.targetId),mE(r,i.targetId)}).catch(cf)):(mE(r,i.targetId),await K_(r.localStore,i.targetId,!0))}async function YB(n,e){let t=le(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jE(t.remoteStore,r.targetId))}async function SR(n,e){let t=le(n);try{let r=await PB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Se(s.lu,14607):i.removedDocuments.size>0&&(Se(s.lu,42227),s.lu=!1))}),await RR(t,r,e)}catch(r){await cf(r)}}function h0(n,e,t){let r=le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=le(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&HE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZB(n,e,t){let r=le(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(B.comparator);s=s.insert(o,dn.newNoDocument(o,Y.min()));let c=he().add(o),u=new jh(Y.min(),new Map,new Oe(re),s,c);await SR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),qE(r)}else await K_(r.localStore,e,!1).then(()=>mE(r,e,t)).catch(cf)}function mE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||AR(n,r)})}function AR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(jE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),qE(n))}function f0(n,e,t){for(let r of t)r instanceof Zh?(n.Au.addReference(r.key,e),JB(n,r)):r instanceof Jh?(k(zE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||AR(n,r.key)):q(19791,{yu:r})}function JB(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(k(zE,"New document in limbo: "+t),n.Iu.add(r),qE(n))}function qE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new B(Pe.fromString(e)),r=n.mu.next();n.Eu.set(r,new pE(t)),n.du=n.du.insert(t,r),wR(n.remoteStore,new Jc(Nn(LE(t.path)),r,"TargetPurposeLimboResolution",RE.ue))}}async function RR(n,e,t){let r=le(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=z_.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let f=le(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Is,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>M.forEach(m.ds,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!As(p))throw p;k(VE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=f.Fs.get(m),S=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(S);f.Fs=f.Fs.insert(m,R)}}})(r.localStore,o))}async function XB(n,e){let t=le(n);if(!t.currentUser.isEqual(e)){k(zE,"User change. New user:",e.toKey());let r=await ER(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new O(P.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await RR(t,r.Bs)}}function e$(n,e){let t=le(n),r=t.Eu.get(e);if(r&&r.lu)return he().add(r.key);{let i=he(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function NR(n){let e=le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZB.bind(null,e),e.hu.J_=zB.bind(null,e.eventManager),e.hu.pu=qB.bind(null,e.eventManager),e}var MR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ff(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return MB(this.persistence,new G_,t.initialUser,this.serializer)}Du(t){return new zh(H_.Vi,this.serializer)}bu(t){return new Q_}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),yE=class extends MR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Se(this.persistence.referenceDelegate instanceof qh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new N_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new zh(r=>qh.Vi(r,t),this.serializer)}};var t$=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>h0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XB.bind(null,this.syncEngine),await BB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uE})()}createDatastore(t){let r=ff(t.databaseInfo.databaseId),i=(function(s){return new eE(s)})(t.databaseInfo);return(function(s,c,u,l){return new iE(s,c,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new sE(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>h0(this.syncEngine,r,0),(function(){return Wh.C()?new Wh:new Y_})())}createSyncEngine(t,r){return(function(o,s,c,u,l,f,p){let m=new gE(o,s,c,u,l,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=le(o);k(bs,"RemoteStore shutting down."),s.Ia.add(5),await ou(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var vE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Wr="FirestoreClient",_E=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=Ph.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{k(Wr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(k(Wr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=bR(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function qv(n,e){n.asyncQueue.verifyOperationInProgress(),k(Wr,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ER(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Hr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{k("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Hr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function p0(n,e){n.asyncQueue.verifyOperationInProgress();let t=await n$(n);k(Wr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>u0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>u0(e.remoteStore,i)),n._onlineComponents=e}async function n$(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){k(Wr,"Using user provided OfflineComponentProvider");try{await qv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Hr("Error using user provided cache. Falling back to memory cache: "+t),await qv(n,new MR)}}else k(Wr,"Using default OfflineComponentProvider"),await qv(n,new yE(void 0));return n._offlineComponents}async function r$(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(k(Wr,"Using user provided OnlineComponentProvider"),await p0(n,n._uninitializedComponentsProvider._online)):(k(Wr,"Using default OnlineComponentProvider"),await p0(n,new t$))),n._onlineComponents}async function g0(n){let e=await r$(n),t=e.eventManager;return t.onListen=GB.bind(null,e.syncEngine),t.onUnlisten=QB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YB.bind(null,e.syncEngine),t}function PR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var m0=new Map;var xR="firestore.googleapis.com",y0=!0,Xh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xR,this.ssl=y0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_R;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AB)throw new O(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},tu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Gv;switch(r.type){case"firstParty":return new Yv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=m0.get(t);r&&(k("ComponentProvider","Removing Datastore"),m0.delete(t),r.terminate())})(this),Promise.resolve()}};function kR(n,e,t,r={}){var i;n=Sh(n,tu);let o=Rr(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Zd(`https://${u}`),Jd("Firestore",!0)),s.host!==xR&&s.host!==u&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!bn(l,c)&&(n._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Ye.MOCK_USER;else{f=JC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new O(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ye(m)}n._authCredentials=new Wv(new Nh(f,p))}}var Yi=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(iu(t,n._jsonSchema))return new n(e,r||null,new B(Pe.fromString(t.referencePath)))}};qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:je("string",qt._jsonSchemaVersion),referencePath:je("string")};var fs=class n extends Yi{constructor(e,t,r){super(e,t,LE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new B(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function OR(n,e,...t){if(n=Mt(n),RU("collection","path",e),n instanceof tu){let r=Pe.fromString(e,...t);return xA(r),new fs(n,null,r)}{if(!(n instanceof qt||n instanceof fs))throw new O(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return xA(r),new fs(n.firestore,null,r)}}var v0="AsyncQueue",ef=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Kh(this,"async_queue_retry"),this.oc=()=>{let r=zv();r&&k(v0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=zv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=zv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new jr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!As(e))throw e;k(v0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,tr("INTERNAL UNHANDLED ERROR: ",_0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=aE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&q(47125,{hc:_0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function _0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function E0(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var nu=class extends tu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ef,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ef(e),this._firestoreClient=void 0,await e}}};function LR(n,e){let t=typeof n=="object"?n:Oi(),r=typeof n=="string"?n:e||Lh,i=es(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ZC("firestore");o&&kR(i,...o)}return i}function i$(n){if(n._terminated)throw new O(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||o$(n),n._firestoreClient}function o$(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,l,f){return new t_(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,PR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new _E(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var Ur=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(lt.fromBase64String(e))}catch(t){throw new O(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:je("string",Ur._jsonSchemaVersion),bytes:je("string")};var tf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var nf=class{constructor(e){this._methodName=e}};var Br=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(iu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:je("string",Br._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};var $r=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new O(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:je("string",$r._jsonSchemaVersion),vectorValues:je("object")};var s$=/^__.*__$/;function FR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ec:n})}}var EE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return wE(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(FR(this.Ec)&&s$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},IE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ff(e)}Dc(e,t,r,i=!1){return new EE({Ec:e,methodName:t,bc:r,path:Qt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function a$(n){let e=n._freezeSettings(),t=ff(n._databaseId);return new IE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function c$(n,e,t,r=!1){return GE(t,n.Dc(r?4:3,e))}function GE(n,e){if(VR(n=Mt(n)))return l$("Unsupported field value:",e,n),u$(n,e);if(n instanceof nf)return(function(r,i){if(!FR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=GE(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=He.fromDate(r);return{timestampValue:D_(i.serializer,o)}}if(r instanceof He){let o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:D_(i.serializer,o)}}if(r instanceof Br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:dR(i.serializer,r._byteString)};if(r instanceof qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hR(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $r)return(function(s,c){return{mapValue:{fields:{[ME]:{stringValue:PE},[ys]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return FE(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${af(r)}`)})(n,e)}function u$(n,e){let t={};return U0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(n,(r,i)=>{let o=GE(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function VR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof He||n instanceof Br||n instanceof Ur||n instanceof qt||n instanceof nf||n instanceof $r)}function l$(n,e,t){if(!VR(t)||!b0(t)){let r=af(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}var d$=new RegExp("[~\\*/\\[\\]]");function h$(n,e,t){if(e.search(d$)>=0)throw wE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tf(...e.split("."))._internalPath}catch{throw wE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wE(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(P.INVALID_ARGUMENT,c+n+u)}var rf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new TE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(WE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},TE=class extends rf{data(){return super.data()}};function WE(n,e){return typeof e=="string"?h$(n,e):e instanceof tf?e._internalPath:e._delegate._internalPath}function f$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ru=class{},of=class extends ru{};function jR(n,e,...t){let r=[];e instanceof ru&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof bE).length,c=o.filter(u=>u instanceof DE).length;if(s>1||s>0&&c>0)throw new O(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var DE=class n extends of{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return BR(e._query,t),new Yi(e.firestore,e.converter,p_(e._query,t))}_parse(e){let t=a$(e.firestore);return(function(o,s,c,u,l,f,p){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new O(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){w0(p,f);let S=[];for(let R of p)S.push(I0(u,o,R));m={arrayValue:{values:S}}}else m=I0(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||w0(p,f),m=c$(c,s,p,f==="in"||f==="not-in");return Ve.create(l,f,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var bE=class n extends ru{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:hn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)BR(s,u),s=p_(s,u)})(e._query,t),new Yi(e.firestore,e.converter,p_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var CE=class n extends of{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new O(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qi(o,s)})(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new qr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function UR(n,e="asc"){let t=e,r=WE("orderBy",n);return CE._create(r,t)}function I0(n,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new O(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X0(e)&&t.indexOf("/")!==-1)throw new O(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Pe.fromString(t));if(!B.isDocumentKey(r))throw new O(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UA(n,new B(r))}if(t instanceof qt)return UA(n,t._key);throw new O(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(t)}.`)}function w0(n,e){if(!Array.isArray(n)||n.length===0)throw new O(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BR(n,e){let t=(function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new O(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var SE=class{convertValue(e,t="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Rs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ys].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new $r(o)}convertGeoPoint(e){return new Br(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=lf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){let t=nr(e);return new He(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Pe.fromString(e);Se(vR(r),9688,{name:e});let i=new Fh(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(t)||tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var qi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Gi=class n extends rf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ps(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(WE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new O(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gi._jsonSchema={type:je("string",Gi._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};var ps=class extends Gi{data(e={}){return super.data(e)}},gs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ps(this._firestore,this._userDataWriter,r.key,r,new qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ps(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ps(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:p$(c.type),doc:u,oldIndex:l,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new O(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ph.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function p$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:n})}}gs._jsonSchemaVersion="firestore/querySnapshot/1.0",gs._jsonSchema={type:je("string",gs._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};var sf=class extends SE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function KE(n,...e){var t,r,i;n=Mt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||E0(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(E0(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof qt)l=Sh(n.firestore,nu),f=LE(n._key.path),u={next:p=>{e[s]&&e[s](g$(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Sh(n,Yi);l=Sh(p.firestore,nu),f=p._query;let m=new sf(l);u={next:v=>{e[s]&&e[s](new gs(l,m,p,v))},error:e[s+1],complete:e[s+2]},f$(n._query)}return(function(m,v,S,R){let A=new vE(R),F=new dE(v,A,S);return m.asyncQueue.enqueueAndForget(async()=>$B(await g0(m),F)),()=>{A.Ou(),m.asyncQueue.enqueueAndForget(async()=>HB(await g0(m),F))}})(i$(l),f,c,u)}function g$(n,e,t){let r=t.docs.get(e._key),i=new sf(n);return new Gi(n,i,e._key,r,new qi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ss=i})(Mr),cn(new It("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new nu(new Kv(r.getProvider("auth-internal")),new Zv(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Me(RA,NA,e),Me(RA,NA,"esm2017")})();var gf=function(){return gf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},gf.apply(this,arguments)};var v$={includeMetadataChanges:!1};function $R(n,e){return e===void 0&&(e=v$),new X(function(t){var r=KE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function HR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:gf(gf({},r),(t={},t[e.idField]=n.id,t))}function zR(n){return $R(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function qR(n,e){return e===void 0&&(e={}),zR(n).pipe(te(function(t){return t.map(function(r){return HR(r,e)})}))}var Zi=class{constructor(e){return e}},GR="firestore",QE=class{constructor(){return ns(GR)}};var YE=new j("angularfire2.firestore-instances");function _$(n,e){let t=bc(GR,n,e);return t&&new Zi(t)}function E$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Zi(r)}}var I$={provide:QE,deps:[[new jt,YE]]},w$={provide:Zi,useFactory:_$,deps:[[new jt,YE],Qn]};function WR(n,...e){return Me("angularfire",Pr.full,"fst"),Ot([w$,I$,{provide:YE,useFactory:E$(n),multi:!0,deps:[_e,Ge,xr,Fi,[new jt,Oc],[new jt,rs],...e]}])}var KR=un(qR,!0);var QR=un(OR,!0,2);var YR=un(LR,!0);var ZR=un(UR,!0,2),JR=un(jR,!0,2);var XR=[];var eN={apiKey:"AIzaSyDqrKGYBro4b_p7B_D6iOTRWj0uxX0HARg",authDomain:"lgcs-blog.firebaseapp.com",projectId:"lgcs-blog",storageBucket:"lgcs-blog.firebasestorage.app",messagingSenderId:"405898323042",appId:"1:405898323042:web:b9610a5a1aa234db535d3b"};var tN={providers:[pg(),Rm(),Dy(XR),bS(()=>CS(eN)),WR(()=>YR()),bA(()=>CA())]};var D$=["*"];function b$(n,e){n&1&&(ne(0,"b",0),ye(1,"Invalid Text"),se())}function C$(n,e){if(n&1&&nt(0,"img",4),n&2){let t=Si(2);Dm(ld("mr-1 ",t.width)),Te("src",ld("images/",t.image,".png"),_i)("alt",Cm(t.image))}}function S$(n,e){if(n&1&&(ne(0,"div",1),Vo(1,C$,1,7,"img",2),ne(2,"p",3),Tm(3),se()()),n&2){let t=Si();pe(),jo(t.image!=="null"?1:-1),pe(),Te("ngClass",t.link?"duration-300 ease-in-out hover:text-orange-500":"")}}var Ms=class n{image;link;width;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ut({type:n,selectors:[["app-text"]],inputs:{image:"image",link:"link",width:"width"},ngContentSelectors:D$,decls:2,vars:1,consts:[[1,"text-red-500"],[1,"flex","items-center"],[3,"src","alt","class"],[1,"text-gray-500",3,"ngClass"],[3,"src","alt"]],template:function(t,r){t&1&&(wm(),Vo(0,b$,2,0,"b",0)(1,S$,4,2,"div",1)),t&2&&jo(r.image===void 0?0:1)},dependencies:[Cr,$m],encapsulation:2})};function A$(n,e){if(n&1&&(ja(0,"a",0)(1,"div",1)(2,"b"),ye(3),Ua()()()),n&2){let t=Si();cd("href",t.href,_i),pe(3),In(t.text)}}function R$(n,e){if(n&1&&(ja(0,"p",1)(1,"b"),ye(2),Ua()()),n&2){let t=Si();pe(2),In(t.text)}}var mf=class n{href;text;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ut({type:n,selectors:[["app-button"]],inputs:{href:"href",text:"text"},decls:2,vars:1,consts:[["target","_blank",3,"href"],[1,"bg-orange-500","duration-300","ease-in-out","hover:bg-orange-600","m-1","p-1","px-2","rounded-md","select-none","text-center","text-white","transition"]],template:function(t,r){t&1&&Vo(0,A$,4,2,"a",0)(1,R$,3,1,"p",1),t&2&&jo(r.href?0:1)},encapsulation:2})};function N$(n,e){if(n&1&&(bi(0),nt(1,"app-button",10),Ci()),n&2){let t=e.$implicit;pe(),Te("text",t)}}function M$(n,e){if(n&1&&(bi(0),ne(1,"app-text",11),ye(2),se(),Ci()),n&2){let t=e.$implicit;pe(2),In(t)}}var yf=class n{post;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ut({type:n,selectors:[["app-post-detail"]],inputs:{post:"post"},decls:14,vars:6,consts:[[1,"p-4","w-full"],[1,"border-2","border-gray-100","h-full","px-6","py-6","rounded-4xl","shrink-0"],[1,"flex","flex-col","h-full"],["image","null"],[1,"pb-1","text-gray-500","text-3xl"],[1,"border-b-2","border-gray-100","mt-1","w-full"],[1,"flex","my-1"],[1,"flex","flex-wrap","mt-1"],[4,"ngFor","ngForOf"],["alt","",1,"rounded-2xl","my-6","shadow-lg/30",3,"src"],[3,"text"],["image","null",1,"my-3"]],template:function(t,r){t&1&&(ne(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-text",3)(4,"b",4),ye(5),se()(),nt(6,"div",5),ne(7,"div",6)(8,"app-text",3),ye(9),se()(),ne(10,"div",7),Dr(11,N$,2,1,"ng-container",8),se(),nt(12,"img",9),Dr(13,M$,3,1,"ng-container",8),se()()()),t&2&&(pe(5),In(r.post.title),pe(4),ud("",r.post.author," \xB7 \u{1F552} ",r.post.date),pe(2),Te("ngForOf",r.post.tags),pe(),Te("src",r.post.image,_i),pe(),Te("ngForOf",r.post.content))},dependencies:[Cr,Bo,mf,Ms],encapsulation:2})};var Ps=class n{constructor(e){this.firestore=e}getPosts(){let e=QR(this.firestore,"posts"),t=JR(e,ZR("time","desc"));return KR(t,{idField:"id"})}getPostCount(){return this.getPosts().pipe(te(e=>e.length))}static \u0275fac=function(t){return new(t||n)(W(Zi))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function P$(n,e){if(n&1&&(bi(0),nt(1,"app-post-detail",3),Ci()),n&2){let t=e.$implicit;pe(),Te("post",t)}}function x$(n,e){if(n&1&&(ne(0,"div",1),Dr(1,P$,2,1,"ng-container",2),se()),n&2){let t=e.ngIf;pe(),Te("ngForOf",t)}}var vf=class n{constructor(e){this.postService=e}posts$;postCount$;ngOnInit(){this.posts$=this.postService.getPosts(),this.postCount$=this.postService.getPostCount()}static \u0275fac=function(t){return new(t||n)(ct(Ps))};static \u0275cmp=Ut({type:n,selectors:[["app-post-list"]],decls:3,vars:3,consts:[["class","space-y-4",4,"ngIf"],[1,"space-y-4"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(t,r){t&1&&(ne(0,"div"),Dr(1,x$,2,1,"div",0),$a(2,"async"),se()),t&2&&(pe(),Te("ngIf",Ha(2,1,r.posts$)))},dependencies:[Cr,Bo,Hm,yf,Wa],encapsulation:2})};var _f=class n{constructor(e){this.postService=e}posts$;postCount$;ngOnInit(){this.posts$=this.postService.getPosts(),this.postCount$=this.postService.getPostCount()}static \u0275fac=function(t){return new(t||n)(ct(Ps))};static \u0275cmp=Ut({type:n,selectors:[["app-root"]],decls:74,vars:14,consts:[[1,"flex","items-center","justify-center"],[1,"border-1","border-gray-100","h-full","m-16","p-4","rounded-2xl","shadow-lg/30","w-3/5"],[1,"flex","items-center","m-4","justify-between"],["src","images/logo.png","alt","logo"],[1,"flex","items-center","justify-center","space-x-2","mb-6"],[1,"text-lg","text-gray-700"],[1,"font-bold","text-xl","text-gray-500"],[1,"flex","mt-4"],[1,"w-3/4"],[1,"p-4","w-1/4"],[1,"border-2","border-gray-100","h-full","px-4","py-6","rounded-4xl","shrink-0"],[1,"flex","flex-col","items-center","justify-center"],["src","images/lgc-s.png","alt","lgc-s",1,"rounded-full","mb-4","shadow-md/40"],["image","null"],[1,"text-gray-700","text-xl"],[1,"flex","flex-col","items-start","justify-center","mt-4","w-full"],[1,"text-gray-700"],["href","https://github.com/lgc-s","target","_blank"],["image","github","width","w-4",3,"link"],["href","https://www.linkedin.com/in/lgc-s/","target","_blank"],["image","linkedin","width","w-4",3,"link"],["href","https://lgc-s.github.io/portfolio/","target","_blank"],["image","portfolio","width","w-4",3,"link"],["href","https://newviainformatica.com.br/","target","_blank"],["image","newvia","width","w-4",3,"link"],["href","https://lgc-s.github.io/vistadoro/","target","_blank"],["image","vistadoro","width","w-4",3,"link"],["href","https://github.com/lgc-s/basketstar","target","_blank"],["image","basketstar","width","w-4",3,"link"],["href","https://lgc-s.github.io/inbv/","target","_blank"],["image","inbv","width","w-4",3,"link"],["href","https://wa.me/558197278307","target","_blank"],["image","whatsapp","width","w-4",3,"link"],["href","https://mail.google.com/mail/?view=cm&fs=1&to=luisguilhermecs3@gmail.com&su=Contact+for+LGC-S&body=Write+your+message+here.","target","_blank"],["image","email","width","w-4",3,"link"],[1,"flex","items-center","justify-center","h-full"]],template:function(t,r){t&1&&(ne(0,"main")(1,"div",0)(2,"div",1)(3,"div",2),nt(4,"img",3),ne(5,"div",4)(6,"p",5)(7,"b"),ye(8,"Total Posts:"),se()(),ne(9,"span",6),ye(10),$a(11,"async"),se()()(),ne(12,"div",7),nt(13,"app-post-list",8),ne(14,"div",9)(15,"div",10)(16,"div",11),nt(17,"img",12),ne(18,"app-text",13)(19,"b",14),ye(20,"LGC-S"),se()(),ne(21,"app-text",13)(22,"b"),ye(23,"\u{1F6E0}\uFE0F Front-End Developer"),se()(),ne(24,"div",15)(25,"app-text",13)(26,"b",16),ye(27,"Main Websites"),se()(),ne(28,"a",17)(29,"app-text",18),ye(30,"GitHub"),se()(),ne(31,"a",19)(32,"app-text",20),ye(33,"LinkedIn"),se()(),ne(34,"a",21)(35,"app-text",22),ye(36,"Portfolio"),se()()(),ne(37,"div",15)(38,"app-text",13)(39,"b",16),ye(40,"Projects"),se()(),ne(41,"a",23)(42,"app-text",24),ye(43,"Newvia"),se()(),ne(44,"a",25)(45,"app-text",26),ye(46,"Vistadoro"),se()(),ne(47,"a",27)(48,"app-text",28),ye(49,"Basketstar"),se()(),ne(50,"a",29)(51,"app-text",30),ye(52,"INBV (WIP)"),se()()(),ne(53,"div",15)(54,"app-text",13)(55,"b",16),ye(56,"Contacts"),se()(),ne(57,"a",17)(58,"app-text",18),ye(59,"GitHub"),se()(),ne(60,"a",19)(61,"app-text",20),ye(62,"LinkedIn"),se()(),ne(63,"a",31)(64,"app-text",32),ye(65,"WhatsApp"),se()(),ne(66,"a",33)(67,"app-text",34),ye(68,"E-mail"),se()()()()()()(),ne(69,"div",35)(70,"app-text",13)(71,"b"),ye(72,"\xA92025 - lgc-s.blog"),se()()()()()(),nt(73,"router-outlet")),t&2&&(pe(10),In(Ha(11,12,r.postCount$)),pe(19),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0),pe(7),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0),pe(7),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0))},dependencies:[gc,vf,Ms,Wa],encapsulation:2})};ey(_f,tN).catch(n=>console.error(n));
