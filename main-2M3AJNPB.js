var cN=Object.defineProperty,uN=Object.defineProperties;var lN=Object.getOwnPropertyDescriptors;var kI=Object.getOwnPropertySymbols;var dN=Object.prototype.hasOwnProperty,hN=Object.prototype.propertyIsEnumerable;var OI=(n,e,t)=>e in n?cN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})dN.call(e,t)&&OI(n,t,e[t]);if(kI)for(var t of kI(e))hN.call(e,t)&&OI(n,t,e[t]);return n},Ee=(n,e)=>uN(n,lN(e));var Uf;function Iu(){return Uf}function ln(n){let e=Uf;return Uf=n,e}var LI=Symbol("NotFound");function Yi(n){return n===LI||n?.name==="\u0275NotFound"}function Bf(n,e){return Object.is(n,e)}var st=null,wu=!1,$f=1,fN=null,wt=Symbol("SIGNAL");function ee(n){let e=st;return st=n,e}function Du(){return st}var Qs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ys(n){if(wu)throw new Error("");if(st===null)return;st.consumerOnSignalRead(n);let e=st.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=st.recomputing;if(r&&(t=e!==void 0?e.nextProducer:st.producers,t!==void 0&&t.producer===n)){st.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===st&&(!r||gN(i,st)))return;let o=Zi(st),s={producer:n,consumer:st,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};st.producersTail=s,e!==void 0?e.nextProducer=s:st.producers=s,o&&UI(n,s)}function FI(){$f++}function Hf(n){if(!(Zi(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===$f)){if(!n.producerMustRecompute(n)&&!Js(n)){Tu(n);return}n.producerRecomputeValue(n),Tu(n)}}function zf(n){if(n.consumers===void 0)return;let e=wu;wu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||pN(r)}}finally{wu=e}}function qf(){return st?.consumerAllowSignalWrites!==!1}function pN(n){n.dirty=!0,zf(n),n.consumerMarkedDirty?.(n)}function Tu(n){n.dirty=!1,n.lastCleanEpoch=$f}function Zs(n){return n&&VI(n),ee(n)}function VI(n){n.producersTail=void 0,n.recomputing=!0}function bu(n,e){ee(e),n&&jI(n)}function jI(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Zi(n))do t=Gf(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Js(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Hf(t),r!==t.version))return!0}return!1}function Xs(n){if(Zi(n)){let e=n.producers;for(;e!==void 0;)e=Gf(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function UI(n,e){let t=n.consumersTail,r=Zi(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)UI(i.producer,i)}function Gf(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Zi(e)){let o=e.producers;for(;o!==void 0;)o=Gf(o)}return t}function Zi(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Wf(n){fN?.(n)}function gN(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function mN(){throw new Error}var BI=mN;function $I(n){BI(n)}function Kf(n){BI=n}var yN=null;function Qf(n,e){let t=Object.create(Cu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>HI(t);return r[wt]=t,Wf(t),[r,s=>Ji(t,s),s=>Yf(t,s)]}function HI(n){return Ys(n),n.value}function Ji(n,e){qf()||$I(n),n.equal(n.value,e)||(n.value=e,vN(n))}function Yf(n,e){qf()||$I(n),Ji(n,e(n.value))}var Cu=Ee(O({},Qs),{equal:Bf,value:void 0,kind:"signal"});function vN(n){n.version++,FI(),zf(n),yN?.(n)}function G(n){return typeof n=="function"}function Xi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Su=Xi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Kr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Re=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){e=o instanceof Su?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zI(o)}catch(s){e=e??[],s instanceof Su?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Su(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Kr(t,e)}remove(e){let{_finalizers:t}=this;t&&Kr(t,e),e instanceof n&&e._removeParent(this)}};Re.EMPTY=(()=>{let n=new Re;return n.closed=!0,n})();var Zf=Re.EMPTY;function Au(n){return n instanceof Re||n&&"closed"in n&&G(n.remove)&&G(n.add)&&G(n.unsubscribe)}function zI(n){G(n)?n():n.unsubscribe()}var Kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eo={setTimeout(n,e,...t){let{delegate:r}=eo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=eo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ru(n){eo.setTimeout(()=>{let{onUnhandledError:e}=Kt;if(e)e(n);else throw n})}function ea(){}var qI=Jf("C",void 0,void 0);function GI(n){return Jf("E",void 0,n)}function WI(n){return Jf("N",n,void 0)}function Jf(n,e,t){return{kind:n,value:e,error:t}}var Qr=null;function to(n){if(Kt.useDeprecatedSynchronousErrorHandling){let e=!Qr;if(e&&(Qr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Qr;if(Qr=null,t)throw r}}else n()}function KI(n){Kt.useDeprecatedSynchronousErrorHandling&&Qr&&(Qr.errorThrown=!0,Qr.error=n)}var Yr=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Au(e)&&e.add(this)):this.destination=IN}static create(e,t,r){return new no(e,t,r)}next(e){this.isStopped?ep(WI(e),this):this._next(e)}error(e){this.isStopped?ep(GI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ep(qI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_N=Function.prototype.bind;function Xf(n,e){return _N.call(n,e)}var tp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Nu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Nu(r)}else Nu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Nu(t)}}},no=class extends Yr{constructor(e,t,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Kt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xf(e.next,o),error:e.error&&Xf(e.error,o),complete:e.complete&&Xf(e.complete,o)}):i=e}this.destination=new tp(i)}};function Nu(n){Kt.useDeprecatedSynchronousErrorHandling?KI(n):Ru(n)}function EN(n){throw n}function ep(n,e){let{onStoppedNotification:t}=Kt;t&&eo.setTimeout(()=>t(n,e))}var IN={closed:!0,next:ea,error:EN,complete:ea};var ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pt(n){return n}function Mu(...n){return np(n)}function np(n){return n.length===0?Pt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var X=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=TN(t)?t:new no(t,r,i);return to(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=QI(r),new r((i,o)=>{let s=new no({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ro](){return this}pipe(...t){return np(t)(this)}toPromise(t){return t=QI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function QI(n){var e;return(e=n??Kt.Promise)!==null&&e!==void 0?e:Promise}function wN(n){return n&&G(n.next)&&G(n.error)&&G(n.complete)}function TN(n){return n&&n instanceof Yr||wN(n)&&Au(n)}function rp(n){return G(n?.lift)}function ae(n){return e=>{if(rp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(n,e,t,r,i){return new ip(n,e,t,r,i)}var ip=class extends Yr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function io(){return ae((n,e)=>{let t=null;n._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var oo=class extends X{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let t=this.getSubject();e.add(this.source.subscribe(ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return io()(this)}};var YI=Xi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class n extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Pu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new YI}next(t){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zf:(this.currentObservers=null,o.push(t),new Re(()=>{this.currentObservers=null,Kr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new X;return t.source=this,t}}return n.create=(e,t)=>new Pu(e,t),n})(),Pu=class extends Je{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Zf}};var Xe=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var op={now(){return(op.delegate||Date).now()},delegate:void 0};var xu=class extends Re{constructor(e,t){super()}schedule(e,t=0){return this}};var ta={setInterval(n,e,...t){let{delegate:r}=ta;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ta;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var so=class extends xu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ta.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ta.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Kr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ao=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ao.now=op.now;var co=class extends ao{constructor(e,t=ao.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var sp=new co(so);var ku=class extends so{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ou=class extends co{};var ap=new Ou(ku);var Tt=new X(n=>n.complete());function ZI(n){return n&&G(n.schedule)}function JI(n){return n[n.length-1]}function XI(n){return G(JI(n))?n.pop():void 0}function ur(n){return ZI(JI(n))?n.pop():void 0}function cp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function ew(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zr(n){return this instanceof Zr?(this.v=n,this):new Zr(n)}function nw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function c(v,S){r[v]&&(i[v]=function(M){return new Promise(function(A,L){o.push([v,M,A,L])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){m(o[0][3],M)}}function l(v){v.value instanceof Zr?Promise.resolve(v.value.v).then(f,p):m(o[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function rw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ew=="function"?ew(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Lu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Fu(n){return G(n?.then)}function Vu(n){return G(n[ro])}function ju(n){return Symbol.asyncIterator&&G(n?.[Symbol.asyncIterator])}function Uu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bu=DN();function $u(n){return G(n?.[Bu])}function Hu(n){return nw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Zr(t.read());if(i)return yield Zr(void 0);yield yield Zr(r)}}finally{t.releaseLock()}})}function zu(n){return G(n?.getReader)}function He(n){if(n instanceof X)return n;if(n!=null){if(Vu(n))return bN(n);if(Lu(n))return CN(n);if(Fu(n))return SN(n);if(ju(n))return iw(n);if($u(n))return AN(n);if(zu(n))return RN(n)}throw Uu(n)}function bN(n){return new X(e=>{let t=n[ro]();if(G(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CN(n){return new X(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function SN(n){return new X(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ru)})}function AN(n){return new X(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iw(n){return new X(e=>{NN(n,e).catch(t=>e.error(t))})}function RN(n){return iw(Hu(n))}function NN(n,e){var t,r,i,o;return tw(this,void 0,void 0,function*(){try{for(t=rw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Dt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function lr(n,e=0){return ae((t,r)=>{t.subscribe(ce(r,i=>Dt(r,n,()=>r.next(i),e),()=>Dt(r,n,()=>r.complete(),e),i=>Dt(r,n,()=>r.error(i),e)))})}function dr(n,e=0){return ae((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ow(n,e){return He(n).pipe(dr(e),lr(e))}function sw(n,e){return He(n).pipe(dr(e),lr(e))}function aw(n,e){return new X(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cw(n,e){return new X(t=>{let r;return Dt(t,e,()=>{r=n[Bu](),Dt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function qu(n,e){if(!n)throw new Error("Iterable cannot be null");return new X(t=>{Dt(t,e,()=>{let r=n[Symbol.asyncIterator]();Dt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function uw(n,e){return qu(Hu(n),e)}function lw(n,e){if(n!=null){if(Vu(n))return ow(n,e);if(Lu(n))return aw(n,e);if(Fu(n))return sw(n,e);if(ju(n))return qu(n,e);if($u(n))return cw(n,e);if(zu(n))return uw(n,e)}throw Uu(n)}function Pe(n,e){return e?lw(n,e):He(n)}function H(...n){let e=ur(n);return Pe(n,e)}function uo(n,e){let t=G(n)?n:()=>n,r=i=>i.error(t());return new X(e?i=>e.schedule(r,0,i):r)}function up(n){return!!n&&(n instanceof X||G(n.lift)&&G(n.subscribe))}var kn=Xi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,e){return ae((t,r)=>{let i=0;t.subscribe(ce(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:MN}=Array;function PN(n,e){return MN(e)?n(...e):n(e)}function dw(n){return te(e=>PN(n,e))}var{isArray:xN}=Array,{getPrototypeOf:kN,prototype:ON,keys:LN}=Object;function hw(n){if(n.length===1){let e=n[0];if(xN(e))return{args:e,keys:null};if(FN(e)){let t=LN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function FN(n){return n&&typeof n=="object"&&kN(n)===ON}function fw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Gu(...n){let e=ur(n),t=XI(n),{args:r,keys:i}=hw(n);if(r.length===0)return Pe([],e);let o=new X(VN(r,e,i?s=>fw(i,s):Pt));return t?o.pipe(dw(t)):o}function VN(n,e,t=Pt){return r=>{pw(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)pw(e,()=>{let l=Pe(n[u],e),f=!1;l.subscribe(ce(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pw(n,e,t){n?Dt(t,n,e):e()}function gw(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let A=!1;He(t(M,f++)).subscribe(ce(e,L=>{i?.(L),o?v(L):e.next(L)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let L=u.shift();s?Dt(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return n.subscribe(ce(e,v,()=>{p=!0,m()})),()=>{c?.()}}function je(n,e,t=1/0){return G(e)?je((r,i)=>te((o,s)=>e(r,o,i,s))(He(n(r,i))),t):(typeof e=="number"&&(t=e),ae((r,i)=>gw(r,i,n,t)))}function mw(n=1/0){return je(Pt,n)}function yw(){return mw(1)}function lo(...n){return yw()(Pe(n,ur(n)))}function na(n){return new X(e=>{He(n()).subscribe(e)})}function xt(n,e){return ae((t,r)=>{let i=0;t.subscribe(ce(r,o=>n.call(e,o,i++)&&r.next(o)))})}function hr(n){return ae((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ce(t,void 0,void 0,s=>{o=He(n(s,hr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function vw(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(ce(s,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function ho(n,e){return G(e)?je(n,e,1):je(n,1)}function fr(n){return ae((e,t)=>{let r=!1;e.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function On(n){return n<=0?()=>Tt:ae((e,t)=>{let r=0;e.subscribe(ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wu(n=jN){return ae((e,t)=>{let r=!1;e.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function jN(){return new kn}function ra(n){return ae((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ln(n,e){let t=arguments.length>=2;return r=>r.pipe(n?xt((i,o)=>n(i,o,r)):Pt,On(1),t?fr(e):Wu(()=>new kn))}function fo(n){return n<=0?()=>Tt:ae((e,t)=>{let r=[];e.subscribe(ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function lp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?xt((i,o)=>n(i,o,r)):Pt,fo(1),t?fr(e):Wu(()=>new kn))}function Ku(n,e){return ae(vw(n,e,arguments.length>=2,!0))}function Qu(...n){let e=ur(n);return ae((t,r)=>{(e?lo(n,t,e):lo(n,t)).subscribe(r)})}function bt(n,e){return ae((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,f=o++;He(n(u,f)).subscribe(i=ce(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Yu(n){return ae((e,t)=>{He(n).subscribe(ce(t,()=>t.complete(),ea)),!t.closed&&e.subscribe(t)})}function ze(n,e,t){let r=G(n)||e||t?{next:n,error:e,complete:t}:n;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Pt}function _w(n){let e=ee(null);try{return n()}finally{ee(e)}}var go=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Tp=new go("20.3.1");var tl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,t){super(nl(e,t)),this.code=e}};function UN(n){return`NG0${Math.abs(n)}`}function nl(n,e){return`${UN(n)}${e?": "+e:""}`}function me(n){for(let e in n)if(n[e]===me)return e;throw Error("")}function pr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(pr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function rl(n,e){return n?e?`${n} ${e}`:n:e||""}var BN=me({__forward_ref__:me});function il(n){return n.__forward_ref__=il,n.toString=function(){return pr(this())},n}function Ct(n){return Dp(n)?n():n}function Dp(n){return typeof n=="function"&&n.hasOwnProperty(BN)&&n.__forward_ref__===il}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mo(n){return{providers:n.providers||[],imports:n.imports||[]}}function aa(n){return $N(n,ol)}function bp(n){return aa(n)!==null}function $N(n,e){return n.hasOwnProperty(e)&&n[e]||null}function HN(n){let e=n?.[ol]??null;return e||null}function hp(n){return n&&n.hasOwnProperty(Ju)?n[Ju]:null}var ol=me({\u0275prov:me}),Ju=me({\u0275inj:me}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cp(n){return n&&!!n.\u0275providers}var Sp=me({\u0275cmp:me}),Ap=me({\u0275dir:me}),Rp=me({\u0275pipe:me}),Np=me({\u0275mod:me}),oa=me({\u0275fac:me}),ti=me({__NG_ELEMENT_ID__:me}),Iw=me({__NG_ENV_ID__:me});function ni(n){return typeof n=="string"?n:n==null?"":String(n)}function Tw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ni(n)}var Dw=me({ngErrorCode:me}),zN=me({ngErrorMessage:me}),qN=me({ngTokenPath:me});function Mp(n,e){return bw("",-200,e)}function sl(n,e){throw new F(-201,!1)}function bw(n,e,t){let r=new F(e,n);return r[Dw]=e,r[zN]=n,t&&(r[qN]=t),r}function GN(n){return n[Dw]}var fp;function Cw(){return fp}function ft(n){let e=fp;return fp=n,e}function Pp(n,e,t){let r=aa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;sl(n,"Injector")}var WN={},Jr=WN,pp="__NG_DI_FLAG__",gp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Xr(t)||0;try{return this.injector.get(e,r&8?null:Jr,r)}catch(i){if(Yi(i))return i;throw i}}};function KN(n,e=0){let t=Iu();if(t===void 0)throw new F(-203,!1);if(t===null)return Pp(n,void 0,e);{let r=QN(e),i=t.retrieve(n,r);if(Yi(i)){if(r.optional)return null;throw i}return i}}function W(n,e=0){return(Cw()||KN)(Ct(n),e)}function R(n,e){return W(n,Xr(e))}function Xr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function QN(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function mp(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=YN(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(W(i,o))}else e.push(W(r))}return e}function Sw(n,e){return n[pp]=e,n.prototype[pp]=e,n}function YN(n){return n[pp]}function gr(n,e){let t=n.hasOwnProperty(oa);return t?n[oa]:null}function al(n,e){n.forEach(t=>Array.isArray(t)?al(t,e):e(t))}function xp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ca(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Aw(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function Rw(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function cl(n,e,t){let r=yo(n,e);return r>=0?n[r|1]=t:(r=~r,Rw(n,r,e,t)),r}function ul(n,e){let t=yo(n,e);if(t>=0)return n[t|1]}function yo(n,e){return ZN(n,e,1)}function ZN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ri={},St=[],jn=new j(""),kp=new j("",-1),Op=new j(""),sa=class{get(e,t=Jr){if(t===Jr){let i=bw("",-201);throw i.name="\u0275NotFound",i}return t}};function Lp(n){return n[Np]||null}function yr(n){return n[Sp]||null}function Fp(n){return n[Ap]||null}function Nw(n){return n[Rp]||null}function kt(n){return{\u0275providers:n}}function Mw(n){return kt([{provide:jn,multi:!0,useValue:n}])}function Pw(...n){return{\u0275providers:Vp(!0,n),\u0275fromNgModule:!0}}function Vp(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return al(e,s=>{let c=s;Xu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&xw(i,o),t}function xw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];jp(i,o=>{e(o,r)})}}function Xu(n,e,t,r){if(n=Ct(n),!n)return!1;let i=null,o=hp(n),s=!o&&yr(n);if(!o&&!s){let u=n.ngModule;if(o=hp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Xu(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{al(o.imports,f=>{Xu(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&xw(l,e)}if(!c){let l=gr(i)||(()=>new i);e({provide:i,useFactory:l,deps:St},i),e({provide:Op,useValue:i,multi:!0},i),e({provide:jn,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;jp(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function jp(n,e){for(let t of n)Cp(t)&&(t=t.\u0275providers),Array.isArray(t)?jp(t,e):e(t)}var JN=me({provide:String,useValue:me});function kw(n){return n!==null&&typeof n=="object"&&JN in n}function XN(n){return!!(n&&n.useExisting)}function eM(n){return!!(n&&n.useFactory)}function el(n){return typeof n=="function"}var ua=new j(""),Zu={},ww={},dp;function la(){return dp===void 0&&(dp=new sa),dp}var Ue=class{},ei=class extends Ue{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,vp(e,s=>this.processProvider(s)),this.records.set(kp,po(void 0,this)),i.has("environment")&&this.records.set(Ue,po(void 0,this));let o=this.records.get(ua);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Op,St,{self:!0}))}retrieve(e,t){let r=Xr(t)||0;try{return this.get(e,Jr,r)}catch(i){if(Yi(i))return i;throw i}}destroy(){ia(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return ia(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ia(this);let t=ln(this),r=ft(void 0),i;try{return e()}finally{ln(t),ft(r)}}get(e,t=Jr,r){if(ia(this),e.hasOwnProperty(Iw))return e[Iw](this);let i=Xr(r),o,s=ln(this),c=ft(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=oM(e)&&aa(e);f&&this.injectableDefInScope(f)?l=po(yp(e),Zu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?la():this.parent;return t=i&8&&t===Jr?null:t,u.get(e,t)}catch(u){let l=GN(u);throw l===-200||l===-201?new F(l,null):u}finally{ft(c),ln(s)}}resolveInjectorInitializers(){let e=ee(null),t=ln(this),r=ft(void 0),i;try{let o=this.get(jn,St,{self:!0});for(let s of o)s()}finally{ln(t),ft(r),ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(pr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ct(e);let t=el(e)?e:Ct(e&&e.provide),r=nM(e);if(!el(e)&&e.multi===!0){let i=this.records.get(t);i||(i=po(void 0,Zu,!0),i.factory=()=>mp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ee(null);try{if(t.value===ww)throw Mp(pr(e));return t.value===Zu&&(t.value=ww,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&iM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function yp(n){let e=aa(n),t=e!==null?e.factory:gr(n);if(t!==null)return t;if(n instanceof j)throw new F(204,!1);if(n instanceof Function)return tM(n);throw new F(204,!1)}function tM(n){if(n.length>0)throw new F(204,!1);let t=HN(n);return t!==null?()=>t.factory(n):()=>new n}function nM(n){if(kw(n))return po(void 0,n.useValue);{let e=Ow(n);return po(e,Zu)}}function Ow(n,e,t){let r;if(el(n)){let i=Ct(n);return gr(i)||yp(i)}else if(kw(n))r=()=>Ct(n.useValue);else if(eM(n))r=()=>n.useFactory(...mp(n.deps||[]));else if(XN(n))r=(i,o)=>W(Ct(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ct(n&&(n.useClass||n.provide));if(rM(n))r=()=>new i(...mp(n.deps));else return gr(i)||yp(i)}return r}function ia(n){if(n.destroyed)throw new F(205,!1)}function po(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function rM(n){return!!n.deps}function iM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function oM(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function vp(n,e){for(let t of n)Array.isArray(t)?vp(t,e):t&&Cp(t)?vp(t.\u0275providers,e):e(t)}function Be(n,e){let t;n instanceof ei?(ia(n),t=n):t=new gp(n);let r,i=ln(t),o=ft(void 0);try{return e()}finally{ln(i),ft(o)}}function Lw(){return Cw()!==void 0||Iu()!=null}var Qt=0,z=1,K=2,et=3,zt=4,pt=5,vo=6,ll=7,gt=8,da=9,hn=10,xe=11,_o=12,Up=13,ii=14,At=15,oi=16,si=17,ai=18,ha=19,Bp=20,Fn=21,dl=22,fa=23,Ot=24,hl=25,mt=26,Ne=27,Fw=1;var vr=7,pa=8,ga=9,yt=10;function fn(n){return Array.isArray(n)&&typeof n[Fw]=="object"}function Yt(n){return Array.isArray(n)&&n[Fw]===!0}function $p(n){return(n.flags&4)!==0}function ci(n){return n.componentOffset>-1}function ma(n){return(n.flags&1)===1}function ui(n){return!!n.template}function Eo(n){return(n[K]&512)!==0}function li(n){return(n[K]&256)===256}var Vw="svg",jw="math";function Zt(n){for(;Array.isArray(n);)n=n[Qt];return n}function Hp(n,e){return Zt(e[n])}function Un(n,e){return Zt(e[n.index])}function ya(n,e){return n.data[e]}function Uw(n,e){return n[e]}function zp(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Jt(n,e){let t=e[n];return fn(t)?t:t[Qt]}function fl(n){return(n[K]&128)===128}function Bw(n){return Yt(n[et])}function pn(n,e){return e==null?null:n[e]}function qp(n){n[si]=0}function Gp(n){n[K]&1024||(n[K]|=1024,fl(n)&&_a(n))}function $w(n,e){for(;n>0;)e=e[ii],n--;return e}function va(n){return!!(n[K]&9216||n[Ot]?.dirty)}function pl(n){n[hn].changeDetectionScheduler?.notify(8),n[K]&64&&(n[K]|=1024),va(n)&&_a(n)}function _a(n){n[hn].changeDetectionScheduler?.notify(0);let e=mr(n);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!fl(e)));)e=mr(e)}function Wp(n,e){if(li(n))throw new F(911,!1);n[Fn]===null&&(n[Fn]=[]),n[Fn].push(e)}function Hw(n,e){if(n[Fn]===null)return;let t=n[Fn].indexOf(e);t!==-1&&n[Fn].splice(t,1)}function mr(n){let e=n[et];return Yt(e)?e[et]:e}var oe={lFrame:tT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _p=!1;function zw(){return oe.lFrame.elementDepthCount}function qw(){oe.lFrame.elementDepthCount++}function Kp(){oe.lFrame.elementDepthCount--}function gl(){return oe.bindingsEnabled}function Qp(){return oe.skipHydrationRootTNode!==null}function Yp(n){return oe.skipHydrationRootTNode===n}function Zp(){oe.skipHydrationRootTNode=null}function de(){return oe.lFrame.lView}function Lt(){return oe.lFrame.tView}function Ft(){let n=Jp();for(;n!==null&&n.type===64;)n=n.parent;return n}function Jp(){return oe.lFrame.currentTNode}function Gw(){let n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Io(n,e){let t=oe.lFrame;t.currentTNode=n,t.isParent=e}function Xp(){return oe.lFrame.isParent}function eg(){oe.lFrame.isParent=!1}function tg(){return _p}function ng(n){let e=_p;return _p=n,e}function Ww(){let n=oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Kw(){return oe.lFrame.bindingIndex}function Qw(n){return oe.lFrame.bindingIndex=n}function wo(){return oe.lFrame.bindingIndex++}function rg(n){let e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Yw(){return oe.lFrame.inI18n}function Zw(n,e){let t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,ml(e)}function Jw(){return oe.lFrame.currentDirectiveIndex}function ml(n){oe.lFrame.currentDirectiveIndex=n}function Xw(n){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ig(n){oe.lFrame.currentQueryIndex=n}function sM(n){let e=n[z];return e.type===2?e.declTNode:e.type===1?n[pt]:null}function og(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=sM(o),i===null||(o=o[ii],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=oe.lFrame=eT();return r.currentTNode=e,r.lView=n,!0}function yl(n){let e=eT(),t=n[z];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function eT(){let n=oe.lFrame,e=n===null?null:n.child;return e===null?tT(n):e}function tT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function nT(){let n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var sg=nT;function vl(){let n=nT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function rT(n){return(oe.lFrame.contextLView=$w(n,oe.lFrame.contextLView))[gt]}function _r(){return oe.lFrame.selectedIndex}function Er(n){oe.lFrame.selectedIndex=n}function ag(){let n=oe.lFrame;return ya(n.tView,n.selectedIndex)}function iT(){return oe.lFrame.currentNamespace}var oT=!0;function _l(){return oT}function Ea(n){oT=n}function Ep(n,e=null,t=null,r){let i=cg(n,e,t,r);return i.resolveInjectorInitializers(),i}function cg(n,e=null,t=null,r,i=new Set){let o=[t||St,Pw(n)];return r=r||(typeof n=="object"?void 0:pr(n)),new ei(o,e||la(),r||null,i)}var qe=class n{static THROW_IF_NOT_FOUND=Jr;static NULL=new sa;static create(e,t){if(Array.isArray(e))return Ep({name:""},t,e,"");{let r=e.name??"";return Ep({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>W(kp)});static __NG_ELEMENT_ID__=-1},Ge=new j(""),Ir=(()=>{class n{static __NG_ELEMENT_ID__=aM;static __NG_ENV_ID__=t=>t}return n})(),Ip=class extends Ir{_lView;constructor(e){super(),this._lView=e}get destroyed(){return li(this._lView)}onDestroy(e){let t=this._lView;return Wp(t,e),()=>Hw(t,e)}};function aM(){return new Ip(de())}var dn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Rt=new j("",{providedIn:"root",factory:()=>{let n=R(Ue),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(dn),e.handleError(t))}}}),sT={provide:jn,useValue:()=>void R(dn),multi:!0},cM=new j("",{providedIn:"root",factory:()=>{let n=R(Ge).defaultView;if(!n)return;let e=R(Rt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),R(Ir).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function ug(){return kt([Mw(()=>void R(cM))])}function To(n,e){let[t,r,i]=Qf(n,e?.equal),o=t,s=o[wt];return o.set=r,o.update=i,o.asReadonly=aT.bind(o),o}function aT(){let n=this[wt];if(n.readonlyFn===void 0){let e=()=>this();e[wt]=n,n.readonlyFn=e}return n.readonlyFn}var Vn=class{},Ia=new j("",{providedIn:"root",factory:()=>!1});var lg=new j(""),El=new j("");var gn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Xe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new X(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),Do=(()=>{class n{internalPendingTasks=R(gn);scheduler=R(Vn);errorHandler=R(Rt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})();function wa(...n){}var dg=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new wp})}return n})(),wp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function No(n){return{toString:n}.toString()}var Il="__parameters__";function EM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function IM(n,e,t){return No(()=>{let r=EM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Il)?u[Il]:Object.defineProperty(u,Il,{value:[]})[Il];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Vt=Sw(IM("Optional"),8);function wM(n){return typeof n=="function"}var Cl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function xT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var $l=(()=>{let n=()=>kT;return n.ngInherit=!0,n})();function kT(n){return n.type.prototype.ngOnChanges&&(n.setInput=DM),TM}function TM(){let n=LT(this),e=n?.current;if(e){let t=n.previous;if(t===ri)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function DM(n,e,t,r,i){let o=this.declaredInputs[r],s=LT(n)||bM(n,{previous:ri,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Cl(l&&l.currentValue,t,u===ri),xT(n,e,i,t)}var OT="__ngSimpleChanges__";function LT(n){return n[OT]||null}function bM(n,e){return n[OT]=e}var cT=[];var be=function(n,e=null,t){for(let r=0;r<cT.length;r++){let i=cT[r];i(n,e,t)}};function CM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=kT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function FT(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Tl(n,e,t){VT(n,e,3,t)}function Dl(n,e,t,r){(n[K]&3)===t&&VT(n,e,t,r)}function hg(n,e){let t=n[K];(t&3)===e&&(t&=16383,t+=1,n[K]=t)}function VT(n,e,t,r){let i=r!==void 0?n[si]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[si]+=65536),(c<o||o==-1)&&(SM(n,t,e,u),n[si]=(n[si]&4294901760)+u+2),u++}function uT(n,e){be(4,n,e);let t=ee(null);try{e.call(n)}finally{ee(t),be(5,n,e)}}function SM(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[K]>>14<n[si]>>16&&(n[K]&3)===e&&(n[K]+=16384,uT(c,o)):uT(c,o)}var Co=-1,ba=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function AM(n){return(n.flags&8)!==0}function RM(n){return(n.flags&16)!==0}function NM(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];PM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function MM(n){return n===3||n===4||n===6}function PM(n){return n.charCodeAt(0)===64}function Hl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?lT(n,t,i,null,e[++r]):lT(n,t,i,null,null))}}return n}function lT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function jT(n){return n!==Co}function Sl(n){return n&32767}function xM(n){return n>>16}function Al(n,e){let t=xM(n),r=e;for(;t>0;)r=r[ii],t--;return r}var vg=!0;function Rl(n){let e=vg;return vg=n,e}var kM=256,UT=kM-1,BT=5,OM=0,mn={};function LM(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ti)&&(r=t[ti]),r==null&&(r=t[ti]=OM++);let i=r&UT,o=1<<i;e.data[n+(i>>BT)]|=o}function $T(n,e){let t=HT(n,e);if(t!==-1)return t;let r=e[z];r.firstCreatePass&&(n.injectorIndex=e.length,fg(r.data,n),fg(e,null),fg(r.blueprint,null));let i=Lg(n,e),o=n.injectorIndex;if(jT(i)){let s=Sl(i),c=Al(i,e),u=c[z].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function fg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function HT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Lg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=KT(i),r===null)return Co;if(t++,i=i[ii],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Co}function FM(n,e,t){LM(n,e,t)}function zT(n,e,t){if(t&8||n!==void 0)return n;sl(e,"NodeInjector")}function qT(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[da],o=ft(void 0);try{return i?i.get(e,r,t&8):Pp(e,r,t&8)}finally{ft(o)}}return zT(r,e,t)}function GT(n,e,t,r=0,i){if(n!==null){if(e[K]&2048&&!(r&2)){let s=$M(n,e,t,r,mn);if(s!==mn)return s}let o=WT(n,e,t,r,mn);if(o!==mn)return o}return qT(e,t,r,i)}function WT(n,e,t,r,i){let o=UM(t);if(typeof o=="function"){if(!og(e,n,r))return r&1?zT(i,t,r):qT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))sl(t);else return s}finally{sg()}}else if(typeof o=="number"){let s=null,c=HT(n,e),u=Co,l=r&1?e[At][pt]:null;for((c===-1||r&4)&&(u=c===-1?Lg(n,e):e[c+8],u===Co||!hT(r,!1)?c=-1:(s=e[z],c=Sl(u),e=Al(u,e)));c!==-1;){let f=e[z];if(dT(o,c,f.data)){let p=VM(c,e,t,s,r,l);if(p!==mn)return p}u=e[c+8],u!==Co&&hT(r,e[z].data[c+8]===l)&&dT(o,c,e)?(s=f,c=Sl(u),e=Al(u,e)):c=-1}}return i}function VM(n,e,t,r,i,o){let s=e[z],c=s.data[n+8],u=r==null?ci(c)&&vg:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=jM(c,s,t,u,l);return f!==null?_g(e,s,f,c,i):mn}function jM(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let v=p;v<m;v++){let S=s[v];if(v<u&&t===S||v>=u&&S.type===t)return v}if(i){let v=s[u];if(v&&ui(v)&&v.type===t)return u}return null}function _g(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof ba){let c=o;if(c.resolving){let v=Tw(s[t]);throw Mp(v)}let u=Rl(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],f,p=c.injectImpl?ft(c.injectImpl):null,m=og(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&CM(t,s[t],e)}finally{p!==null&&ft(p),Rl(u),c.resolving=!1,sg()}}return o}function UM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ti)?n[ti]:void 0;return typeof e=="number"?e>=0?e&UT:BM:e}function dT(n,e,t){let r=1<<n;return!!(t[e+(n>>BT)]&r)}function hT(n,e){return!(n&2)&&!(n&1&&e)}var di=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return GT(this._tNode,this._lView,e,Xr(r),t)}};function BM(){return new di(Ft(),de())}function zl(n){return No(()=>{let e=n.prototype.constructor,t=e[oa]||Eg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[oa]||Eg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eg(n){return Dp(n)?()=>{let e=Eg(Ct(n));return e&&e()}:gr(n)}function $M(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!Eo(s);){let c=WT(o,s,t,r|2,mn);if(c!==mn)return c;let u=o.parent;if(!u){let l=s[Bp];if(l){let f=l.get(t,mn,r);if(f!==mn)return f}u=KT(s),s=s[ii]}o=u}return i}function KT(n){let e=n[z],t=e.type;return t===2?e.declTNode:t===1?n[pt]:null}function HM(){return ql(Ft(),de())}function ql(n,e){return new Gl(Un(n,e))}var Gl=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=HM}return n})();function QT(n){return(n.flags&128)===128}var Fg=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Fg||{}),YT=new Map,zM=0;function qM(){return zM++}function GM(n){YT.set(n[ha],n)}function Ig(n){YT.delete(n[ha])}var fT="__ngContext__";function So(n,e){fn(e)?(n[fT]=e[ha],GM(e)):n[fT]=e}function ZT(n){return XT(n[_o])}function JT(n){return XT(n[zt])}function XT(n){for(;n!==null&&!Yt(n);)n=n[zt];return n}var wg;function Vg(n){wg=n}function eD(){if(wg!==void 0)return wg;if(typeof document<"u")return document;throw new F(210,!1)}var Wl=new j("",{providedIn:"root",factory:()=>WM}),WM="ng",Kl=new j(""),Tr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Ql=new j("",{providedIn:"root",factory:()=>eD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KM="h",QM="b";var tD=!1,nD=new j("",{providedIn:"root",factory:()=>tD});function Yl(n){return(n.flags&32)===32}var YM=()=>null;function rD(n,e,t=!1){return YM(n,e,t)}function iD(n,e){let t=n.contentQueries;if(t!==null){let r=ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];ig(o),c.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function Tg(n,e,t){ig(0);let r=ee(null);try{e(n,t)}finally{ee(r)}}function jg(n,e,t){if($p(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{ee(r)}}}var Bn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Bn||{});var Nl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tl})`}};function Ug(n){return n instanceof Nl?n.changingThisBreaksApplicationSecurity:n}function oD(n,e){let t=sD(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${tl})`)}return t===e}function sD(n){return n instanceof Nl&&n.getTypeName()||null}var ZM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function aD(n){return n=String(n),n.match(ZM)?n:"unsafe:"+n}var Bg=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Bg||{});function gi(n){let e=JM();return e?e.sanitize(Bg.URL,n)||"":oD(n,"URL")?Ug(n):aD(ni(n))}function JM(){let n=de();return n&&n[hn].sanitizer}var XM=/^>|^->|<!--|-->|--!>|<!-$/g,eP=/(<|>)/g,tP="\u200B$1\u200B";function nP(n){return n.replace(XM,e=>e.replace(eP,tP))}function cD(n){return n instanceof Function?n():n}function rP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var uD="ng-template";function iP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if($g(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function $g(n){return n.type===4&&n.value!==uD}function oP(n,e,t){let r=n.type===4&&!t?uD:n.value;return e===r}function sP(n,e,t){let r=4,i=n.attrs,o=i!==null?uP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Xt(r)&&!Xt(u))return!1;if(s&&Xt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!oP(n,u,t)||u===""&&e.length===1){if(Xt(r))return!1;s=!0}}else if(r&8){if(i===null||!iP(n,i,u,t)){if(Xt(r))return!1;s=!0}}else{let l=e[++c],f=aP(u,i,$g(n),t);if(f===-1){if(Xt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Xt(r))return!1;s=!0}}}}return Xt(r)||s}function Xt(n){return(n&1)===0}function aP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return lP(e,n)}function lD(n,e,t=!1){for(let r=0;r<e.length;r++)if(sP(n,e[r],t))return!0;return!1}function cP(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function uP(n){for(let e=0;e<n.length;e++){let t=n[e];if(MM(t))return e}return n.length}function lP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function dP(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function pT(n,e){return n?":not("+e.trim()+")":e}function hP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Xt(s)&&(e+=pT(o,i),i=""),r=s,o=o||!Xt(r);t++}return i!==""&&(e+=pT(o,i)),e}function fP(n){return n.map(hP).join(",")}function pP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Xt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Nt={};function gP(n,e){return n.createText(e)}function mP(n,e,t){n.setValue(e,t)}function yP(n,e){return n.createComment(nP(e))}function dD(n,e,t){return n.createElement(e,t)}function Ml(n,e,t,r,i){n.insertBefore(e,t,r,i)}function hD(n,e,t){n.appendChild(e,t)}function gT(n,e,t,r,i){r!==null?Ml(n,e,t,r,i):hD(n,e,t)}function vP(n,e,t){n.removeChild(null,e,t)}function _P(n,e,t){n.setAttribute(e,"style",t)}function EP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function fD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&NM(n,e,r),i!==null&&EP(n,e,i),o!==null&&_P(n,e,o)}function Hg(n,e,t,r,i,o,s,c,u,l,f){let p=Ne+r,m=p+i,v=IP(p,m),S=typeof l=="function"?l():l;return v[z]={type:n,blueprint:v,template:t,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function IP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Nt);return t}function wP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Hg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function zg(n,e,t,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Qt]=i,p[K]=r|4|128|8|64|1024,(l!==null||n&&n[K]&2048)&&(p[K]|=2048),qp(p),p[et]=p[ii]=n,p[gt]=t,p[hn]=s||n&&n[hn],p[xe]=c||n&&n[xe],p[da]=u||n&&n[da]||null,p[pt]=o,p[ha]=qM(),p[vo]=f,p[Bp]=l,p[At]=e.type==2?n[At]:p,p}function TP(n,e,t){let r=Un(e,n),i=wP(t),o=n[hn].rendererFactory,s=qg(n,zg(n,i,null,pD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function pD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function gD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function qg(n,e){return n[_o]?n[Up][zt]=e:n[_o]=e,n[Up]=e,e}function pe(n=1){mD(Lt(),de(),_r()+n,!1)}function mD(n,e,t,r){if(!r)if((e[K]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Tl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Dl(e,o,0,t)}Er(t)}var Zl=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Zl||{});function Dg(n,e,t,r){let i=ee(null);try{let[o,s,c]=n.inputs[t],u=null;(s&Zl.SignalBased)!==0&&(u=e[o][wt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):xT(e,u,o,r)}finally{ee(i)}}var yn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(yn||{}),DP;function Gg(n,e){return DP(n,e)}var Jl=new Set;function bo(n,e,t,r,i,o){if(r!=null){let s,c=!1;Yt(r)?s=r:fn(r)&&(c=!0,r=r[Qt]);let u=Zt(r);n===0&&t!==null?i==null?hD(e,t,u):Ml(e,t,u,i||null,!0):n===1&&t!==null?Ml(e,t,u,i||null,!0):n===2?mT(o,()=>{vP(e,u,c)}):n===3&&mT(o,()=>{e.destroyNode(u)}),s!=null&&OP(e,n,s,t,i)}}function bP(n,e){yD(n,e),e[Qt]=null,e[pt]=null}function CP(n,e,t,r,i,o){r[Qt]=i,r[pt]=e,Xl(n,r,t,1,i,o)}function yD(n,e){e[hn].changeDetectionScheduler?.notify(9),Xl(n,e,e[xe],2,null,null)}function SP(n){let e=n[_o];if(!e)return pg(n[z],n);for(;e;){let t=null;if(fn(e))t=e[_o];else{let r=e[yt];r&&(t=r)}if(!t){for(;e&&!e[zt]&&e!==n;)fn(e)&&pg(e[z],e),e=e[et];e===null&&(e=n),fn(e)&&pg(e[z],e),t=e&&e[zt]}e=t}}function Wg(n,e){let t=n[ga],r=t.indexOf(e);t.splice(r,1)}function Kg(n,e){if(li(e))return;let t=e[xe];t.destroyNode&&Xl(n,e,t,3,null,null),SP(e)}function pg(n,e){if(li(e))return;let t=ee(null);try{e[K]&=-129,e[K]|=256,e[Ot]&&Xs(e[Ot]),NP(n,e),RP(n,e),e[z].type===1&&e[xe].destroy();let r=e[oi];if(r!==null&&Yt(e[et])){r!==e[et]&&Wg(r,e);let i=e[ai];i!==null&&i.detachView(n)}Ig(e)}finally{ee(t)}}function mT(n,e){if(n&&n[mt]&&n[mt].leave)if(n[mt].skipLeaveAnimations)n[mt].skipLeaveAnimations=!1;else{let t=n[mt].leave,r=[];for(let i=0;i<t.length;i++){let o=t[i];r.push(o())}n[mt].running=Promise.allSettled(r),n[mt].leave=void 0}AP(n,e)}function AP(n,e){if(n&&n[mt]&&n[mt].running){n[mt].running.then(()=>{n[mt]&&n[mt].running&&(n[mt].running=void 0),Jl.delete(n),e()});return}e()}function RP(n,e){let t=n.cleanup,r=e[ll];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[ll]=null);let i=e[Fn];if(i!==null){e[Fn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[fa];if(o!==null){e[fa]=null;for(let s of o)s.destroy()}}function NP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ba)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];be(4,c,u);try{u.call(c)}finally{be(5,c,u)}}else{be(4,i,o);try{o.call(i)}finally{be(5,i,o)}}}}}function vD(n,e,t){return MP(n,e.parent,t)}function MP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Qt];if(ci(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Bn.None||i===Bn.Emulated)return null}return Un(r,t)}function _D(n,e,t){return xP(n,e,t)}function PP(n,e,t){return n.type&40?Un(n,t):null}var xP=PP,yT;function Qg(n,e,t,r){let i=vD(n,r,e),o=e[xe],s=r.parent||e[pt],c=_D(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)gT(o,i,t[u],c,!1);else gT(o,i,t,c,!1);yT!==void 0&&yT(o,r,e,t,i)}function Ta(n,e){if(e!==null){let t=e.type;if(t&3)return Un(e,n);if(t&4)return bg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ta(n,r);{let i=n[e.index];return Yt(i)?bg(-1,i):Zt(i)}}else{if(t&128)return Ta(n,e.next);if(t&32)return Gg(e,n)()||Zt(n[e.index]);{let r=ED(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=mr(n[At]);return Ta(i,r)}else return Ta(n,e.next)}}}return null}function ED(n,e){if(e!==null){let r=n[At][pt],i=e.projection;return r.projection[i]}return null}function bg(n,e){let t=yt+n+1;if(t<e.length){let r=e[t],i=r[z].firstChild;if(i!==null)return Ta(r,i)}return e[vr]}function Yg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&So(Zt(c),r),t.flags|=2),!Yl(t))if(u&8)Yg(n,e,t.child,r,i,o,!1),bo(e,n,i,c,o,r);else if(u&32){let l=Gg(t,r),f;for(;f=l();)bo(e,n,i,f,o,r);bo(e,n,i,c,o,r)}else u&16?ID(n,e,r,t,i,o):bo(e,n,i,c,o,r);t=s?t.projectionNext:t.next}}function Xl(n,e,t,r,i,o){Yg(t,r,n.firstChild,e,i,o,!1)}function kP(n,e,t){let r=e[xe],i=vD(n,t,e),o=t.parent||e[pt],s=_D(o,t,e);ID(r,0,e,t,i,s)}function ID(n,e,t,r,i,o){let s=t[At],u=s[pt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];bo(e,n,i,f,o,t)}else{let l=u,f=s[et];QT(r)&&(l.flags|=128),Yg(n,e,l,f,i,o,!0)}}function OP(n,e,t,r,i){let o=t[vr],s=Zt(t);o!==s&&bo(e,n,r,o,i);for(let c=yt;c<t.length;c++){let u=t[c];Xl(u[z],u,n,e,r,o)}}function LP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:yn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yn.Important),n.setStyle(t,r,i,o))}}function wD(n,e,t,r,i){let o=_r(),s=r&2;try{Er(-1),s&&e.length>Ne&&mD(n,e,Ne,!1),be(s?2:0,i,t),t(r,i)}finally{Er(o),be(s?3:1,i,t)}}function ed(n,e,t){HP(n,e,t),(t.flags&64)===64&&zP(n,e,t)}function Na(n,e,t=Un){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function FP(n,e,t,r){let o=r.get(nD,tD)||t===Bn.ShadowDom,s=n.selectRootElement(e,o);return VP(s),s}function VP(n){jP(n)}var jP=()=>null;function UP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function BP(n,e,t,r,i,o){let s=e[z];if(em(n,s,e,t,r)){ci(n)&&$P(e,n.index);return}n.type&3&&(t=UP(t)),TD(n,e,t,r,i,o)}function TD(n,e,t,r,i,o){if(n.type&3){let s=Un(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function $P(n,e){let t=Jt(e,n);t[K]&16||(t[K]|=64)}function HP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ci(t)&&TP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||$T(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=_g(e,n,s,t);if(So(u,e),o!==null&&GP(e,s-r,u,c,t,o),ui(c)){let l=Jt(t.index,e);l[gt]=_g(e,n,s,t)}}}function zP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Jw();try{Er(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];ml(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&qP(u,l)}}finally{Er(-1),ml(s)}}function qP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Zg(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];lD(e,o.selectors,!1)&&(r??=[],ui(o)?r.unshift(o):r.push(o))}return r}function GP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Dg(r,t,u,l)}}function Jg(n,e,t,r,i){let o=Ne+t,s=e[z],c=i(s,e,n,r,t);e[o]=c,Io(n,!0);let u=n.type===2;return u?(fD(e[xe],c,n),(zw()===0||ma(n))&&So(c,e),qw()):So(c,e),_l()&&(!u||!Yl(n))&&Qg(s,e,c,n),n}function Xg(n){let e=n;return Xp()?eg():(e=e.parent,Io(e,!1)),e}function em(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Dg(p,t[l],f,i),c=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];Dg(f,l,r,i),c=!0}return c}function WP(n,e){let t=Jt(e,n),r=t[z];KP(r,t);let i=t[Qt];i!==null&&t[vo]===null&&(t[vo]=rD(i,t[da])),be(18),tm(r,t,t[gt]),be(19,t[gt])}function KP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function tm(n,e,t){yl(e);try{let r=n.viewQuery;r!==null&&Tg(1,r,t);let i=n.template;i!==null&&wD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ai]?.finishViewCreation(n),n.staticContentQueries&&iD(n,e),n.staticViewQueries&&Tg(2,n.viewQuery,t);let o=n.components;o!==null&&QP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[K]&=-5,vl()}}function QP(n,e){for(let t=0;t<e.length;t++)WP(n,e[t])}function nm(n,e,t,r){let i=ee(null);try{let o=e.tView,c=n[K]&4096?4096:16,u=zg(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[oi]=l;let f=n[ai];return f!==null&&(u[ai]=f.createEmbeddedView(o)),tm(o,u,t),u}finally{ee(i)}}function Pl(n,e){return!e||e.firstChild===null||QT(n)}function Ca(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Zt(o)),Yt(o)&&DD(o,r);let s=t.type;if(s&8)Ca(n,e,t.child,r);else if(s&32){let c=Gg(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=ED(e,t);if(Array.isArray(c))r.push(...c);else{let u=mr(e[At]);Ca(u[z],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function DD(n,e){for(let t=yt;t<n.length;t++){let r=n[t],i=r[z].firstChild;i!==null&&Ca(r[z],r,i,e)}n[vr]!==n[Qt]&&e.push(n[vr])}function bD(n){if(n[hl]!==null){for(let e of n[hl])e.impl.addSequence(e);n[hl].length=0}}var CD=[];function YP(n){return n[Ot]??ZP(n)}function ZP(n){let e=CD.pop()??Object.create(XP);return e.lView=n,e}function JP(n){n.lView[Ot]!==n&&(n.lView=null,CD.push(n))}var XP=Ee(O({},Qs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{_a(n.lView)},consumerOnSignalRead(){this.lView[Ot]=this}});function ex(n){let e=n[Ot]??Object.create(tx);return e.lView=n,e}var tx=Ee(O({},Qs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=mr(n.lView);for(;e&&!SD(e[z]);)e=mr(e);e&&Gp(e)},consumerOnSignalRead(){this.lView[Ot]=this}});function SD(n){return n.type!==2}function AD(n){if(n[fa]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[fa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[K]&8192)}}var nx=100;function RD(n,e=0){let r=n[hn].rendererFactory,i=!1;i||r.begin?.();try{rx(n,e)}finally{i||r.end?.()}}function rx(n,e){let t=tg();try{ng(!0),Cg(n,e);let r=0;for(;va(n);){if(r===nx)throw new F(103,!1);r++,Cg(n,1)}}finally{ng(t)}}function ix(n,e,t,r){if(li(e))return;let i=e[K],o=!1,s=!1;yl(e);let c=!0,u=null,l=null;o||(SD(n)?(l=YP(e),u=Zs(l)):Du()===null?(c=!1,l=ex(e),u=Zs(l)):e[Ot]&&(Xs(e[Ot]),e[Ot]=null));try{qp(e),Qw(n.bindingStartIndex),t!==null&&wD(n,e,t,2,r),ox(e);let f=(i&3)===3;if(!o)if(f){let v=n.preOrderCheckHooks;v!==null&&Tl(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Dl(e,v,0,null),hg(e,0)}if(s||sx(e),AD(e),ND(e,0),n.contentQueries!==null&&iD(n,e),!o)if(f){let v=n.contentCheckHooks;v!==null&&Tl(e,v)}else{let v=n.contentHooks;v!==null&&Dl(e,v,1),hg(e,1)}cx(n,e);let p=n.components;p!==null&&PD(e,p,0);let m=n.viewQuery;if(m!==null&&Tg(2,m,r),!o)if(f){let v=n.viewCheckHooks;v!==null&&Tl(e,v)}else{let v=n.viewHooks;v!==null&&Dl(e,v,2),hg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[dl]){for(let v of e[dl])v();e[dl]=null}o||(bD(e),e[K]&=-73)}catch(f){throw o||_a(e),f}finally{l!==null&&(bu(l,u),c&&JP(l)),vl()}}function ox(n){let e=n[mt];if(e?.enter){for(let t of e.enter)t();e.enter=void 0}}function ND(n,e){for(let t=ZT(n);t!==null;t=JT(t))for(let r=yt;r<t.length;r++){let i=t[r];MD(i,e)}}function sx(n){for(let e=ZT(n);e!==null;e=JT(e)){if(!(e[K]&2))continue;let t=e[ga];for(let r=0;r<t.length;r++){let i=t[r];Gp(i)}}}function ax(n,e,t){be(18);let r=Jt(e,n);MD(r,t),be(19,r[gt])}function MD(n,e){fl(n)&&Cg(n,e)}function Cg(n,e){let r=n[z],i=n[K],o=n[Ot],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Js(o)),s||=!1,o&&(o.dirty=!1),n[K]&=-9217,s)ix(r,n,r.template,n[gt]);else if(i&8192){let c=ee(null);try{AD(n),ND(n,1);let u=r.components;u!==null&&PD(n,u,1),bD(n)}finally{ee(c)}}}function PD(n,e,t){for(let r=0;r<e.length;r++)ax(n,e[r],t)}function cx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Er(~i);else{let o=i,s=t[++r],c=t[++r];Zw(s,o);let u=e[o];be(24,u),c(2,u),be(25,u)}}}finally{Er(-1)}}function xD(n,e){let t=tg()?64:1088;for(n[hn].changeDetectionScheduler?.notify(e);n;){n[K]|=t;let r=mr(n);if(Eo(n)&&!r)return n;n=r}return null}function kD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function ux(n,e){let t=yt+e;if(t<n.length)return n[t]}function rm(n,e,t,r=!0){let i=e[z];if(dx(i,e,n,t),r){let s=bg(t,n),c=e[xe],u=c.parentNode(n[vr]);u!==null&&CP(i,n[pt],c,e,u,s)}let o=e[vo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lx(n,e){let t=xl(n,e);return t!==void 0&&Kg(t[z],t),t}function xl(n,e){if(n.length<=yt)return;let t=yt+e,r=n[t];if(r){let i=r[oi];i!==null&&i!==n&&Wg(i,r),e>0&&(n[t-1][zt]=r[zt]);let o=ca(n,yt+e);bP(r[z],r);let s=o[ai];s!==null&&s.detachView(o[z]),r[et]=null,r[zt]=null,r[K]&=-129}return r}function dx(n,e,t,r){let i=yt+r,o=t.length;r>0&&(t[i-1][zt]=e),r<o-yt?(e[zt]=t[i],xp(t,yt+r,e)):(t.push(e),e[zt]=null),e[et]=t;let s=e[oi];s!==null&&t!==s&&OD(s,e);let c=e[ai];c!==null&&c.insertView(n),pl(e),e[K]|=128}function OD(n,e){let t=n[ga],r=e[et];if(fn(r))n[K]|=2;else{let i=r[et][At];e[At]!==i&&(n[K]|=2)}t===null?n[ga]=[e]:t.push(e)}var wr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[z];return Ca(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return li(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(Yt(e)){let t=e[pa],r=t?t.indexOf(this):-1;r>-1&&(xl(e,r),ca(t,r))}this._attachedToViewContainer=!1}Kg(this._lView[z],this._lView)}onDestroy(e){Wp(this._lView,e)}markForCheck(){xD(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){pl(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,RD(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Eo(this._lView),t=this._lView[oi];t!==null&&!e&&Wg(t,this._lView),yD(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let t=Eo(this._lView),r=this._lView[oi];r!==null&&!t&&OD(r,this._lView),pl(this._lView)}};var Ma=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=hx;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=nm(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new wr(o)}}return n})();function hx(){return fx(Ft(),de())}function fx(n,e){return n.type&4?new Ma(e,n,ql(n,e)):null}function Mo(n,e,t,r,i){let o=n.data[e];if(o===null)o=px(n,e,t,r,i),Yw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Gw();o.injectorIndex=s===null?-1:s.injectorIndex}return Io(o,!0),o}function px(n,e,t,r,i){let o=Jp(),s=Xp(),c=s?o:o&&o.parent,u=n.data[e]=mx(n,c,t,e,r,i);return gx(n,u,o,s),u}function gx(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function mx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Qp()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var XG=new RegExp(`^(\\d+)*(${QM}|${KM})*(.*)`);var yx=()=>null,vx=()=>null;function Sg(n,e){return yx(n,e)}function _x(n,e,t){return vx(n,e,t)}var LD=class{},td=class{},Ag=class{resolveComponentFactory(e){throw new F(917,!1)}},Pa=class{static NULL=new Ag},hi=class{},im=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Ex()}return n})();function Ex(){let n=de(),e=Ft(),t=Jt(e.index,n);return(fn(t)?t:n)[xe]}var FD=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var bl={},Rg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,bl,r);return i!==bl||t===bl?i:this.parentInjector.get(e,t,r)}};function kl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=rl(i,c);else if(o==2){let u=c,l=e[++s];r=rl(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function at(n,e=0){let t=de();if(t===null)return W(n,e);let r=Ft();return GT(r,t,Ct(n),e)}function VD(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}Tx(n,e,t,c,o,u,l)}o!==null&&r!==null&&Ix(t,r,o)}function Ix(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}function wx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Tx(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let v=r[m];!u&&ui(v)&&(u=!0,wx(n,t,m)),FM($T(t,e),n,v.type)}Rx(t,n.data.length,c);for(let m=0;m<c;m++){let v=r[m];v.providersResolver&&v.providersResolver(v)}let l=!1,f=!1,p=gD(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let v=r[m];if(t.mergedAttrs=Hl(t.mergedAttrs,v.hostAttrs),bx(n,t,e,p,v),Ax(p,v,i),s!==null&&s.has(v)){let[M,A]=s.get(v);t.directiveToIndex.set(v.type,[p,M+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let S=v.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}Dx(n,t,o)}function Dx(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))vT(0,e,i,r),vT(1,e,i,r),ET(e,r,!1);else{let o=t.get(i);_T(0,e,o,r),_T(1,e,o,r),ET(e,r,!0)}}}function vT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),jD(e,o)}}function _T(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),jD(e,s)}}function jD(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function ET(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||$g(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function bx(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=gr(i.type,!0)),s=new ba(o,ui(i),at,null);n.blueprint[r]=s,t[r]=s,Cx(n,e,r,gD(n,t,i.hostVars,Nt),i)}function Cx(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;Sx(s)!=c&&s.push(c),s.push(t,r,o)}}function Sx(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Ax(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ui(e)&&(t[""]=n)}}function Rx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function om(n,e,t,r,i,o,s,c){let u=e[z],l=u.consts,f=pn(l,s),p=Mo(u,n,t,r,f);return o&&VD(u,e,p,pn(l,c),i),p.mergedAttrs=Hl(p.mergedAttrs,p.attrs),p.attrs!==null&&kl(p,p.attrs,!1),p.mergedAttrs!==null&&kl(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function sm(n,e){FT(n,e),$p(e)&&n.queries.elementEnd(e)}function Nx(n,e,t,r,i,o){let s=e.consts,c=pn(s,i),u=Mo(e,n,t,r,c);if(u.mergedAttrs=Hl(u.mergedAttrs,u.attrs),o!=null){let l=pn(s,o);u.localNames=[];for(let f=0;f<l.length;f+=2)u.localNames.push(l[f],-1)}return u.attrs!==null&&kl(u,u.attrs,!1),u.mergedAttrs!==null&&kl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function am(n){return BD(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function UD(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function BD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Mx(n,e,t){return n[e]=t}function $n(n,e,t){if(t===Nt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Px(n,e,t,r){let i=$n(n,e,t);return $n(n,e+1,r)||i}var Ng=Symbol("BINDING");var Ol=class extends Pa{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=yr(e);return new Ao(t,this.ngModule)}};function xx(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Zl.SignalBased)!==0};return i&&(o.transform=i),o})}function kx(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Ox(n,e,t){let r=e instanceof Ue?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Rg(t,r):t}function Lx(n){let e=n.get(hi,null);if(e===null)throw new F(407,!1);let t=n.get(FD,null),r=n.get(Vn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Fx(n,e){let t=$D(n);return dD(e,t,t==="svg"?Vw:t==="math"?jw:null)}function $D(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ao=class extends td{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=kx(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=fP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){be(22);let c=ee(null);try{let u=this.componentDef,l=Vx(r,u,s,o),f=Ox(u,i||this.ngModule,e),p=Lx(f),m=p.rendererFactory.createRenderer(null,u),v=r?FP(m,r,u.encapsulation,f):Fx(u,m),S=s?.some(IT)||o?.some(L=>typeof L!="function"&&L.bindings.some(IT)),M=zg(null,l,null,512|pD(u),null,null,p,m,f,null,rD(v,f,!0));M[Ne]=v,yl(M);let A=null;try{let L=om(Ne,M,2,"#host",()=>l.directiveRegistry,!0,0);v&&(fD(m,v,L),So(v,M)),ed(l,M,L),jg(l,L,M),sm(l,L),t!==void 0&&Ux(L,this.ngContentSelectors,t),A=Jt(L.index,M),M[gt]=A[gt],tm(l,M,null)}catch(L){throw A!==null&&Ig(A),Ig(M),L}finally{be(23),vl()}return new Ll(this.componentType,M,!!S)}finally{ee(c)}}};function Vx(n,e,t,r){let i=n?["ng-version","20.3.1"]:pP(e.selectors[0]),o=null,s=null,c=0;if(t)for(let f of t)c+=f[Ng].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[Ng].requiredVars;let v=f+1;m.create&&(m.targetIdx=v,(o??=[]).push(m)),m.update&&(m.targetIdx=v,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=Fp(p);u.push(m)}return Hg(0,null,jx(o,s),1,c,u,null,null,null,[i],null)}function jx(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function IT(n){let e=n[Ng].kind;return e==="input"||e==="twoWay"}var Ll=class extends LD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=ya(t[z],Ne),this.location=ql(this._tNode,t),this.instance=Jt(this._tNode.index,t)[gt],this.hostView=this.changeDetectorRef=new wr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=em(r,i[z],i,e,t);this.previousInputValues.set(e,t);let s=Jt(r.index,i);xD(s,1)}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ux(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mi=(()=>{class n{static __NG_ELEMENT_ID__=Bx}return n})();function Bx(){let n=Ft();return Hx(n,de())}var $x=mi,HD=class extends $x{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lg(this._hostTNode,this._hostLView);if(jT(e)){let t=Al(e,this._hostLView),r=Sl(e),i=t[z].data[r+8];return new di(i,t)}else return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=wT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Sg(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,Pl(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!wM(e),l;if(u)l=t;else{let A=t||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,c=A.bindings}let f=u?e:new Ao(yr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let L=(u?p:this.parentInjector).get(Ue,null);L&&(o=L)}let m=yr(f.componentType??{}),v=Sg(this._lContainer,m?.id??null),S=v?.firstChild??null,M=f.create(p,i,S,o,s,c);return this.insertImpl(M.hostView,l,Pl(this._hostTNode,v)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Bw(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[et],l=new HD(u,u[pt],u[et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return rm(s,i,o,r),e.attachToViewContainerRef(),xp(gg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=wT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=xl(this._lContainer,t);r&&(ca(gg(this._lContainer),t),Kg(r[z],r))}detach(e){let t=this._adjustIndex(e,-1),r=xl(this._lContainer,t);return r&&ca(gg(this._lContainer),t)!=null?new wr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function wT(n){return n[pa]}function gg(n){return n[pa]||(n[pa]=[])}function Hx(n,e){let t,r=e[n.index];return Yt(r)?t=r:(t=kD(r,e,null,n),e[n.index]=t,qg(e,t)),qx(t,e,n,r),new HD(t,n,e)}function zx(n,e){let t=n[xe],r=t.createComment(""),i=Un(e,n),o=t.parentNode(i);return Ml(t,o,r,t.nextSibling(i),!1),r}var qx=Kx,Gx=()=>!1;function Wx(n,e,t){return Gx(n,e,t)}function Kx(n,e,t,r){if(n[vr])return;let i;t.type&8?i=Zt(r):i=zx(e,t),n[vr]=i}var TT=new Set;function yi(n){TT.has(n)||(TT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var fi=class{},nd=class{};var Fl=class extends fi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ol(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Lp(e);this._bootstrapComponents=cD(o.bootstrap),this._r3Injector=cg(e,t,[{provide:fi,useValue:this},{provide:Pa,useValue:this.componentFactoryResolver},...r],pr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vl=class extends nd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Fl(this.moduleType,e,[])}};var Sa=class extends fi{injector;componentFactoryResolver=new Ol(this);instance=null;constructor(e){super();let t=new ei([...e.providers,{provide:fi,useValue:this},{provide:Pa,useValue:this.componentFactoryResolver}],e.parent||la(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xa(n,e,t=null){return new Sa({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Qx=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Vp(!1,t.type),i=r.length>0?xa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(W(Ue))})}return n})();function jt(n){return No(()=>{let e=zD(n),t=Ee(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Fg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Qx).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Bn.Emulated,styles:n.styles||St,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&yi("NgStandalone"),qD(t);let r=n.dependencies;return t.directiveDefs=DT(r,Yx),t.pipeDefs=DT(r,Nw),t.id=Xx(t),t})}function Yx(n){return yr(n)||Fp(n)}function ka(n){return No(()=>({type:n.type,bootstrap:n.bootstrap||St,declarations:n.declarations||St,imports:n.imports||St,exports:n.exports||St,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Zx(n,e){if(n==null)return ri;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Zl.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function Jx(n){if(n==null)return ri;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function vi(n){return No(()=>{let e=zD(n);return qD(e),e})}function cm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function zD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ri,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||St,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Zx(n.inputs,e),outputs:Jx(n.outputs),debugInfo:null}}function qD(n){n.features?.forEach(e=>e(n))}function DT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Xx(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function GD(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Hl(n.mergedAttrs,n.attrs);let f=n.tView=Hg(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),Io(n,!1);let u=tk(t,e,n,r);_l()&&Qg(t,e,u,n),So(u,e);let l=kD(u,e,u,n);e[r+Ne]=l,qg(e,l),Wx(l,n,e)}function ek(n,e,t,r,i,o,s,c,u,l,f){let p=t+Ne,m;return e.firstCreatePass?(m=Mo(e,p,4,s||null,c||null),gl()&&VD(e,n,m,pn(e.consts,l),Zg),FT(e,m)):m=e.data[p],GD(m,n,e,t,r,i,o,u),ma(m)&&ed(e,n,m),l!=null&&Na(n,m,f),m}function um(n,e,t,r,i,o,s,c,u,l,f){let p=t+Ne,m;if(e.firstCreatePass){if(m=Mo(e,p,4,s||null,c||null),l!=null){let v=pn(e.consts,l);m.localNames=[];for(let S=0;S<v.length;S+=2)m.localNames.push(v[S],-1)}}else m=e.data[p];return GD(m,n,e,t,r,i,o,u),l!=null&&Na(n,m,f),m}function Dr(n,e,t,r,i,o,s,c){let u=de(),l=Lt(),f=pn(l.consts,o);return ek(u,l,n,e,t,r,i,f,void 0,s,c),Dr}var tk=nk;function nk(n,e,t,r){return Ea(!0),e[xe].createComment("")}var lm=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(lm||{}),Oa=new j(""),WD=!1,Mg=class extends Je{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Lw()&&(this.destroyRef=R(Ir,{optional:!0})??void 0,this.pendingTasks=R(gn,{optional:!0})??void 0)}emit(e){let t=ee(null);try{super.next(e)}finally{ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Re&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},vt=Mg;function KD(n){let e,t;function r(){n=wa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function bT(n){return queueMicrotask(()=>n()),()=>{n=wa}}var dm="isAngularZone",jl=dm+"_ID",rk=0,_e=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new vt(!1);onMicrotaskEmpty=new vt(!1);onStable=new vt(!1);onError=new vt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=WD}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,sk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ik,wa,wa);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},ik={};function hm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ok(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){KD(()=>{n.callbackScheduled=!1,Pg(n),n.isCheckStableRunning=!0,hm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Pg(n)}function sk(n){let e=()=>{ok(n)},t=rk++;n._inner=n._inner.fork({name:"angular",properties:{[dm]:!0,[jl]:t,[jl+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(ak(u))return r.invokeTask(o,s,c,u);try{return CT(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ST(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return CT(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ck(u)&&e(),ST(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Pg(n),hm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Pg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function CT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ST(n){n._nesting--,hm(n)}var Aa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new vt;onMicrotaskEmpty=new vt;onStable=new vt;onError=new vt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function ak(n){return QD(n,"__ignore_ng_zone__")}function ck(n){return QD(n,"__scheduler_tick__")}function QD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var YD=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})();var fm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var pm=new j("");function _i(n){return!!n&&typeof n.then=="function"}function rd(n){return!!n&&typeof n.subscribe=="function"}var ZD=new j("");var gm=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=R(ZD,{optional:!0})??[];injector=R(qe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Be(this.injector,i);if(_i(o))t.push(o);else if(rd(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),id=new j("");function JD(){Kf(()=>{let n="";throw new F(600,n)})}function XD(n){return n.isBoundToModule}var uk=10;var Ei=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(Rt);afterRenderManager=R(YD);zonelessEnabled=R(Ia);rootEffectScheduler=R(dg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Je;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=R(gn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(te(t=>!t))}constructor(){R(Oa,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=R(Ue);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=qe.NULL){return this._injector.get(_e).run(()=>{be(10);let s=t instanceof td;if(!this._injector.get(gm).done){let S="";throw new F(405,S)}let u;s?u=t:u=this._injector.get(Pa).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=XD(u)?void 0:this._injector.get(fi),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,v=p.injector.get(pm,null);return v?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Da(this.components,p),v?.unregisterApplication(m)}),this._loadComponent(p),be(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(lm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let t=ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(t),this.afterTick.next(),be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(hi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<uk;)be(14),this.synchronizeOnce(),be(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!va(i))continue;let o=r&&!this.zonelessEnabled?0:1;RD(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>va(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Da(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(id,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Da(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Da(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var s9=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Po(n,e,t,r,i,o,s,c){yi("NgControlFlow");let u=de(),l=Lt(),f=pn(l.consts,o);return um(u,l,n,e,t,r,i,f,256,s,c),mm}function mm(n,e,t,r,i,o,s,c){yi("NgControlFlow");let u=de(),l=Lt(),f=pn(l.consts,o);return um(u,l,n,e,t,r,i,f,512,s,c),mm}function xo(n,e){yi("NgControlFlow");let t=de(),r=wo(),i=t[r]!==Nt?t[r]:-1,o=i!==-1?AT(t,Ne+i):void 0,s=0;if($n(t,r,n)){let c=ee(null);try{if(o!==void 0&&lx(o,s),n!==-1){let u=Ne+n,l=AT(t,u),f=lk(t[z],u),p=_x(l,f,t),m=nm(t,f,e,{dehydratedView:p});rm(l,m,s,Pl(f,p))}}finally{ee(c)}}else if(o!==void 0){let c=ux(o,s);c!==void 0&&(c[gt]=e)}}function AT(n,e){return n[e]}function lk(n,e){return ya(n,e)}function Te(n,e,t){let r=de(),i=wo();if($n(r,i,e)){let o=Lt(),s=ag();BP(s,r,n,e,r[xe],t)}return Te}function xg(n,e,t,r,i){em(e,n,t,i?"class":"style",r)}function ne(n,e,t,r){let i=de(),o=i[z],s=n+Ne,c=o.firstCreatePass?om(s,i,2,e,Zg,gl(),t,r):o.data[s];if(Jg(c,i,n,e,eb),ma(c)){let u=i[z];ed(u,i,c),jg(u,c,i)}return r!=null&&Na(i,c),ne}function se(){let n=Lt(),e=Ft(),t=Xg(e);return n.firstCreatePass&&sm(n,t),Yp(t)&&Zp(),Kp(),t.classesWithoutHost!=null&&AM(t)&&xg(n,t,de(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&RM(t)&&xg(n,t,de(),t.stylesWithoutHost,!1),se}function tt(n,e,t,r){return ne(n,e,t,r),se(),tt}function La(n,e,t,r){let i=de(),o=i[z],s=n+Ne,c=o.firstCreatePass?Nx(s,o,2,e,t,r):o.data[s];return Jg(c,i,n,e,eb),r!=null&&Na(i,c),La}function Fa(){let n=Ft(),e=Xg(n);return Yp(e)&&Zp(),Kp(),Fa}var eb=(n,e,t,r,i)=>(Ea(!0),dD(e[xe],r,iT()));function Ii(n,e,t){let r=de(),i=r[z],o=n+Ne,s=i.firstCreatePass?om(o,r,8,"ng-container",Zg,gl(),e,t):i.data[o];if(Jg(s,r,n,"ng-container",dk),ma(s)){let c=r[z];ed(c,r,s),jg(c,s,r)}return t!=null&&Na(r,s),Ii}function wi(){let n=Lt(),e=Ft(),t=Xg(e);return n.firstCreatePass&&sm(n,t),wi}var dk=(n,e,t,r,i)=>(Ea(!0),yP(e[xe],""));function od(n,e,t){let r=de(),i=wo();if($n(r,i,e)){let o=Lt(),s=ag();TD(s,r,n,e,r[xe],t)}return od}var Va="en-US";var hk=Va;function tb(n){typeof n=="string"&&(hk=n.toLowerCase().replace(/_/g,"-"))}function Ti(n=1){return rT(n)}function fk(n,e){let t=null,r=cP(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?lD(n,o,!0):dP(r,o))return i}return t}function ym(n){let e=de()[At][pt];if(!e.projection){let t=n?n.length:1,r=e.projection=Aw(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?fk(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function vm(n,e=0,t,r,i,o){let s=de(),c=Lt(),u=r?n+1:null;u!==null&&um(s,c,u,r,i,o,null,t);let l=Mo(c,Ne+n,16,null,t||null);l.projection===null&&(l.projection=e),eg();let p=!s[vo]||Qp();s[At][pt].projection[l.projection]===null&&u!==null?pk(s,c,u):p&&!Yl(l)&&kP(c,s,l)}function pk(n,e,t){let r=Ne+t,i=e.data[r],o=n[r],s=Sg(o,i.tView.ssrId),c=nm(n,i,void 0,{dehydratedView:s});rm(o,c,0,Pl(i,s))}function wl(n,e){return n<<17|e<<2}function pi(n){return n>>17&32767}function gk(n){return(n&2)==2}function mk(n,e){return n&131071|e<<17}function kg(n){return n|2}function Ro(n){return(n&131068)>>2}function mg(n,e){return n&-131069|e<<2}function yk(n){return(n&1)===1}function Og(n){return n|1}function vk(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=pi(s),u=Ro(s);n[r]=t;let l=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||yo(p,f)>0)&&(l=!0)}else f=t;if(i)if(u!==0){let m=pi(n[c+1]);n[r+1]=wl(m,c),m!==0&&(n[m+1]=mg(n[m+1],r)),n[c+1]=mk(n[c+1],r)}else n[r+1]=wl(c,0),c!==0&&(n[c+1]=mg(n[c+1],r)),c=r;else n[r+1]=wl(u,0),c===0?c=r:n[u+1]=mg(n[u+1],r),u=r;l&&(n[r+1]=kg(n[r+1])),RT(n,f,r,!0),RT(n,f,r,!1),_k(e,f,n,r,o),s=wl(c,u),o?e.classBindings=s:e.styleBindings=s}function _k(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&yo(o,e)>=0&&(t[r+1]=Og(t[r+1]))}function RT(n,e,t,r){let i=n[t+1],o=e===null,s=r?pi(i):Ro(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],l=n[s+1];Ek(u,e)&&(c=!0,n[s+1]=r?Og(l):kg(l)),s=r?pi(l):Ro(l)}c&&(n[t+1]=r?kg(i):Og(i))}function Ek(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?yo(n,e)>=0:!1}var en={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ik(n){return n.substring(en.key,en.keyEnd)}function wk(n){return Tk(n),nb(n,rb(n,0,en.textEnd))}function nb(n,e){let t=en.textEnd;return t===e?-1:(e=en.keyEnd=Dk(n,en.key=e,t),rb(n,e,t))}function Tk(n){en.key=0,en.keyEnd=0,en.value=0,en.valueEnd=0,en.textEnd=n.length}function rb(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Dk(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function _m(n){Ck(xk,bk,n,!0)}function bk(n,e){for(let t=wk(e);t>=0;t=nb(e,t))cl(n,Ik(e),!0)}function Ck(n,e,t,r){let i=Lt(),o=rg(2);i.firstUpdatePass&&Sk(i,null,o,r);let s=de();if(t!==Nt&&$n(s,o,t)){let c=i.data[_r()];if(ob(c,r)&&!ib(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(t=rl(u,t||"")),xg(i,c,s,t,r)}else kk(i,c,s,s[xe],s[o+1],s[o+1]=Pk(n,e,t),r,o)}}function ib(n,e){return e>=n.expandoStartIndex}function Sk(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[_r()],s=ib(n,t);ob(o,r)&&e===null&&!s&&(e=!1),e=Ak(i,o,e,r),vk(i,o,e,t,s,r)}}function Ak(n,e,t,r){let i=Xw(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=yg(null,n,e,t,r),t=Ra(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=yg(i,n,e,t,r),o===null){let u=Rk(n,e,r);u!==void 0&&Array.isArray(u)&&(u=yg(null,n,e,u[1],r),u=Ra(u,e.attrs,r),Nk(n,e,r,u))}else o=Mk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Rk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ro(r)!==0)return n[pi(r)]}function Nk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[pi(i)]=r}function Mk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ra(r,s,t)}return Ra(r,e.attrs,t)}function yg(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=Ra(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function Ra(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),cl(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Pk(n,e,t){if(t==null||t==="")return St;let r=[],i=Ug(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function xk(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&cl(n,r,t)}function kk(n,e,t,r,i,o,s,c){i===Nt&&(i=St);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,v=l<o.length?o[l+1]:void 0,S=null,M;f===p?(u+=2,l+=2,m!==v&&(S=p,M=v)):p===null||f!==null&&f<p?(u+=2,S=f):(l+=2,S=p,M=v),S!==null&&Ok(n,e,t,r,S,M,s,c),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function Ok(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],f=yk(l)?NT(u,e,t,i,Ro(l),s):void 0;if(!Ul(f)){Ul(o)||gk(l)&&(o=NT(u,null,t,i,c,s));let p=Hp(_r(),t);LP(r,s,p,i,o)}}function NT(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=t[i+1];m===Nt&&(m=p?St:void 0);let v=p?ul(m,r):f===r?m:void 0;if(l&&!Ul(v)&&(v=ul(u,r)),Ul(v)&&(c=v,s))return c;let S=n[i+1];i=s?pi(S):Ro(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=ul(u,r))}return c}function Ul(n){return n!==void 0}function ob(n,e){return(n.flags&(e?8:16))!==0}function ye(n,e=""){let t=de(),r=Lt(),i=n+Ne,o=r.firstCreatePass?Mo(r,i,1,e,null):r.data[i],s=Lk(r,t,o,e,n);t[i]=s,_l()&&Qg(r,t,s,o),Io(o,!1)}var Lk=(n,e,t,r,i)=>(Ea(!0),gP(e[xe],r));function sb(n,e,t,r=""){return $n(n,wo(),t)?e+ni(t)+r:Nt}function Fk(n,e,t,r,i,o=""){let s=Kw(),c=Px(n,s,t,i);return rg(2),c?e+ni(t)+r+ni(i)+o:Nt}function vn(n){return Em("",n),vn}function Em(n,e,t){let r=de(),i=sb(r,n,e,t);return i!==Nt&&ab(r,_r(),i),Em}function sd(n,e,t,r,i){let o=de(),s=Fk(o,n,e,t,r,i);return s!==Nt&&ab(o,_r(),s),sd}function ab(n,e,t){let r=Hp(e,n);mP(n[xe],r,t)}function Im(n){return $n(de(),wo(),n)?ni(n):Nt}function ad(n,e,t=""){return sb(de(),n,e,t)}function Vk(n,e){let t=n[e];return t===Nt?void 0:t}function jk(n,e,t,r,i,o){let s=e+t;return $n(n,s,i)?Mx(n,s+1,o?r.call(o,i):r(i)):Vk(n,s+1)}function ja(n,e){let t=Lt(),r,i=n+Ne;t.firstCreatePass?(r=Uk(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=gr(r.type,!0)),s,c=ft(at);try{let u=Rl(!1),l=o();return Rl(u),zp(t,de(),i,l),l}finally{ft(c)}}function Uk(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ua(n,e,t){let r=n+Ne,i=de(),o=Uw(i,r);return Bk(i,r)?jk(i,Ww(),e,o.transform,t,o):o.transform(t)}function Bk(n,e){return n[z].data[e].pure}var Bl=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},wm=(()=>{class n{compileModuleSync(t){return new Vl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Lp(t),o=cD(i.declarations).reduce((s,c)=>{let u=yr(c);return u&&s.push(new Ao(u)),s},[]);return new Bl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $k=(()=>{class n{zone=R(_e);changeDetectionScheduler=R(Vn);applicationRef=R(Ei);applicationErrorHandler=R(Rt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(Ee(O({},ub()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:jn,multi:!0,useFactory:()=>{let r=R($k,{optional:!0});return()=>r.initialize()}},{provide:jn,multi:!0,useFactory:()=>{let r=R(Hk);return()=>{r.initialize()}}},e===!0?{provide:lg,useValue:!0}:[],{provide:El,useValue:t??WD},{provide:Rt,useFactory:()=>{let r=R(_e),i=R(Ue),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(dn),o.handleError(s))})}}}]}function ub(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Hk=(()=>{class n{subscription=new Re;initialized=!1;zone=R(_e);pendingTasks=R(gn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Tm=(()=>{class n{applicationErrorHandler=R(Rt);appRef=R(Ei);taskService=R(gn);ngZone=R(_e);zonelessEnabled=R(Ia);tracing=R(Oa,{optional:!0});disableScheduling=R(lg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(El,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Aa||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?bT:KD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dm(){return yi("NgZoneless"),kt([{provide:Vn,useExisting:Tm},{provide:_e,useClass:Aa},{provide:Ia,useValue:!0},{provide:El,useValue:!1},[]])}function zk(){return typeof $localize<"u"&&$localize.locale||Va}var cd=new j("",{providedIn:"root",factory:()=>R(cd,{optional:!0,skipSelf:!0})||zk()});function tn(n){return _w(n)}var lb=class{[wt];constructor(e){this[wt]=e}destroy(){this[wt].destroy()}};var pb=Symbol("InputSignalNode#UNSET"),aO=Ee(O({},Cu),{transformFn:void 0,applyValueToInputSignal(n,e){Ji(n,e)}});function gb(n,e){let t=Object.create(aO);t.value=n,t.transformFn=e?.transform;function r(){if(Ys(t),t.value===pb){let i=null;throw new F(-950,i)}return t.value}return r[wt]=t,r}var cO=new j("");cO.__NG_ELEMENT_ID__=n=>{let e=Ft();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new F(204,!1)};function db(n,e){return gb(n,e)}function uO(n){return gb(pb,n)}var mb=(db.required=uO,db);var bm=new j(""),lO=new j("");function Ba(n){return!n.moduleRef}function dO(n){let e=Ba(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{Ba(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Rt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ba(n)){let o=()=>e.destroy(),s=n.platformInjector.get(bm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(bm);s.add(o),n.moduleRef.onDestroy(()=>{Da(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return fO(r,t,()=>{let o=e.get(gn),s=o.add(),c=e.get(gm);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(cd,Va);if(tb(u||Va),!e.get(lO,!0))return Ba(n)?e.get(Ei):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ba(n)){let f=e.get(Ei);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return hO?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var hO;function fO(n,e,t){try{let r=t();return _i(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var ud=null;function pO(n=[],e){return qe.create({name:e,providers:[{provide:ua,useValue:"platform"},{provide:bm,useValue:new Set([()=>ud=null])},...n]})}function gO(n=[]){if(ud)return ud;let e=pO(n);return ud=e,JD(),mO(e),e}function mO(n){let e=n.get(Kl,null);Be(n,()=>{e?.forEach(t=>t())})}function Nm(){return!1}var dd=(()=>{class n{static __NG_ELEMENT_ID__=yO}return n})();function yO(n){return vO(Ft(),de(),(n&16)===16)}function vO(n,e,t){if(ci(n)&&!t){let r=Jt(n.index,e);return new wr(r,r)}else if(n.type&175){let r=e[At];return new wr(r,e)}return null}var Cm=class{constructor(){}supports(e){return am(e)}create(e){return new Sm(e)}},_O=(n,e)=>e,Sm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||_O}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<hb(r,i,o)?t:r,c=hb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,S=v+m;f<=S&&S<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!am(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,UD(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Am(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ld),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ld),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Am=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Rm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ld=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Rm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function fb(){return new Mm([new Cm])}var Mm=(()=>{class n{factories;static \u0275prov=U({token:n,providedIn:"root",factory:fb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=R(n,{optional:!0,skipSelf:!0});return n.create(t,r||fb())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new F(901,!1)}}return n})();function yb(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;be(8);try{let o=i?.injector??gO(r),s=[cb({}),{provide:Vn,useExisting:Tm},sT,...t||[]],c=new Sa({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return dO({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{be(9)}}var Eb=null;function Hn(){return Eb}function Pm(n){Eb??=n}var Ha=class{},xm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(Ib),providedIn:"platform"})}return n})();var Ib=(()=>{class n extends xm{_location;_history;_doc=R(Ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hn().getBaseHref(this._doc)}onPopState(t){let r=Hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function wb(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function vb(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function br(n){return n&&n[0]!=="?"?`?${n}`:n}var hd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(Db),providedIn:"root"})}return n})(),Tb=new j(""),Db=(()=>{class n extends hd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(Ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wb(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+br(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+br(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+br(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(xm),W(Tb,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ko=(()=>{class n{_subject=new Je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=wO(vb(_b(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+br(r))}normalize(t){return n.stripTrailingSlash(IO(this._basePath,_b(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+br(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=br;static joinWithSlash=wb;static stripTrailingSlash=vb;static \u0275fac=function(r){return new(r||n)(W(hd))};static \u0275prov=U({token:n,factory:()=>EO(),providedIn:"root"})}return n})();function EO(){return new ko(W(hd))}function IO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function _b(n){return n.replace(/\/index.html$/,"")}function wO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var km=/\s+/,bb=[],Fm=(()=>{class n{_ngEl;_renderer;initialClasses=bb;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(km):bb}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(km):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(km).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(at(Gl),at(im))};static \u0275dir=vi({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var fd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Oo=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new fd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),Cb(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Cb(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(at(mi),at(Ma),at(Mm))};static \u0275dir=vi({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Cb(n,e){n.context.$implicit=e.item}var Vm=(()=>{class n{_viewContainer;_context=new pd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Sb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Sb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(at(mi),at(Ma))};static \u0275dir=vi({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),pd=class{$implicit=null;ngIf=null};function Sb(n,e){if(n&&!n.createEmbeddedView)throw new F(2020,!1)}function TO(n,e){return new F(2100,!1)}var Om=class{createSubscription(e,t,r){return tn(()=>e.subscribe({next:t,error:r}))}dispose(e){tn(()=>e.unsubscribe())}},Lm=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},DO=new Lm,bO=new Om,za=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=R(Rt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(_i(t))return DO;if(rd(t))return bO;throw TO(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(at(dd,16))};static \u0275pipe=cm({name:"async",type:n,pure:!1})}return n})();var Cr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ka({type:n});static \u0275inj=mo({})}return n})();function jm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qa=class{};var Ab="browser";var md=new j(""),qm=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(md),W(_e))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Ga=class{_doc;constructor(e){this._doc=e}manager},Bm="ng-app-id";function Rb(n){for(let e of n)e.remove()}function Nb(n,e){let t=e.createElement("style");return t.textContent=n,t}function CO(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Bm}="${e}"],link[${Bm}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Bm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Hm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Gm=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,CO(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Nb);r?.forEach(i=>this.addUsage(i,this.external,Hm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Rb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Rb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Nb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Hm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(Ge),W(Wl),W(Ql,8),W(Tr))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),$m={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wm=/%COMP%/g;var Pb="%COMP%",SO=`_nghost-${Pb}`,AO=`_ngcontent-${Pb}`,RO=!0,NO=new j("",{providedIn:"root",factory:()=>RO});function MO(n){return AO.replace(Wm,n)}function PO(n){return SO.replace(Wm,n)}function xb(n,e){return e.map(t=>t.replace(Wm,n))}var Km=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new Wa(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof gd?i.applyToHost(t):i instanceof Ka&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Bn.Emulated:o=new gd(u,l,r,this.appId,f,s,c,p,m);break;case Bn.ShadowDom:return new zm(u,l,t,r,s,c,this.nonce,p,m);default:o=new Ka(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W(qm),W(Gm),W(Wl),W(NO),W(Ge),W(Tr),W(_e),W(Ql),W(Oa,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Wa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS($m[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Mb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Mb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=$m[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=$m[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(yn.DashCase|yn.Important)?e.style.setProperty(t,r,i&yn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&yn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Hn().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Mb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zm=class extends Wa{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=xb(i.id,f);for(let m of f){let v=document.createElement("style");c&&v.setAttribute("nonce",c),v.textContent=m,this.shadowRoot.appendChild(v)}let p=i.getExternalStyles?.();if(p)for(let m of p){let v=Hm(m,o);c&&v.setAttribute("nonce",c),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ka=class extends Wa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?xb(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Jl.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},gd=class extends Ka{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,l,f),this.contentAttr=MO(f),this.hostAttr=PO(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var yd=class n extends Ha{supportsDOMEvents=!0;static makeCurrent(){Pm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=xO();return t==null?null:kO(t)}resetBaseElement(){Qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jm(document.cookie,e)}},Qa=null;function xO(){return Qa=Qa||document.head.querySelector("base"),Qa?Qa.getAttribute("href"):null}function kO(n){return new URL(n,document.baseURI).pathname}var OO=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Ob=(()=>{class n extends Ga{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(W(Ge))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),kb=["alt","control","meta","shift"],LO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Lb=(()=>{class n extends Ga{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hn().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),kb.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=LO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kb.forEach(s=>{if(s!==i){let c=FO[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(Ge))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function Qm(n,e,t){let r=O({rootComponent:n,platformRef:t?.platformRef},VO(e));return yb(r)}function VO(n){return{appProviders:[...HO,...n?.providers??[]],platformProviders:$O}}function jO(){yd.makeCurrent()}function UO(){return new dn}function BO(){return Vg(document),document}var $O=[{provide:Tr,useValue:Ab},{provide:Kl,useValue:jO,multi:!0},{provide:Ge,useFactory:BO}];var HO=[{provide:ua,useValue:"root"},{provide:dn,useFactory:UO},{provide:md,useClass:Ob,multi:!0,deps:[Ge]},{provide:md,useClass:Lb,multi:!0,deps:[Ge]},Km,Gm,qm,{provide:hi,useExisting:Km},{provide:qa,useClass:OO},[]];var Fb=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(Ge))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q="primary",lc=Symbol("RouteTitle"),ey=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ci(n){return new ey(n)}function qb(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_n(n[t],e[t]))return!1;return!0}function _n(n,e){let t=n?ty(n):void 0,r=e?ty(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Gb(n[i],e[i]))return!1;return!0}function ty(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Gb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Wb(n){return n.length>0?n[n.length-1]:null}function Gn(n){return up(n)?n:_i(n)?Pe(Promise.resolve(n)):H(n)}var GO={exact:Qb,subset:Yb},Kb={exact:WO,subset:KO,ignored:()=>!0};function Vb(n,e,t){return GO[t.paths](n.root,e.root,t.matrixParams)&&Kb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function WO(n,e){return _n(n,e)}function Qb(n,e,t){if(!Di(n.segments,e.segments)||!Ed(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Qb(n.children[r],e.children[r],t))return!1;return!0}function KO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gb(n[t],e[t]))}function Yb(n,e,t){return Zb(n,e,e.segments,t)}function Zb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Di(i,t)||e.hasChildren()||!Ed(i,t,r))}else if(n.segments.length===t.length){if(!Di(n.segments,t)||!Ed(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Yb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Di(n.segments,i)||!Ed(n.segments,i,r)||!n.children[Q]?!1:Zb(n.children[Q],e,o,r)}}function Ed(n,e,t){return e.every((r,i)=>Kb[t](n[i].parameters,r.parameters))}var In=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return ZO.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Id(this)}},Sr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ci(this.parameters),this._parameterMap}toString(){return Xb(this)}};function QO(n,e){return Di(n,e)&&n.every((t,r)=>_n(t.parameters,e[r].parameters))}function Di(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function YO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Q&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Q&&(t=t.concat(e(i,r)))}),t}var dc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new Si,providedIn:"root"})}return n})(),Si=class{parse(e){let t=new ry(e);return new In(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ya(e.root,!0)}`,r=e1(e.queryParams),i=typeof e.fragment=="string"?`#${JO(e.fragment)}`:"";return`${t}${r}${i}`}},ZO=new Si;function Id(n){return n.segments.map(e=>Xb(e)).join("/")}function Ya(n,e){if(!n.hasChildren())return Id(n);if(e){let t=n.children[Q]?Ya(n.children[Q],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${Ya(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=YO(n,(r,i)=>i===Q?[Ya(n.children[Q],!1)]:[`${i}:${Ya(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Q]!=null?`${Id(n)}/${t[0]}`:`${Id(n)}/(${t.join("//")})`}}function Jb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vd(n){return Jb(n).replace(/%3B/gi,";")}function JO(n){return encodeURI(n)}function ny(n){return Jb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wd(n){return decodeURIComponent(n)}function jb(n){return wd(n.replace(/\+/g,"%20"))}function Xb(n){return`${ny(n.path)}${XO(n.parameters)}`}function XO(n){return Object.entries(n).map(([e,t])=>`;${ny(e)}=${ny(t)}`).join("")}function e1(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${vd(t)}=${vd(i)}`).join("&"):`${vd(t)}=${vd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var t1=/^[^\/()?;#]+/;function Ym(n){let e=n.match(t1);return e?e[0]:""}var n1=/^[^\/()?;=#]+/;function r1(n){let e=n.match(n1);return e?e[0]:""}var i1=/^[^=?&#]+/;function o1(n){let e=n.match(i1);return e?e[0]:""}var s1=/^[^&#]+/;function a1(n){let e=n.match(s1);return e?e[0]:""}var ry=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Q]=new ge(e,t)),r}parseSegment(){let e=Ym(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Sr(wd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=r1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ym(this.remaining);i&&(r=i,this.capture(r))}e[wd(t)]=wd(r)}parseQueryParam(e){let t=o1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=a1(this.remaining);s&&(r=s,this.capture(r))}let i=jb(t),o=jb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ym(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Q]:new ge([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function eC(n){return n.segments.length>0?new ge([],{[Q]:n}):n}function tC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=tC(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ge(n.segments,e);return c1(t)}function c1(n){if(n.numberOfChildren===1&&n.children[Q]){let e=n.children[Q];return new ge(n.segments.concat(e.segments),e.children)}return n}function Uo(n){return n instanceof In}function nC(n,e,t=null,r=null){let i=rC(n);return iC(i,e,t,r)}function rC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new ge(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=eC(r);return e??i}function iC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Zm(i,i,i,t,r);let o=u1(e);if(o.toRoot())return Zm(i,i,new ge([],{}),t,r);let s=l1(o,i,n),c=s.processChildren?Ja(s.segmentGroup,s.index,o.commands):sC(s.segmentGroup,s.index,o.commands);return Zm(i,s.segmentGroup,c,t,r)}function Td(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function tc(n){return typeof n=="object"&&n!=null&&n.outlets}function Zm(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=oC(n,e,t);let c=eC(tC(s));return new In(c,o,i)}function oC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=oC(o,e,t)}),new ge(n.segments,r)}var Dd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Td(r[0]))throw new F(4003,!1);let i=r.find(tc);if(i&&i!==Wb(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function u1(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Dd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Dd(t,e,r)}var Vo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function l1(n,e,t){if(n.isAbsolute)return new Vo(e,!0,0);if(!t)return new Vo(e,!1,NaN);if(t.parent===null)return new Vo(t,!0,0);let r=Td(n.commands[0])?0:1,i=t.segments.length-1+r;return d1(t,i,n.numberOfDoubleDots)}function d1(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Vo(r,!1,i-o)}function h1(n){return tc(n[0])?n[0].outlets:{[Q]:n}}function sC(n,e,t){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return Ja(n,e,t);let r=f1(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ge(n.segments.slice(0,r.pathIndex),{});return o.children[Q]=new ge(n.segments.slice(r.pathIndex),n.children),Ja(o,0,i)}else return r.match&&i.length===0?new ge(n.segments,{}):r.match&&!n.hasChildren()?iy(n,e,t):r.match?Ja(n,0,i):iy(n,e,t)}function Ja(n,e,t){if(t.length===0)return new ge(n.segments,{});{let r=h1(t),i={};if(Object.keys(r).some(o=>o!==Q)&&n.children[Q]&&n.numberOfChildren===1&&n.children[Q].segments.length===0){let o=Ja(n.children[Q],e,t);return new ge(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=sC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(n.segments,i)}}function f1(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(tc(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Bb(u,l,s))return o;r+=2}else{if(!Bb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function iy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(tc(o)){let u=p1(o.outlets);return new ge(r,u)}if(i===0&&Td(t[0])){let u=n.segments[e];r.push(new Sr(u.path,Ub(t[0]))),i++;continue}let s=tc(o)?o.outlets[Q]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Td(c)?(r.push(new Sr(s,Ub(c))),i+=2):(r.push(new Sr(s,{})),i++)}return new ge(r,{})}function p1(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=iy(new ge([],{}),0,r))}),e}function Ub(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Bb(n,e,t){return n==t.path&&_n(e,t.parameters)}var Xa="imperative",We=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(We||{}),$t=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ai=class extends $t{type=We.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zn=class extends $t{urlAfterRedirects;type=We.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_t=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(_t||{}),nc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(nc||{}),En=class extends $t{reason;code;type=We.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qn=class extends $t{reason;code;type=We.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Bo=class extends $t{error;target;type=We.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rc=class extends $t{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bd=class extends $t{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cd=class extends $t{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sd=class extends $t{urlAfterRedirects;state;type=We.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ad=class extends $t{urlAfterRedirects;state;type=We.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rd=class{route;type=We.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nd=class{route;type=We.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Md=class{snapshot;type=We.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pd=class{snapshot;type=We.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xd=class{snapshot;type=We.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kd=class{snapshot;type=We.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ic=class{},$o=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function g1(n){return!(n instanceof ic)&&!(n instanceof $o)}function m1(n,e){return n.providers&&!n._injector&&(n._injector=xa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nn(n){return n.outlet||Q}function y1(n,e){let t=n.filter(r=>nn(r)===e);return t.push(...n.filter(r=>nn(r)!==e)),t}function qo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Od=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return qo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Go(this.rootInjector)}},Go=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Od(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ld=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=oy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=oy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=sy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sy(e,this._root).map(t=>t.value)}};function oy(n,e){if(n===e.value)return e;for(let t of e.children){let r=oy(n,t);if(r)return r}return null}function sy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=sy(n,t);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var oc=class extends Ld{snapshot;constructor(e,t){super(e),this.snapshot=t,py(this,e)}toString(){return this.snapshot.toString()}};function aC(n){let e=v1(n),t=new Xe([new Sr("",{})]),r=new Xe({}),i=new Xe({}),o=new Xe({}),s=new Xe(""),c=new Ar(t,r,o,s,i,Q,n,e.root);return c.snapshot=e.root,new oc(new Bt(c,[]),e)}function v1(n){let e={},t={},r={},o=new bi([],e,r,"",t,Q,n,null,{});return new sc("",new Bt(o,[]))}var Ar=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[lc]))??H(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>Ci(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>Ci(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&uC(i)&&(r.resolve[lc]=i.title),r}var bi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},sc=class extends Ld{url;constructor(e,t){super(t),this.url=e,py(this,t)}toString(){return cC(this._root)}};function py(n,e){e.value._routerState=n,e.children.forEach(t=>py(n,t))}function cC(n){let e=n.children.length>0?` { ${n.children.map(cC).join(", ")} } `:"";return`${n.value}${e}`}function Jm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_n(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),_n(e.params,t.params)||n.paramsSubject.next(t.params),qO(e.url,t.url)||n.urlSubject.next(t.url),_n(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ay(n,e){let t=_n(n.params,e.params)&&QO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ay(n.parent,e.parent))}function uC(n){return typeof n.title=="string"||n.title===null}var lC=new j(""),hc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new vt;deactivateEvents=new vt;attachEvents=new vt;detachEvents=new vt;routerOutletData=mb(void 0);parentContexts=R(Go);location=R(mi);changeDetector=R(dd);inputBinder=R(Bd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new cy(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=vi({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[$l]})}return n})(),cy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ar?this.route:e===Go?this.childContexts:e===lC?this.outletData:this.parent.get(e,t)}},Bd=new j("");var gy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=jt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&tt(0,"router-outlet")},dependencies:[hc],encapsulation:2})}return n})();function my(n){let e=n.children&&n.children.map(my),t=e?Ee(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Q&&(t.component=gy),t}function _1(n,e,t){let r=ac(n,e._root,t?t._root:void 0);return new oc(r,e)}function ac(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=E1(n,e,t);return new Bt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>ac(n,c)),s}}let r=I1(e.value),i=e.children.map(o=>ac(n,o));return new Bt(r,i)}}function E1(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ac(n,r,i);return ac(n,r)})}function I1(n){return new Ar(new Xe(n.url),new Xe(n.params),new Xe(n.queryParams),new Xe(n.fragment),new Xe(n.data),n.outlet,n.component,n)}var Ho=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},dC="ngNavigationCancelingError";function Vd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hC(!1,_t.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function hC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[dC]=!0,t.cancellationCode=e,t}function w1(n){return fC(n)&&Uo(n.url)}function fC(n){return!!n&&n[dC]}var T1=(n,e,t,r)=>te(i=>(new uy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),uy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Fo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Fo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Pd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Jm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Jm(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},jd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},jo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function D1(n,e,t){let r=n._root,i=e?e._root:null;return Za(r,i,t,[r.value])}function b1(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Wo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!bp(n)?n:e.get(n):r}function Za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fo(e);return n.children.forEach(s=>{C1(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ec(c,t.getContext(s),i)),i}function C1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=S1(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Za(n,e,c?c.children:null,r,i):Za(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new jo(c.outlet.component,s))}else s&&ec(e,c,i),i.canActivateChecks.push(new jd(r)),o.component?Za(n,null,c?c.children:null,r,i):Za(n,null,t,r,i);return i}function S1(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Di(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Di(n.url,e.url)||!_n(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ay(n,e)||!_n(n.queryParams,e.queryParams);case"paramsChange":default:return!ay(n,e)}}function ec(n,e,t){let r=Fo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ec(s,e.children.getContext(o),t):ec(s,null,t):ec(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new jo(e.outlet.component,i)):t.canDeactivateChecks.push(new jo(null,i)):t.canDeactivateChecks.push(new jo(null,i))}function fc(n){return typeof n=="function"}function A1(n){return typeof n=="boolean"}function R1(n){return n&&fc(n.canLoad)}function N1(n){return n&&fc(n.canActivate)}function M1(n){return n&&fc(n.canActivateChild)}function P1(n){return n&&fc(n.canDeactivate)}function x1(n){return n&&fc(n.canMatch)}function pC(n){return n instanceof kn||n?.name==="EmptyError"}var _d=Symbol("INITIAL_VALUE");function zo(){return bt(n=>Gu(n.map(e=>e.pipe(On(1),Qu(_d)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===_d)return _d;if(t===!1||k1(t))return t}return!0}),xt(e=>e!==_d),On(1)))}function k1(n){return Uo(n)||n instanceof Ho}function O1(n,e){return je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?H(Ee(O({},t),{guardsResult:!0})):L1(s,r,i,n).pipe(je(c=>c&&A1(c)?F1(r,o,n,e):H(c)),te(c=>Ee(O({},t),{guardsResult:c})))})}function L1(n,e,t,r){return Pe(n).pipe(je(i=>$1(i.component,i.route,t,e,r)),Ln(i=>i!==!0,!0))}function F1(n,e,t,r){return Pe(e).pipe(ho(i=>lo(j1(i.route.parent,r),V1(i.route,r),B1(n,i.path,t),U1(n,i.route,t))),Ln(i=>i!==!0,!0))}function V1(n,e){return n!==null&&e&&e(new xd(n)),H(!0)}function j1(n,e){return n!==null&&e&&e(new Md(n)),H(!0)}function U1(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>na(()=>{let s=qo(e)??t,c=Wo(o,s),u=N1(c)?c.canActivate(e,n):Be(s,()=>c(e,n));return Gn(u).pipe(Ln())}));return H(i).pipe(zo())}function B1(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>b1(s)).filter(s=>s!==null).map(s=>na(()=>{let c=s.guards.map(u=>{let l=qo(s.node)??t,f=Wo(u,l),p=M1(f)?f.canActivateChild(r,n):Be(l,()=>f(r,n));return Gn(p).pipe(Ln())});return H(c).pipe(zo())}));return H(o).pipe(zo())}function $1(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(c=>{let u=qo(e)??i,l=Wo(c,u),f=P1(l)?l.canDeactivate(n,e,t,r):Be(u,()=>l(n,e,t,r));return Gn(f).pipe(Ln())});return H(s).pipe(zo())}function H1(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let c=Wo(s,n),u=R1(c)?c.canLoad(e,t):Be(n,()=>c(e,t));return Gn(u)});return H(o).pipe(zo(),gC(r))}function gC(n){return Mu(ze(e=>{if(typeof e!="boolean")throw Vd(n,e)}),te(e=>e===!0))}function z1(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let c=Wo(s,n),u=x1(c)?c.canMatch(e,t):Be(n,()=>c(e,t));return Gn(u)});return H(o).pipe(zo(),gC(r))}var cc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},uc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Lo(n){return uo(new cc(n))}function q1(n){return uo(new F(4e3,!1))}function G1(n){return uo(hC(!1,_t.GuardRejected))}var ly=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[Q])return q1(`${e.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(e,t,r,i,o){return W1(t,i,o).pipe(te(s=>{if(s instanceof In)throw new uc(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new uc(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new In(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function W1(n,e,t){if(typeof n=="string")return H(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:f,title:p}=e;return Gn(Be(t,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var dy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K1(n,e,t,r,i){let o=mC(n,e,t);return o.matched?(r=m1(e,r),z1(r,e,t,i).pipe(te(s=>s===!0?o:O({},dy)))):H(o)}function mC(n,e,t){if(e.path==="**")return Q1(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},dy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qb)(t,n,e);if(!i)return O({},dy);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Q1(n){return{matched:!0,parameters:n.length>0?Wb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function $b(n,e,t,r){return t.length>0&&J1(n,t,r)?{segmentGroup:new ge(e,Z1(r,new ge(t,n.children))),slicedSegments:[]}:t.length===0&&X1(n,t,r)?{segmentGroup:new ge(n.segments,Y1(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:t}}function Y1(n,e,t,r){let i={};for(let o of t)if($d(n,e,o)&&!r[nn(o)]){let s=new ge([],{});i[nn(o)]=s}return O(O({},r),i)}function Z1(n,e){let t={};t[Q]=e;for(let r of n)if(r.path===""&&nn(r)!==Q){let i=new ge([],{});t[nn(r)]=i}return t}function J1(n,e,t){return t.some(r=>$d(n,e,r)&&nn(r)!==Q)}function X1(n,e,t){return t.some(r=>$d(n,e,r))}function $d(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function eL(n,e,t){return e.length===0&&!n.children[t]}var hy=class{};function tL(n,e,t,r,i,o,s="emptyOnly"){return new fy(n,e,t,r,i,s,o).recognize()}var nL=31,fy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new ly(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=$b(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new Bt(r,t),o=new sc("",i),s=nC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bi([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Q,t).pipe(te(r=>({children:r,rootSnapshot:t})),hr(r=>{if(r instanceof uc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(te(s=>s instanceof Bt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(ho(s=>{let c=r.children[s],u=y1(t,s);return this.processSegmentGroup(e,u,c,s,i)}),Ku((s,c)=>(s.push(...c),s)),fr(null),lp(),je(s=>{if(s===null)return Lo(r);let c=yC(s);return rL(c),H(c)}))}processSegment(e,t,r,i,o,s,c){return Pe(t).pipe(ho(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(hr(l=>{if(l instanceof cc)return H(null);throw l}))),Ln(u=>!!u),hr(u=>{if(pC(u))return eL(r,i,o)?H(new hy):Lo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return nn(r)!==s&&(s===Q||!$d(i,o,r))?Lo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Lo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=mC(t,i,o);if(!u)return Lo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nL&&(this.allowRedirects=!1));let v=new bi(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Hb(i),nn(i),i.component??i._loadedComponent??null,i,zb(i)),S=Fd(v,c,this.paramsInheritanceStrategy);return v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,v,e).pipe(bt(A=>this.applyRedirects.lineralizeSegments(i,A)),je(A=>this.processSegment(e,r,t,A.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=K1(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new bi(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Hb(r),nn(r),r.component??r._loadedComponent??null,r,zb(r)),M=Fd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:A,slicedSegments:L}=$b(t,m,v,l);if(L.length===0&&A.hasChildren())return this.processChildren(f,l,A,S).pipe(te(Z=>new Bt(S,Z)));if(l.length===0&&L.length===0)return H(new Bt(S,[]));let J=nn(r)===o;return this.processSegment(f,l,A,L,J?Q:o,!0,S).pipe(te(Z=>new Bt(S,Z instanceof Bt?[Z]:[])))}))):Lo(t)))}getChildConfig(e,t,r){return t.children?H({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?H({routes:t._loadedRoutes,injector:t._loadedInjector}):H1(e,t,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,t).pipe(ze(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):G1(t))):H({routes:[],injector:e})}};function rL(n){n.sort((e,t)=>e.value.outlet===Q?-1:t.value.outlet===Q?1:e.value.outlet.localeCompare(t.value.outlet))}function iL(n){let e=n.value.routeConfig;return e&&e.path===""}function yC(n){let e=[],t=new Set;for(let r of n){if(!iL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=yC(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!t.has(r))}function Hb(n){return n.data||{}}function zb(n){return n.resolve||{}}function oL(n,e,t,r,i,o){return je(s=>tL(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:c,tree:u})=>Ee(O({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function sL(n,e){return je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of vC(u))s.add(l);let c=0;return Pe(s).pipe(ho(u=>o.has(u)?aL(u,r,n,e):(u.data=Fd(u,u.parent,n).resolve,H(void 0))),ze(()=>c++),fo(1),je(u=>c===s.size?H(t):Tt))})}function vC(n){let e=n.children.map(t=>vC(t)).flat();return[n,...e]}function aL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!uC(i)&&(o[lc]=i.title),na(()=>(n.data=Fd(n,n.parent,t).resolve,cL(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=O(O({},n.data),s),null)))))}function cL(n,e,t,r){let i=ty(n);if(i.length===0)return H({});let o={};return Pe(i).pipe(je(s=>uL(n[s],e,t,r).pipe(Ln(),ze(c=>{if(c instanceof Ho)throw Vd(new Si,c);o[s]=c}))),fo(1),te(()=>o),hr(s=>pC(s)?Tt:uo(s)))}function uL(n,e,t,r){let i=qo(e)??r,o=Wo(n,i),s=o.resolve?o.resolve(e,t):Be(i,()=>o(e,t));return Gn(s)}function Xm(n){return bt(e=>{let t=n(e);return t?Pe(t).pipe(te(()=>e)):H(e)})}var yy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(t){return t.data[lc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(_C),providedIn:"root"})}return n})(),_C=(()=>{class n extends yy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(Fb))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pc=new j("",{providedIn:"root",factory:()=>({})}),gc=new j(""),EC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(wm);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Gn(Be(t,()=>r.loadComponent())).pipe(te(wC),bt(TC),ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ra(()=>{this.componentLoaders.delete(r)})),o=new oo(i,()=>new Je).pipe(io());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=IC(r,this.compiler,t,this.onLoadEndListener).pipe(ra(()=>{this.childrenLoaders.delete(r)})),s=new oo(o,()=>new Je).pipe(io());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IC(n,e,t,r){return Gn(Be(t,()=>n.loadChildren())).pipe(te(wC),bt(TC),je(i=>i instanceof nd||Array.isArray(i)?H(i):Pe(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(gc,[],{optional:!0,self:!0}).flat()),{routes:s.map(my),injector:o}}))}function lL(n){return n&&typeof n=="object"&&"default"in n}function wC(n){return lL(n)?n.default:n}function TC(n){return H(n)}var Hd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(dL),providedIn:"root"})}return n})(),dL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DC=new j("");var bC=new j(""),CC=(()=>{class n{currentNavigation=To(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Je;transitionAbortWithErrorSubject=new Je;configLoader=R(EC);environmentInjector=R(Ue);destroyRef=R(Ir);urlSerializer=R(dc);rootContexts=R(Go);location=R(ko);inputBindingEnabled=R(Bd,{optional:!0})!==null;titleStrategy=R(yy);options=R(pc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(Hd);createViewTransition=R(DC,{optional:!0});navigationErrorHandler=R(bC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Rd(i)),r=i=>this.events.next(new Nd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;tn(()=>{this.transitions?.next(Ee(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Xe(null),this.transitions.pipe(xt(r=>r!==null),bt(r=>{let i=!1;return H(r).pipe(bt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",_t.SupersededByNewNavigation),Tt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new qn(o.id,this.urlSerializer.serialize(o.rawUrl),"",nc.IgnoredSameUrlNavigation)),o.resolve(!1),Tt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return H(o).pipe(bt(u=>(this.events.next(new Ai(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Tt:Promise.resolve(u))),oL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let l=new rc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:f,restoredState:p,extras:m}=o,v=new Ai(u,this.urlSerializer.serialize(l),f,p);this.events.next(v);let S=aC(this.rootComponentType).snapshot;return this.currentTransition=r=Ee(O({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:Ee(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),H(r)}else return this.events.next(new qn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",nc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Tt}),ze(o=>{let s=new bd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),te(o=>(this.currentTransition=r=Ee(O({},o),{guards:D1(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),O1(this.environmentInjector,o=>this.events.next(o)),ze(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Vd(this.urlSerializer,o.guardsResult);let s=new Cd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),xt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",_t.GuardRejected),!1)),Xm(o=>{if(o.guards.canActivateChecks.length!==0)return H(o).pipe(ze(s=>{let c=new Sd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),bt(s=>{let c=!1;return H(s).pipe(sL(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",_t.NoDataFromResolver)}}))}),ze(s=>{let c=new Ad(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),Xm(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let l=qo(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(ze(f=>{c.component=f}),te(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return Gu(s(o.targetSnapshot.root)).pipe(fr(null),On(1))}),Xm(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Pe(c).pipe(te(()=>r)):H(r)}),te(o=>{let s=_1(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Ee(O({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),ze(()=>{this.events.next(new ic)}),T1(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),On(1),Yu(new X(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(xt(()=>!i&&!r.targetRouterState),ze(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",_t.Aborted)}))),ze({next:o=>{i=!0,this.lastSuccessfulNavigation=tn(this.currentNavigation),this.events.next(new zn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Yu(this.transitionAbortWithErrorSubject.pipe(ze(o=>{throw o}))),ra(()=>{i||this.cancelNavigationTransition(r,"",_t.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),hr(o=>{if(this.destroyed)return r.resolve(!1),Tt;if(i=!0,fC(o))this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),w1(o)?this.events.next(new $o(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Bo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof Ho){let{message:u,cancellationCode:l}=Vd(this.urlSerializer,c);this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new $o(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Tt}))}))}cancelNavigationTransition(t,r,i){let o=new En(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=tn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hL(n){return n!==Xa}var SC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(fL),providedIn:"root"})}return n})(),Ud=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},fL=(()=>{class n extends Ud{static \u0275fac=(()=>{let t;return function(i){return(t||(t=zl(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AC=(()=>{class n{urlSerializer=R(dc);options=R(pc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(ko);urlHandlingStrategy=R(Hd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new In;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof In?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=aC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(pL),providedIn:"root"})}return n})(),pL=(()=>{class n extends AC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ai?this.updateStateMemento():t instanceof qn?this.commitTransition(r):t instanceof rc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ic?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof En&&t.code!==_t.SupersededByNewNavigation&&t.code!==_t.Redirect?this.restoreHistory(r):t instanceof Bo?this.restoreHistory(r,!0):t instanceof zn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zl(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vy(n,e){n.events.pipe(xt(t=>t instanceof zn||t instanceof En||t instanceof Bo||t instanceof qn),te(t=>t instanceof zn||t instanceof qn?0:(t instanceof En?t.code===_t.Redirect||t.code===_t.SupersededByNewNavigation:!1)?2:1),xt(t=>t!==2),On(1)).subscribe(()=>{e()})}var gL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zd=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(fm);stateManager=R(AC);options=R(pc,{optional:!0})||{};pendingTasks=R(gn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(CC);urlSerializer=R(dc);location=R(ko);urlHandlingStrategy=R(Hd);injector=R(Ue);_events=new Je;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(SC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(gc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(Bd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Re;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=tn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof En&&r.code!==_t.Redirect&&r.code!==_t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zn)this.navigated=!0;else if(r instanceof $o){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hL(i.source)},s);this.scheduleNavigation(c,Xa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}g1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(Rt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return tn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(my),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=rC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return iC(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Uo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xa,null,r)}navigate(t,r={skipLocationChange:!1}){return yL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},gL):r===!1?i=O({},mL):i=r,Uo(t))return Vb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Vb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return vy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new F(4008,!1)}var _L=new j("");function _y(n,...e){return kt([{provide:gc,multi:!0,useValue:n},[],{provide:Ar,useFactory:EL,deps:[zd]},{provide:id,multi:!0,useFactory:IL},e.map(t=>t.\u0275providers)])}function EL(n){return n.routerState.root}function IL(){let n=R(qe);return e=>{let t=n.get(Ei);if(e!==t.components[0])return;let r=n.get(zd),i=n.get(wL);n.get(TL)===1&&r.initialNavigation(),n.get(DL,null,{optional:!0})?.setUpPreloading(),n.get(_L,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wL=new j("",{factory:()=>new Je}),TL=new j("",{providedIn:"root",factory:()=>1});var DL=new j("");var RC=()=>{};var PC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},CL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(t[f],t[p],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Iy;let m=o<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Iy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SL=function(n){let e=PC(n);return qd.encodeByteArray(e,!0)},yc=function(n){return SL(n).replace(/\./g,"")},Gd=function(n){try{return qd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ty(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AL=()=>Ty().__FIREBASE_DEFAULTS__,RL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Gd(n[1]);return e&&JSON.parse(e)},Wd=()=>{try{return RC()||AL()||RL()||NL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Dy=n=>{var e,t;return(t=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xC=n=>{let e=Dy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},by=()=>{var n;return(n=Wd())===null||n===void 0?void 0:n.config},Cy=n=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${n}`]};var Ri=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Rr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kd(n){return(await fetch(n,{credentials:"include"})).ok}function kC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[yc(JSON.stringify(t)),yc(JSON.stringify(s)),""].join(".")}var mc={};function ML(){let n={prod:[],emulator:[]};for(let e of Object.keys(mc))mc[e]?n.emulator.push(e):n.prod.push(e);return n}function PL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var NC=!1;function Qd(n,e){if(typeof window>"u"||typeof document>"u"||!Rr(window.location.host)||mc[n]===e||mc[n]||NC)return;mc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=ML().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{NC=!0,s()},m}function f(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=PL(r),v=t("text"),S=document.getElementById(v)||document.createElement("span"),M=t("learnmore"),A=document.getElementById(M)||document.createElement("a"),L=t("preprendIcon"),J=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Z=m.element;c(Z),f(A,M);let Ie=l();u(J,L),Z.append(J,S,A,Ie),document.body.appendChild(Z)}o?(S.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function xL(){var n;let e=(n=Wd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FC(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jC(){let n=Ke();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function UC(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vc(){try{return typeof indexedDB=="object"}catch{return!1}}function BC(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var kL="FirebaseError",Ht=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}},rn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?OL(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Ht(i,c,r)}};function OL(n,e){return n.replace(LL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LL=/\{\$([^}]+)}/g;function $C(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(MC(o)&&MC(s)){if(!wn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function MC(n){return n!==null&&typeof n=="object"}function _c(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HC(n,e){let t=new wy(n,e);return t.subscribe.bind(t)}var wy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ey),i.error===void 0&&(i.error=Ey),i.complete===void 0&&(i.complete=Ey);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function FL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ey(){}var YJ=14400*1e3;function on(n){return n&&n._delegate?n._delegate:n}var Et=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ni="[DEFAULT]";var Sy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ri;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jL(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VL(n){return n===Ni?void 0:n}function jL(n){return n.instantiationMode==="EAGER"}var Yd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Sy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var UL=[],ie=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ie||{}),BL={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},$L=ie.INFO,HL={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},zL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=HL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Tn=class{constructor(e){this.name=e,this._logLevel=$L,this._logHandler=zL,this._userLogHandler=null,UL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var qL=(n,e)=>e.some(t=>n instanceof t),zC,qC;function GL(){return zC||(zC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WL(){return qC||(qC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var GC=new WeakMap,Ry=new WeakMap,WC=new WeakMap,Ay=new WeakMap,My=new WeakMap;function KL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Dn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&GC.set(t,n)}).catch(()=>{}),My.set(e,n),e}function QL(n){if(Ry.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Ry.set(n,e)}var Ny={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ry.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KC(n){Ny=n(Ny)}function YL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Zd(this),e,...t);return WC.set(r,e.sort?e.sort():[e]),Dn(r)}:WL().includes(n)?function(...e){return n.apply(Zd(this),e),Dn(GC.get(this))}:function(...e){return Dn(n.apply(Zd(this),e))}}function ZL(n){return typeof n=="function"?YL(n):(n instanceof IDBTransaction&&QL(n),qL(n,GL())?new Proxy(n,Ny):n)}function Dn(n){if(n instanceof IDBRequest)return KL(n);if(Ay.has(n))return Ay.get(n);let e=ZL(n);return e!==n&&(Ay.set(n,e),My.set(e,n)),e}var Zd=n=>My.get(n);function YC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Dn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Dn(s.result),u.oldVersion,u.newVersion,Dn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var JL=["get","getKey","getAll","getAllKeys","count"],XL=["put","add","delete","clear"],Py=new Map;function QC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Py.get(e))return Py.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=XL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JL.includes(t)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[t](...c),i&&u.done]))[0]};return Py.set(e,o),o}KC(n=>Ee(O({},n),{get:(e,t,r)=>QC(e,t)||n.get(e,t,r),has:(e,t)=>!!QC(e,t)||n.has(e,t)}));var ky=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function eF(n){let e=n.getComponent();return e?.type==="VERSION"}var Oy="@firebase/app",ZC="0.13.2";var Wn=new Tn("@firebase/app"),tF="@firebase/app-compat",nF="@firebase/analytics-compat",rF="@firebase/analytics",iF="@firebase/app-check-compat",oF="@firebase/app-check",sF="@firebase/auth",aF="@firebase/auth-compat",cF="@firebase/database",uF="@firebase/data-connect",lF="@firebase/database-compat",dF="@firebase/functions",hF="@firebase/functions-compat",fF="@firebase/installations",pF="@firebase/installations-compat",gF="@firebase/messaging",mF="@firebase/messaging-compat",yF="@firebase/performance",vF="@firebase/performance-compat",_F="@firebase/remote-config",EF="@firebase/remote-config-compat",IF="@firebase/storage",wF="@firebase/storage-compat",TF="@firebase/firestore",DF="@firebase/ai",bF="@firebase/firestore-compat",CF="firebase",SF="11.10.0";var Ly="[DEFAULT]",AF={[Oy]:"fire-core",[tF]:"fire-core-compat",[rF]:"fire-analytics",[nF]:"fire-analytics-compat",[oF]:"fire-app-check",[iF]:"fire-app-check-compat",[sF]:"fire-auth",[aF]:"fire-auth-compat",[cF]:"fire-rtdb",[uF]:"fire-data-connect",[lF]:"fire-rtdb-compat",[dF]:"fire-fn",[hF]:"fire-fn-compat",[fF]:"fire-iid",[pF]:"fire-iid-compat",[gF]:"fire-fcm",[mF]:"fire-fcm-compat",[yF]:"fire-perf",[vF]:"fire-perf-compat",[_F]:"fire-rc",[EF]:"fire-rc-compat",[IF]:"fire-gcs",[wF]:"fire-gcs-compat",[TF]:"fire-fst",[bF]:"fire-fst-compat",[DF]:"fire-vertex","fire-js":"fire-js",[CF]:"fire-js-all"};var Ec=new Map,RF=new Map,Fy=new Map;function JC(n,e){try{n.container.addComponent(e)}catch(t){Wn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sn(n){let e=n.name;if(Fy.has(e))return Wn.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,n);for(let t of Ec.values())JC(t,n);for(let t of RF.values())JC(t,n);return!0}function Ko(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qt(n){return n==null?!1:n.settings!==void 0}var NF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new rn("app","Firebase",NF);var Vy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}};var Mr=SF;function By(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ly,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Nr.create("bad-app-name",{appName:String(i)});if(t||(t=by()),!t)throw Nr.create("no-options");let o=Ec.get(i);if(o){if(wn(t,o.options)&&wn(r,o.config))return o;throw Nr.create("duplicate-app",{appName:i})}let s=new Yd(i);for(let u of Fy.values())s.addComponent(u);let c=new Vy(t,r,s);return Ec.set(i,c),c}function Mi(n=Ly){let e=Ec.get(n);if(!e&&n===Ly&&by())return By();if(!e)throw Nr.create("no-app",{appName:n});return e}function Jd(){return Array.from(Ec.values())}function Me(n,e,t){var r;let i=(r=AF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wn.warn(c.join(" "));return}sn(new Et(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var MF="firebase-heartbeat-database",PF=1,Ic="firebase-heartbeat-store",xy=null;function nS(){return xy||(xy=YC(MF,PF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ic)}catch(t){console.warn(t)}}}}).catch(n=>{throw Nr.create("idb-open",{originalErrorMessage:n.message})})),xy}async function xF(n){try{let t=(await nS()).transaction(Ic),r=await t.objectStore(Ic).get(rS(n));return await t.done,r}catch(e){if(e instanceof Ht)Wn.warn(e.message);else{let t=Nr.create("idb-get",{originalErrorMessage:e?.message});Wn.warn(t.message)}}}async function XC(n,e){try{let r=(await nS()).transaction(Ic,"readwrite");await r.objectStore(Ic).put(e,rS(n)),await r.done}catch(t){if(t instanceof Ht)Wn.warn(t.message);else{let r=Nr.create("idb-set",{originalErrorMessage:t?.message});Wn.warn(r.message)}}}function rS(n){return`${n.name}!${n.options.appId}`}var kF=1024,OF=30,jy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Uy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>OF){let s=FF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=eS(),{heartbeatsToSend:r,unsentEntries:i}=LF(this._heartbeatsCache.heartbeats),o=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wn.warn(t),""}}};function eS(){return new Date().toISOString().substring(0,10)}function LF(n,e=kF){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Uy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vc()?BC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await xF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return XC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return XC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function tS(n){return yc(JSON.stringify({version:2,heartbeats:n})).length}function FF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function VF(n){sn(new Et("platform-logger",e=>new ky(e),"PRIVATE")),sn(new Et("heartbeat",e=>new jy(e),"PRIVATE")),Me(Oy,ZC,n),Me(Oy,ZC,"esm2017"),Me("fire-js","")}VF("");var jF="firebase",UF="11.10.0";Me(jF,UF,"app");function iS(n){n===void 0&&(n=R(qe));let e=n.get(Do);return t=>new X(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Pr=new go("ANGULARFIRE2_VERSION");function wc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Yo=(n,e)=>{let t=e?[e]:Jd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Qo=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Qo||{}),oS=Nm()&&typeof Zone<"u"?Qo.WARN:Qo.SILENT;var Xd=class{zone;delegate;constructor(e,t=ap){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},xr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=R(_e);this.outsideAngular=t.runOutsideAngular(()=>new Xd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Xd(typeof Zone>"u"?void 0:Zone.current,sp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sS=!1;function BF(n,e){!sS&&(oS>Qo.SILENT||Nm())&&(sS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),oS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function $F(n){let e=R(_e,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Pi(n){let e=R(_e,{optional:!0});return e?e.run(()=>n()):n()}var HF=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Be(t,()=>Pi(()=>n.apply(void 0,r)))),Kn=(n,e,t)=>(t||=e?Qo.WARN:Qo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=R(xr),s=R(Do),c=R(Ue)}catch{return BF(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Pi(()=>s.add())),i[l]=HF(i[l],r,c));let u=$F(()=>n.apply(this,i));return e?u instanceof X?u.pipe(dr(o.outsideAngular),lr(o.insideAngular),iS(c)):u instanceof Promise?Pi(()=>{let l=s.add();return new Promise((f,p)=>{u.then(m=>Be(c,()=>Pi(()=>f(m))),m=>Be(c,()=>Pi(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Pi(()=>u):u instanceof X?u.pipe(dr(o.outsideAngular),lr(o.insideAngular)):Pi(()=>u)});var Qn=class{constructor(e){return e}},xi=class{constructor(){return Jd()}};function zF(n){return n&&n.length===1?n[0]:new Qn(Mi())}var $y=new j("angularfire2._apps"),qF={provide:Qn,useFactory:zF,deps:[[new Vt,$y]]},GF={provide:xi,deps:[[new Vt,$y]]};function WF(n){return(e,t)=>{let r=t.get(Tr);Me("angularfire",Pr.full,"core"),Me("angularfire",Pr.full,"app"),Me("angular",Tp.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Qn(i)}}function aS(n,...e){return kt([qF,GF,{provide:$y,useFactory:WF(n),multi:!0,deps:[_e,qe,xr,...e]}])}var cS=Kn(By,!0);var KF=new Map,QF={activated:!1,tokenObservers:[]},YF={initialized:!1,enabled:!1};function an(n){return KF.get(n)||Object.assign({},QF)}function hS(){return YF}var ZF="https://content-firebaseappcheck.googleapis.com/v1";var JF="exchangeDebugToken",uS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},YX=1440*60*1e3;var qy=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Ri,this.pending.promise.catch(t=>{}),await XF(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Ri,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function XF(n){return new Promise(e=>{setTimeout(e,n)})}var eV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},kr=new rn("appCheck","AppCheck",eV);function fS(n){if(!an(n).activated)throw kr.create("use-before-activation",{appName:n.name})}async function pS({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw kr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw kr.create("fetch-status-error",{httpStatus:s.status});let c;try{c=await s.json()}catch(p){throw kr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw kr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let l=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+l,issuedAtTimeMillis:f}}function gS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${ZF}/projects/${t}/apps/${r}:${JF}?key=${i}`,body:{debug_token:e}}}var tV="firebase-app-check-database",nV=1,Gy="firebase-app-check-store";var eh=null;function rV(){return eh||(eh=new Promise((n,e)=>{try{let t=indexedDB.open(tV,nV);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(kr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gy,{keyPath:"compositeKey"})}}}catch(t){e(kr.create("storage-open",{originalErrorMessage:t?.message}))}}),eh)}function iV(n,e){return oV(sV(n),e)}async function oV(n,e){let r=(await rV()).transaction(Gy,"readwrite"),o=r.objectStore(Gy).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(kr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function sV(n){return`${n.options.appId}-${n.name}`}var Tc=new Tn("@firebase/app-check");function Hy(n,e){return vc()?iV(n,e).catch(t=>{Tc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mS(){return hS().enabled}async function yS(){let n=hS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var aV={error:"UNKNOWN_ERROR"};function cV(n){return qd.encodeString(JSON.stringify(n),!1)}async function Wy(n,e=!1,t=!1){let r=n.app;fS(r);let i=an(r),o=i.token,s;if(o&&!Dc(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Dc(l)?o=l:await Hy(r,void 0))}if(!e&&o&&Dc(o))return{token:o.token};let c=!1;if(mS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=pS(gS(r,await yS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=await i.exchangeTokenPromise;return await Hy(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Tc.warn(l.message):t&&Tc.error(l),zy(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=await an(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Tc.warn(l.message):t&&Tc.error(l),s=l}let u;return o?s?Dc(o)?u={token:o.token,internalError:s}:u=zy(s):(u={token:o.token},i.token=o,await Hy(r,o)):u=zy(s),c&&hV(r,u),u}async function uV(n){let e=n.app;fS(e);let{provider:t}=an(e);if(mS()){let r=await yS(),{token:i}=await pS(gS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function lV(n,e,t,r){let{app:i}=n,o=an(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Dc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),lS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>lS(n))}function vS(n,e){let t=an(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function lS(n){let{app:e}=n,t=an(e),r=t.tokenRefresher;r||(r=dV(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function dV(n){let{app:e}=n;return new qy(async()=>{let t=an(e),r;if(t.token?r=await Wy(n,!0):r=await Wy(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=an(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},uS.RETRIAL_MIN_WAIT,uS.RETRIAL_MAX_WAIT)}function hV(n,e){let t=an(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Dc(n){return n.expireTimeMillis-Date.now()>0}function zy(n){return{token:cV(aV),error:n}}var Ky=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=an(this.app);for(let t of e)vS(this.app,t.next);return Promise.resolve()}};function fV(n,e){return new Ky(n,e)}function pV(n){return{getToken:e=>Wy(n,e),getLimitedUseToken:()=>uV(n),addTokenListener:e=>lV(n,"INTERNAL",e),removeTokenListener:e=>vS(n.app,e)}}var gV="@firebase/app-check",mV="0.10.1";var yV="app-check",dS="app-check-internal";function vV(){sn(new Et(yV,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return fV(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dS).initialize()})),sn(new Et(dS,n=>{let e=n.getProvider("app-check").getImmediate();return pV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(gV,mV)}vV();var _V="app-check";var Zo=class{constructor(){return Yo(_V)}};var EV=["localhost","0.0.0.0","127.0.0.1"],cee=typeof window<"u"&&EV.includes(window.location.hostname);function xS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kS=xS,OS=new rn("auth","Firebase",xS());var sh=new Tn("@firebase/auth");function IV(n,...e){sh.logLevel<=ie.WARN&&sh.warn(`Auth (${Mr}): ${n}`,...e)}function nh(n,...e){sh.logLevel<=ie.ERROR&&sh.error(`Auth (${Mr}): ${n}`,...e)}function Fr(n,...e){throw pv(n,...e)}function Oi(n,...e){return pv(n,...e)}function LS(n,e,t){let r=Object.assign(Object.assign({},kS()),{[e]:t});return new rn("auth","Firebase",r).create(e,{appName:n.name})}function ki(n){return LS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OS.create(n,...e)}function $(n,e,...t){if(!n)throw pv(e,...t)}function Yn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw nh(e),new Error(e)}function Vr(n,e){n||Yn(e)}function Jy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wV(){return _S()==="http:"||_S()==="https:"}function _S(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function TV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wV()||FC()||"connection"in navigator)?navigator.onLine:!0}function DV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Li=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vr(t>e,"Short delay should be less than long delay!"),this.isMobile=OC()||VC()}get(){return TV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gv(n,e){Vr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ah=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var bV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var CV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SV=new Li(3e4,6e4);function mv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Jo(n,e,t,r,i={}){return FS(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=_c(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:u},o);return LC()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&Rr(n.emulatorConfig.host)&&(l.credentials="include"),ah.fetch()(await VS(n,n.config.apiHost,t,c),l)})}async function FS(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},bV),e);try{let i=new Xy(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw th(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw th(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw th(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw LS(n,f,l);Fr(n,f)}}catch(i){if(i instanceof Ht)throw i;Fr(n,"network-request-failed",{message:String(i)})}}async function AV(n,e,t,r,i={}){let o=await Jo(n,e,t,r,i);return"mfaPendingCredential"in o&&Fr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function VS(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?gv(n.config,i):`${n.config.apiScheme}://${i}`;return CV.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var Xy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),SV.get())})}};function th(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Oi(n,e,r);return i.customData._tokenResponse=t,i}async function RV(n,e){return Jo(n,"POST","/v1/accounts:delete",e)}async function ch(n,e){return Jo(n,"POST","/v1/accounts:lookup",e)}function bc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yv(n,e=!1){let t=on(n),r=await t.getIdToken(e),i=vv(r);$(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bc(Qy(i.auth_time)),issuedAtTime:bc(Qy(i.iat)),expirationTime:bc(Qy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Qy(n){return Number(n)*1e3}function vv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Gd(t);return i?JSON.parse(i):(nh("Failed to decode base64 JWT payload"),null)}catch(i){return nh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ES(n){let e=vv(n);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Sc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ht&&NV(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function NV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ev=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Ac=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function uh(n){var e;let t=n.auth,r=await n.getIdToken(),i=await Sc(n,ch(t,{idToken:r}));$(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jS(o.providerUserInfo):[],c=MV(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ac(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function _v(n){let e=on(n);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jS(n){return n.map(e=>{var{providerId:t}=e,r=cp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function PV(n,e){let t=await FS(n,{},async()=>{let r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await VS(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Rr(n.emulatorConfig.host)&&(u.credentials="include"),ah.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xV(n,e){return Jo(n,"POST","/v2/accounts:revokeToken",mv(n,e))}var Cc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ES(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(e.length!==0,"internal-error");let t=ES(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await PV(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&($(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&($(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Yn("not implemented")}};function Or(n,e){$(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Lr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ev(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ac(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return $(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yv(this,e)}reload(){return _v(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qt(this.auth.app))return Promise.reject(ki(this.auth));let e=await this.getIdToken();return await Sc(this,RV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=t.createdAt)!==null&&l!==void 0?l:void 0,J=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:Ie,isAnonymous:lt,providerData:ve,stsTokenManager:w}=t;$(Z&&w,e,"internal-error");let y=Cc.fromJSON(this.name,w);$(typeof Z=="string",e,"internal-error"),Or(p,e.name),Or(m,e.name),$(typeof Ie=="boolean",e,"internal-error"),$(typeof lt=="boolean",e,"internal-error"),Or(v,e.name),Or(S,e.name),Or(M,e.name),Or(A,e.name),Or(L,e.name),Or(J,e.name);let E=new n({uid:Z,auth:e,email:m,emailVerified:Ie,displayName:p,isAnonymous:lt,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:L,lastLoginAt:J});return ve&&Array.isArray(ve)&&(E.providerData=ve.map(I=>Object.assign({},I))),A&&(E._redirectEventId=A),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new Cc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uh(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];$(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?jS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Cc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ac(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var IS=new Map;function Zn(n){Vr(n instanceof Function,"Expected a class definition");let e=IS.get(n);return e?(Vr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,IS.set(n,e),e)}var kV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),tv=kV;function rh(n,e,t){return`firebase:${n}:${e}:${t}`}var lh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=rh(this.userKey,i.apiKey,o),this.fullPersistenceKey=rh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await ch(this.auth,{idToken:e}).catch(()=>{});return t?Lr._fromGetAccountInfoResponse(this.auth,t,e):null}return Lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Zn(tv),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Zn(tv),s=rh(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await ch(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Lr._fromGetAccountInfoResponse(e,m,f)}else p=Lr._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function wS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(US(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qS(e))return"Blackberry";if(GS(e))return"Webos";if(BS(e))return"Safari";if((e.includes("chrome/")||$S(e))&&!e.includes("edge/"))return"Chrome";if(zS(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function US(n=Ke()){return/firefox\//i.test(n)}function BS(n=Ke()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $S(n=Ke()){return/crios\//i.test(n)}function HS(n=Ke()){return/iemobile/i.test(n)}function zS(n=Ke()){return/android/i.test(n)}function qS(n=Ke()){return/blackberry/i.test(n)}function GS(n=Ke()){return/webos/i.test(n)}function Ev(n=Ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OV(n=Ke()){var e;return Ev(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LV(){return jC()&&document.documentMode===10}function WS(n=Ke()){return Ev(n)||zS(n)||GS(n)||qS(n)||/windows phone/i.test(n)||HS(n)}function KS(n,e=[]){let t;switch(n){case"Browser":t=wS(Ke());break;case"Worker":t=`${wS(Ke())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mr}/${r}`}var nv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function FV(n,e={}){return Jo(n,"GET","/v2/passwordPolicy",mv(n,e))}var VV=6,rv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:VV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var iv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dh(this),this.idTokenSubscription=new dh(this),this.beforeStateQueue=new nv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zn(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await lh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ch(this,{idToken:e}),r=await Lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(qt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qt(this.app))return Promise.reject(ki(this));let t=e?on(e):null;return t&&$(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qt(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qt(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await FV(this),t=new rv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await xV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Zn(e)||this._popupRedirectResolver;$(t,this,"argument-error"),this.redirectPersistenceManager=await lh.create(this,[Zn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if($(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&IV(`Error while retrieving App Check token: ${t.error}`),t?.token}};function Iv(n){return on(n)}var dh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HC(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var wv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jV(n){wv=n}function UV(n){return wv.loadJS(n)}function BV(){return wv.gapiScript}function QS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Tv(n,e){let t=Ko(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(wn(o,e??{}))return i;Fr(i,"already-initialized")}return t.initialize({options:e})}function $V(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Dv(n,e,t){let r=Iv(n);$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=YS(e),{host:s,port:c}=HV(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$(wn(l,r.config.emulator)&&wn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Rr(s)?(Kd(`${o}//${s}${u}`),Qd("Auth",!0)):i||zV()}function YS(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HV(n){let e=YS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:TS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:TS(s)}}}function TS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function zV(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var hh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,t){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}};async function Yy(n,e){return AV(n,"POST","/v1/accounts:signInWithIdp",mv(n,e))}var fh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ov=class extends fh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Rc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Lr._fromIdTokenResponse(e,r,i),s=DS(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=DS(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function DS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var sv=class n extends Ht{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function ZS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sv._fromErrorAndOperation(n,o,e,r):o})}async function qV(n,e,t=!1){let r=await Sc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Rc._forOperation(n,"link",r)}async function GV(n,e,t=!1){let{auth:r}=n;if(qt(r.app))return Promise.reject(ki(r));let i="reauthenticate";try{let o=await Sc(n,ZS(r,i,e,n),t);$(o.idToken,r,"internal-error");let s=vv(o.idToken);$(s,r,"internal-error");let{sub:c}=s;return $(n.uid===c,r,"user-mismatch"),Rc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Fr(r,"user-mismatch"),o}}async function WV(n,e,t=!1){if(qt(n.app))return Promise.reject(ki(n));let r="signIn",i=await ZS(n,r,e),o=await Rc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function bv(n,e,t,r){return on(n).onIdTokenChanged(e,t,r)}function Cv(n,e,t){return on(n).beforeAuthStateChanged(e,t)}var ph="__sak";var gh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var KV=1e3,QV=10,YV=(()=>{class n extends gh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);LV()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QV):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},KV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),JS=YV;var ZV=(()=>{class n extends gh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Sv=ZV;function JV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var XV=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(async f=>f(r.origin,s)),l=await JV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function XS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var av=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=XS("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function bn(){return window}function e2(n){bn().location.href=n}function eA(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function t2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function r2(){return eA()?self:null}var tA="firebaseLocalStorageDb",i2=1,mh="firebaseLocalStorage",nA="fbase_key",Fi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function vh(n,e){return n.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function o2(){let n=indexedDB.deleteDatabase(tA);return new Fi(n).toPromise()}function cv(){let n=indexedDB.open(tA,i2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(mh,{keyPath:nA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await o2(),e(await cv()))})})}async function bS(n,e,t){let r=vh(n,!0).put({[nA]:e,value:t});return new Fi(r).toPromise()}async function s2(n,e){let t=vh(n,!1).get(e),r=await new Fi(t).toPromise();return r===void 0?null:r.value}function CS(n,e){let t=vh(n,!0).delete(e);return new Fi(t).toPromise()}var a2=800,c2=3,u2=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cv(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>c2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=XV._getInstance(r2()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await t2(),!this.activeServiceWorker)return;this.sender=new av(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||n2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await cv();return await bS(t,ph,"1"),await CS(t,ph),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>bS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>s2(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>CS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=vh(o,!1).getAll();return new Fi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),rA=u2;var vee=QS("rcb"),_ee=new Li(3e4,6e4);function l2(n,e){return e?Zn(e):($(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Nc=class extends hh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function d2(n){return WV(n.auth,new Nc(n),n.bypassAuthState)}function h2(n){let{auth:e,user:t}=n;return $(t,e,"internal-error"),GV(t,new Nc(n),n.bypassAuthState)}async function f2(n){let{auth:e,user:t}=n;return $(t,e,"internal-error"),qV(t,new Nc(n),n.bypassAuthState)}var uv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d2;case"linkViaPopup":case"linkViaRedirect":return f2;case"reauthViaPopup":case"reauthViaRedirect":return h2;default:Fr(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Eee=new Li(2e3,1e4);var p2="pendingRedirect",ih=new Map,lv=class extends uv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{let r=await g2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function g2(n,e){let t=v2(e),r=y2(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function m2(n,e){ih.set(n._key(),e)}function y2(n){return Zn(n._redirectPersistence)}function v2(n){return rh(p2,n.config.apiKey,n.name)}async function _2(n,e,t=!1){if(qt(n.app))return Promise.reject(ki(n));let r=Iv(n),i=l2(r,e),s=await new lv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var E2=600*1e3,dv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!iA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Oi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(SS(e))}saveEventToCache(e){this.cachedEventUids.add(SS(e)),this.lastProcessedEventTime=Date.now()}};function SS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function I2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iA(n);default:return!1}}async function w2(n,e={}){return Jo(n,"GET","/v1/projects",e)}var T2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D2=/^https?/;async function b2(n){if(n.config.emulator)return;let{authorizedDomains:e}=await w2(n);for(let t of e)try{if(C2(t))return}catch{}Fr(n,"unauthorized-domain")}function C2(n){let e=Jy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!D2.test(t))return!1;if(T2.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var S2=new Li(3e4,6e4);function AS(){let n=bn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A2(n){return new Promise((e,t)=>{var r,i,o;function s(){AS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AS(),t(Oi(n,"network-request-failed"))},timeout:S2.get()})}if(!((i=(r=bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=bn().gapi)===null||o===void 0)&&o.load)s();else{let c=QS("iframefcb");return bn()[c]=()=>{gapi.load?s():t(Oi(n,"network-request-failed"))},UV(`${BV()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw oh=null,e})}var oh=null;function R2(n){return oh=oh||A2(n),oh}var N2=new Li(5e3,15e3),M2="__/auth/iframe",P2="emulator/auth/iframe",x2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O2(n){let e=n.config;$(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?gv(e,P2):`https://${n.config.authDomain}/${M2}`,r={apiKey:e.apiKey,appName:n.name,v:Mr},i=k2.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${_c(r).slice(1)}`}async function L2(n){let e=await R2(n),t=bn().gapi;return $(t,n,"internal-error"),e.open({where:document.body,url:O2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x2,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Oi(n,"network-request-failed"),c=bn().setTimeout(()=>{o(s)},N2.get());function u(){bn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var F2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V2=500,j2=600,U2="_blank",B2="http://localhost",yh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $2(n,e,t,r=V2,i=j2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},F2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ke().toLowerCase();t&&(c=$S(l)?U2:t),US(l)&&(e=e||B2,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(OV(l)&&c!=="_self")return H2(e||"",c),new yh(null);let p=window.open(e||"",c,f);$(p,n,"popup-blocked");try{p.focus()}catch{}return new yh(p)}function H2(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var z2="__/auth/handler",q2="emulator/auth/handler",G2=encodeURIComponent("fac");async function RS(n,e,t,r,i,o){$(n.config.authDomain,n,"auth-domain-config-required"),$(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Mr,eventId:i};if(e instanceof fh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",$C(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof ov){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=await n._getAppCheckToken(),l=u?`#${G2}=${encodeURIComponent(u)}`:"";return`${W2(n)}?${_c(c).slice(1)}${l}`}function W2({config:n}){return n.emulator?gv(n,q2):`https://${n.authDomain}/${z2}`}var Zy="webStorageSupport",hv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sv,this._completeRedirectFn=_2,this._overrideRedirectResult=m2}async _openPopup(e,t,r,i){var o;Vr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await RS(e,t,r,Jy(),i);return $2(e,s,XS())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await RS(e,t,r,Jy(),i);return e2(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Vr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await L2(e),r=new dv(e);return t.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zy,{type:Zy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Zy];s!==void 0&&t(!!s),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=b2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WS()||BS()||Ev()}},oA=hv;var NS="@firebase/auth",MS="1.10.8";var fv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function K2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q2(n){sn(new Et("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;$(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KS(n)},l=new iv(r,i,o,u);return $V(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),sn(new Et("auth-internal",e=>{let t=Iv(e.getProvider("auth").getImmediate());return(r=>new fv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(NS,MS,K2(n)),Me(NS,MS,"esm2017")}var Y2=300,Z2=Cy("authIdTokenMaxAge")||Y2,PS=null,J2=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Z2)return;let i=t?.token;PS!==i&&(PS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Av(n=Mi()){let e=Ko(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Tv(n,{popupRedirectResolver:oA,persistence:[rA,JS,Sv]}),r=Cy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=J2(o.toString());Cv(t,s,()=>s(t.currentUser)),bv(t,c=>s(c))}}let i=Dy("auth");return i&&Dv(t,`http://${i}`),t}function X2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}jV({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Oi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",X2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q2("Browser");var sA="auth",Mc=class{constructor(e){return e}},Pc=class{constructor(){return Yo(sA)}};var Rv=new j("angularfire2.auth-instances");function Gj(n,e){let t=wc(sA,n,e);return t&&new Mc(t)}function Wj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Mc(r)}}var Kj={provide:Pc,deps:[[new Vt,Rv]]},Qj={provide:Mc,useFactory:Gj,deps:[[new Vt,Rv],Qn]};function aA(n,...e){return Me("angularfire",Pr.full,"auth"),kt([Qj,Kj,{provide:Rv,useFactory:Wj(n),multi:!0,deps:[_e,qe,xr,xi,[new Vt,Zo],...e]}])}var cA=Kn(Av,!0);var uA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lA={};var Jn,Nv;(function(){var n;function e(w,y){function E(){}E.prototype=y.prototype,w.D=y.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,T,b){for(var _=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)_[Mn-2]=arguments[Mn];return y.prototype[T].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,y,E){E||(E=0);var I=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)I[T]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=w.g[0],E=w.g[1],T=w.g[2];var b=w.g[3],_=y+(b^E&(T^b))+I[0]+3614090360&4294967295;y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(b^E&(T^b))+I[4]+4118548399&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(b^E&(T^b))+I[8]+1770035416&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(b^E&(T^b))+I[12]+1804603682&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(T^b&(E^T))+I[1]+4129170786&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(E^T))+I[5]+3593408605&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(E^T))+I[9]+568446438&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(E^T))+I[13]+2850285829&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(E^T^b)+I[5]+4294588738&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(E^T^b)+I[1]+2763975236&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(E^T^b)+I[13]+681279174&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(E^T^b)+I[9]+3654602809&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(T^(E|~b))+I[0]+4096336452&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=y+(T^(E|~b))+I[12]+1700485571&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=y+(T^(E|~b))+I[8]+1873313359&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=y+(T^(E|~b))+I[4]+4149444226&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var E=y-this.blockSize,I=this.B,T=this.h,b=0;b<y;){if(T==0)for(;b<=E;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<y;)if(I[T++]=w.charCodeAt(b++),T==this.blockSize){i(this,I),T=0;break}}else for(;b<y;)if(I[T++]=w[b++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var E=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=E&255,E/=256;for(this.u(w),w=Array(16),y=E=0;4>y;++y)for(var I=0;32>I;I+=8)w[E++]=this.g[y]>>>I&255;return w};function o(w,y){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=y(w)}function s(w,y){this.h=y;for(var E=[],I=!0,T=w.length-1;0<=T;T--){var b=w[T]|0;I&&b==y||(E[T]=b,I=!1)}this.g=E}var c={};function u(w){return-128<=w&&128>w?o(w,function(y){return new s([y|0],0>y?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var y=[],E=1,I=0;w>=E;I++)y[I]=w/E|0,E*=4294967296;return new s(y,0)}function f(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return A(f(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(y,8)),I=p,T=0;T<w.length;T+=8){var b=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+b),y);8>b?(b=l(Math.pow(y,b)),I=I.j(b).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-A(this).m();for(var w=0,y=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*y,y*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(M(this))return"-"+A(this).toString(w);for(var y=l(Math.pow(w,6)),E=this,I="";;){var T=Ie(E,y).g;E=L(E,T.j(y));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=T,S(E))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=L(this,w),M(w)?-1:S(w)?0:1};function A(w){for(var y=w.g.length,E=[],I=0;I<y;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return M(this)?A(this):this},n.add=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0,T=0;T<=y;T++){var b=I+(this.i(T)&65535)+(w.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=_>>>16,b&=65535,_&=65535,E[T]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(w,y){return w.add(A(y))}n.j=function(w){if(S(this)||S(w))return p;if(M(this))return M(w)?A(this).j(A(w)):A(A(this).j(w));if(M(w))return A(this.j(A(w)));if(0>this.l(v)&&0>w.l(v))return l(this.m()*w.m());for(var y=this.g.length+w.g.length,E=[],I=0;I<2*y;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var b=this.i(I)>>>16,_=this.i(I)&65535,Mn=w.i(T)>>>16,Ns=w.i(T)&65535;E[2*I+2*T]+=_*Ns,J(E,2*I+2*T),E[2*I+2*T+1]+=b*Ns,J(E,2*I+2*T+1),E[2*I+2*T+1]+=_*Mn,J(E,2*I+2*T+1),E[2*I+2*T+2]+=b*Mn,J(E,2*I+2*T+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new s(E,0)};function J(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function Z(w,y){this.g=w,this.h=y}function Ie(w,y){if(S(y))throw Error("division by zero");if(S(w))return new Z(p,p);if(M(w))return y=Ie(A(w),y),new Z(A(y.g),A(y.h));if(M(y))return y=Ie(w,A(y)),new Z(A(y.g),y.h);if(30<w.g.length){if(M(w)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=y;0>=I.l(w);)E=lt(E),I=lt(I);var T=ve(E,1),b=ve(I,1);for(I=ve(I,2),E=ve(E,2);!S(I);){var _=b.add(I);0>=_.l(w)&&(T=T.add(E),b=_),I=ve(I,1),E=ve(E,1)}return y=L(w,T.j(y)),new Z(T,y)}for(T=p;0<=w.l(y);){for(E=Math.max(1,Math.floor(w.m()/y.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(E),_=b.j(y);M(_)||0<_.l(w);)E-=I,b=l(E),_=b.j(y);S(b)&&(b=m),T=T.add(b),w=L(w,_)}return new Z(T,w)}n.A=function(w){return Ie(this,w).h},n.and=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function lt(w){for(var y=w.g.length+1,E=[],I=0;I<y;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function ve(w,y){var E=y>>5;y%=32;for(var I=w.g.length-E,T=[],b=0;b<I;b++)T[b]=0<y?w.i(b+E)>>>y|w.i(b+E+1)<<32-y:w.i(b+E);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Nv=lA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Jn=lA.Integer=s}).apply(typeof uA<"u"?uA:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xn={};var Mv,Yj,Xo,Pv,xc,Eh,xv,kv,Ov;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,D={next:function(){if(!g&&h<a.length){var C=h++;return{value:d(C,a[C]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,D,C){for(var P=Array(arguments.length-2),we=2;we<arguments.length;we++)P[we-2]=arguments[we];return d.prototype[D].apply(g,P)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function A(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=a.length||0,C=g.length||0;a.length=D+C;for(let P=0;P<C;P++)a[D+P]=g[P]}else a.push(g)}}class L{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Ie(a){return Ie[" "](a),a}Ie[" "]=function(){};var lt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ve(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let C=0;C<E.length;C++)h=E[C],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=gf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Mn{constructor(){this.h=this.g=null}add(d,h){let g=Ns.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Ns=new L(()=>new AR,a=>a.reset());class AR{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ms,Ps=!1,gf=new Mn,xE=()=>{let a=c.Promise.resolve(void 0);Ms=()=>{a.then(RR)}};var RR=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=Ns;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ps=!1};function or(){this.s=this.s,this.C=this.C}or.prototype.s=!1,or.prototype.ma=function(){this.s||(this.s=!0,this.N())},or.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var NR=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a})();function xs(a,d){if(nt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(lt){e:{try{Ie(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:MR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&xs.aa.h.call(this)}}S(xs,nt);var MR={2:"touch",3:"pen",4:"mouse"};xs.prototype.h=function(){xs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ks="closure_listenable_"+(1e6*Math.random()|0),PR=0;function xR(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++PR,this.da=this.fa=!1}function iu(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ou(a){this.src=a,this.g={},this.h=0}ou.prototype.add=function(a,d,h,g,D){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var P=yf(a,d,g,D);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new xR(d,this.src,C,!!g,D),d.fa=h,a.push(d)),d};function mf(a,d){var h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),C;(C=0<=D)&&Array.prototype.splice.call(g,D,1),C&&(iu(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function yf(a,d,h,g){for(var D=0;D<a.length;++D){var C=a[D];if(!C.da&&C.listener==d&&C.capture==!!h&&C.ha==g)return D}return-1}var vf="closure_lm_"+(1e6*Math.random()|0),_f={};function kE(a,d,h,g,D){if(g&&g.once)return LE(a,d,h,g,D);if(Array.isArray(d)){for(var C=0;C<d.length;C++)kE(a,d[C],h,g,D);return null}return h=Tf(h),a&&a[ks]?a.K(d,h,l(g)?!!g.capture:!!g,D):OE(a,d,h,!1,g,D)}function OE(a,d,h,g,D,C){if(!d)throw Error("Invalid event type");var P=l(D)?!!D.capture:!!D,we=If(a);if(we||(a[vf]=we=new ou(a)),h=we.add(d,h,g,P,C),h.proxy)return h;if(g=kR(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)NR||(D=P),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(VE(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function kR(){function a(h){return d.call(a.src,a.listener,h)}let d=OR;return a}function LE(a,d,h,g,D){if(Array.isArray(d)){for(var C=0;C<d.length;C++)LE(a,d[C],h,g,D);return null}return h=Tf(h),a&&a[ks]?a.L(d,h,l(g)?!!g.capture:!!g,D):OE(a,d,h,!0,g,D)}function FE(a,d,h,g,D){if(Array.isArray(d))for(var C=0;C<d.length;C++)FE(a,d[C],h,g,D);else g=l(g)?!!g.capture:!!g,h=Tf(h),a&&a[ks]?(a=a.i,d=String(d).toString(),d in a.g&&(C=a.g[d],h=yf(C,h,g,D),-1<h&&(iu(C[h]),Array.prototype.splice.call(C,h,1),C.length==0&&(delete a.g[d],a.h--)))):a&&(a=If(a))&&(d=a.g[d.toString()],a=-1,d&&(a=yf(d,h,g,D)),(h=-1<a?d[a]:null)&&Ef(h))}function Ef(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ks])mf(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(VE(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=If(d))?(mf(h,a),h.h==0&&(h.src=null,d[vf]=null)):iu(a)}}}function VE(a){return a in _f?_f[a]:_f[a]="on"+a}function OR(a,d){if(a.da)a=!0;else{d=new xs(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Ef(a),a=h.call(g,d)}return a}function If(a){return a=a[vf],a instanceof ou?a:null}var wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tf(a){return typeof a=="function"?a:(a[wf]||(a[wf]=function(d){return a.handleEvent(d)}),a[wf])}function rt(){or.call(this),this.i=new ou(this),this.M=this,this.F=null}S(rt,or),rt.prototype[ks]=!0,rt.prototype.removeEventListener=function(a,d,h,g){FE(this,a,d,h,g)};function dt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new nt(d,a);else if(d instanceof nt)d.target=d.target||a;else{var D=d;d=new nt(g,a),I(d,D)}if(D=!0,h)for(var C=h.length-1;0<=C;C--){var P=d.g=h[C];D=su(P,g,!0,d)&&D}if(P=d.g=a,D=su(P,g,!0,d)&&D,D=su(P,g,!1,d)&&D,h)for(C=0;C<h.length;C++)P=d.g=h[C],D=su(P,g,!1,d)&&D}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)iu(h[g]);delete a.g[d],a.h--}}this.F=null},rt.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},rt.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function su(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,C=0;C<d.length;++C){var P=d[C];if(P&&!P.da&&P.capture==h){var we=P.listener,Ze=P.ha||P.src;P.fa&&mf(a.i,P),D=we.call(Ze,g)!==!1&&D}}return D&&!g.defaultPrevented}function jE(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function UE(a){a.g=jE(()=>{a.g=null,a.i&&(a.i=!1,UE(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class LR extends or{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:UE(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(a){or.call(this),this.h=a,this.g={}}S(Os,or);var BE=[];function $E(a){ve(a.g,function(d,h){this.g.hasOwnProperty(h)&&Ef(d)},a),a.g={}}Os.prototype.N=function(){Os.aa.N.call(this),$E(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Df=c.JSON.stringify,FR=c.JSON.parse,VR=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function bf(){}bf.prototype.h=null;function HE(a){return a.h||(a.h=a.i())}function zE(){}var Ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cf(){nt.call(this,"d")}S(Cf,nt);function Sf(){nt.call(this,"c")}S(Sf,nt);var zr={},qE=null;function au(){return qE=qE||new rt}zr.La="serverreachability";function GE(a){nt.call(this,zr.La,a)}S(GE,nt);function Fs(a){let d=au();dt(d,new GE(d))}zr.STAT_EVENT="statevent";function WE(a,d){nt.call(this,zr.STAT_EVENT,a),this.stat=d}S(WE,nt);function ht(a){let d=au();dt(d,new WE(d,a))}zr.Ma="timingevent";function KE(a,d){nt.call(this,zr.Ma,a),this.size=d}S(KE,nt);function Vs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function js(){this.g=!0}js.prototype.xa=function(){this.g=!1};function jR(a,d,h,g,D,C){a.info(function(){if(a.g)if(C)for(var P="",we=C.split("&"),Ze=0;Ze<we.length;Ze++){var fe=we[Ze].split("=");if(1<fe.length){var it=fe[0];fe=fe[1];var ot=it.split("_");P=2<=ot.length&&ot[1]=="type"?P+(it+"="+fe+"&"):P+(it+"=redacted&")}}else P=null;else P=C;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+P})}function UR(a,d,h,g,D,C,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+C+" "+P})}function Gi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+$R(a,h)+(g?" "+g:"")})}function BR(a,d){a.info(function(){return"TIMEOUT: "+d})}js.prototype.info=function(){};function $R(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var C=D[0];if(C!="noop"&&C!="stop"&&C!="close")for(var P=1;P<D.length;P++)D[P]=""}}}}return Df(h)}catch{return d}}var cu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},QE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Af;function uu(){}S(uu,bf),uu.prototype.g=function(){return new XMLHttpRequest},uu.prototype.i=function(){return{}},Af=new uu;function sr(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new YE}function YE(){this.i=null,this.g="",this.h=!1}var ZE={},Rf={};function Nf(a,d,h){a.L=1,a.v=fu(Pn(d)),a.m=h,a.P=!0,JE(a,null)}function JE(a,d){a.F=Date.now(),lu(a),a.A=Pn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),hI(h.i,"t",g),a.C=0,h=a.j.J,a.h=new YE,a.g=NI(a.j,h?d:null,!a.m),0<a.O&&(a.M=new LR(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(BE[0]=D.toString()),D=BE);for(var C=0;C<D.length;C++){var P=kE(h,D[C],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Fs(),jR(a.i,a.u,a.A,a.l,a.R,a.m)}sr.prototype.ca=function(a){a=a.target;let d=this.M;d&&xn(a)==3?d.j():this.Y(a)},sr.prototype.Y=function(a){try{if(a==this.g)e:{let ot=xn(this.g);var d=this.g.Ba();let Qi=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||_I(this.g)))){this.J||ot!=4||d==7||(d==8||0>=Qi?Fs(3):Fs(2)),Mf(this);var h=this.g.Z();this.X=h;t:if(XE(this)){var g=_I(this.g);a="";var D=g.length,C=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Us(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(C&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,UR(this.i,this.u,this.A,this.l,this.R,ot,h),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Ze=this.g;if((we=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(we)){var fe=we;break t}}fe=null}if(h=fe)Gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pf(this,h);else{this.o=!1,this.s=3,ht(12),qr(this),Us(this);break e}}if(this.P){h=!0;let Wt;for(;!this.J&&this.C<P.length;)if(Wt=HR(this,P),Wt==Rf){ot==4&&(this.s=4,ht(14),h=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==ZE){this.s=4,ht(15),Gi(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Gi(this.i,this.l,Wt,null),Pf(this,Wt);if(XE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||P.length!=0||this.h.h||(this.s=1,ht(16),h=!1),this.o=this.o&&h,!h)Gi(this.i,this.l,P,"[Invalid Chunked Response]"),qr(this),Us(this);else if(0<P.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Vf(it),it.M=!0,ht(11))}}else Gi(this.i,this.l,P,null),Pf(this,P);ot==4&&qr(this),this.o&&!this.J&&(ot==4?CI(this.j,this):(this.o=!1,lu(this)))}else sN(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),qr(this),Us(this)}}}catch{}finally{}};function XE(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function HR(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Rf:(h=Number(d.substring(h,g)),isNaN(h)?ZE:(g+=1,g+h>d.length?Rf:(d=d.slice(g,g+h),a.C=g+h,d)))}sr.prototype.cancel=function(){this.J=!0,qr(this)};function lu(a){a.S=Date.now()+a.I,eI(a,a.I)}function eI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Vs(m(a.ba,a),d)}function Mf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}sr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(BR(this.i,this.A),this.L!=2&&(Fs(),ht(17)),qr(this),this.s=2,Us(this)):eI(this,this.S-a)};function Us(a){a.j.G==0||a.J||CI(a.j,a)}function qr(a){Mf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,$E(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Pf(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||xf(h.h,a))){if(!a.K&&xf(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)vu(h),mu(h);else break e;Ff(h),ht(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Vs(m(h.Za,h),6e3));if(1>=rI(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Wr(h,11)}else if((a.K||h.g==a)&&vu(h),!J(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let fe=D[d];if(h.T=fe[0],fe=fe[1],h.G==2)if(fe[0]=="c"){h.K=fe[1],h.ia=fe[2];let it=fe[3];it!=null&&(h.la=it,h.j.info("VER="+h.la));let ot=fe[4];ot!=null&&(h.Aa=ot,h.j.info("SVER="+h.Aa));let Qi=fe[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(g=1.5*Qi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Wt=a.g;if(Wt){let Eu=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var C=g.h;C.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(kf(C,C.h),C.h=null))}if(g.D){let jf=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;jf&&(g.ya=jf,De(g.I,g.D,jf))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=a;if(g.qa=RI(g,g.J?g.ia:null,g.W),P.K){iI(g.h,P);var we=P,Ze=g.L;Ze&&(we.I=Ze),we.B&&(Mf(we),lu(we)),g.g=P}else DI(g);0<h.i.length&&yu(h)}else fe[0]!="stop"&&fe[0]!="close"||Wr(h,7);else h.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Wr(h,7):Lf(h):fe[0]!="noop"&&h.l&&h.l.ta(fe),h.v=0)}}Fs(4)}catch{}}var zR=class{constructor(a,d){this.g=a,this.map=d}};function tI(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function rI(a){return a.h?1:a.g?a.g.size:0}function xf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function kf(a,d){a.g?a.g.add(d):a.h=d}function iI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}tI.prototype.cancel=function(){if(this.i=oI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function oI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function qR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function GR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function sI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=GR(a),g=qR(a),D=g.length,C=0;C<D;C++)d.call(void 0,g[C],h&&h[C],a)}var aI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WR(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),D=null;if(0<=g){var C=a[h].substring(0,g);D=a[h].substring(g+1)}else C=a[h];d(C,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Gr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Gr){this.h=a.h,du(this,a.j),this.o=a.o,this.g=a.g,hu(this,a.s),this.l=a.l;var d=a.i,h=new Hs;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),cI(this,h),this.m=a.m}else a&&(d=String(a).match(aI))?(this.h=!1,du(this,d[1]||"",!0),this.o=Bs(d[2]||""),this.g=Bs(d[3]||"",!0),hu(this,d[4]),this.l=Bs(d[5]||"",!0),cI(this,d[6]||"",!0),this.m=Bs(d[7]||"")):(this.h=!1,this.i=new Hs(null,this.h))}Gr.prototype.toString=function(){var a=[],d=this.j;d&&a.push($s(d,uI,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push($s(d,uI,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push($s(h,h.charAt(0)=="/"?YR:QR,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",$s(h,JR)),a.join("")};function Pn(a){return new Gr(a)}function du(a,d,h){a.j=h?Bs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function hu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function cI(a,d,h){d instanceof Hs?(a.i=d,XR(a.i,a.h)):(h||(d=$s(d,ZR)),a.i=new Hs(d,a.h))}function De(a,d,h){a.i.set(d,h)}function fu(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Bs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function $s(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,KR),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function KR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var uI=/[#\/\?@]/g,QR=/[#\?:]/g,YR=/[#\?]/g,ZR=/[#\?@]/g,JR=/#/g;function Hs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ar(a){a.g||(a.g=new Map,a.h=0,a.i&&WR(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Hs.prototype,n.add=function(a,d){ar(this),this.i=null,a=Wi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function lI(a,d){ar(a),d=Wi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function dI(a,d){return ar(a),d=Wi(a,d),a.g.has(d)}n.forEach=function(a,d){ar(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)},n.na=function(){ar(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=a[g];for(let C=0;C<D.length;C++)h.push(d[g])}return h},n.V=function(a){ar(this);let d=[];if(typeof a=="string")dI(this,a)&&(d=d.concat(this.g.get(Wi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return ar(this),this.i=null,a=Wi(this,a),dI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function hI(a,d,h){lI(a,d),0<h.length&&(a.i=null,a.g.set(Wi(a,d),M(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let C=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var D=C;P[g]!==""&&(D+="="+encodeURIComponent(String(P[g]))),a.push(D)}}return this.i=a.join("&")};function Wi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function XR(a,d){d&&!a.j&&(ar(a),a.i=null,a.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(lI(this,g),hI(this,D,h))},a)),a.j=d}function eN(a,d){let h=new js;if(c.Image){let g=new Image;g.onload=v(cr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=v(cr,h,"TestLoadImage: error",!1,d,g),g.onabort=v(cr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(cr,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function tN(a,d){let h=new js,g=new AbortController,D=setTimeout(()=>{g.abort(),cr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(C=>{clearTimeout(D),C.ok?cr(h,"TestPingServer: ok",!0,d):cr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),cr(h,"TestPingServer: error",!1,d)})}function cr(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function nN(){this.g=new VR}function rN(a,d,h){let g=h||"";try{sI(a,function(D,C){let P=D;l(D)&&(P=Df(D)),d.push(g+C+"="+encodeURIComponent(P))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function zs(a){this.l=a.Ub||null,this.j=a.eb||!1}S(zs,bf),zs.prototype.g=function(){return new pu(this.l,this.j)},zs.prototype.i=(function(a){return function(){return a}})({});function pu(a,d){rt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(pu,rt),n=pu.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Gs(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Gs(this)),this.g&&(this.readyState=3,Gs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function fI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?qs(this):Gs(this),this.readyState==3&&fI(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,qs(this))},n.Qa=function(a){this.g&&(this.response=a,qs(this))},n.ga=function(){this.g&&qs(this)};function qs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Gs(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Gs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function pI(a){let d="";return ve(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Of(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=pI(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):De(a,d,h))}function Ae(a){rt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ae,rt);var iN=/^https?$/i,oN=["POST","PUT"];n=Ae.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Af.g(),this.v=this.o?HE(this.o):HE(Af),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(C){gI(this,C);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let C of g.keys())h.set(C,g.get(C));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(C=>C.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(oN,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,P]of h)this.g.setRequestHeader(C,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vI(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){gI(this,C)}};function gI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,mI(a),gu(a)}function mI(a){a.A||(a.A=!0,dt(a,"complete"),dt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,dt(this,"complete"),dt(this,"abort"),gu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gu(this,!0)),Ae.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yI(this):this.bb())},n.bb=function(){yI(this)};function yI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||xn(a)!=4||a.Z()!=2)){if(a.u&&xn(a)==4)jE(a.Ea,0,a);else if(dt(a,"readystatechange"),xn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var D=String(a.D).match(aI)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!iN.test(D?D.toLowerCase():"")}h=g}if(h)dt(a,"complete"),dt(a,"success");else{a.m=6;try{var C=2<xn(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",mI(a)}}finally{gu(a)}}}}function gu(a,d){if(a.g){vI(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||dt(a,"ready");try{h.onreadystatechange=g}catch{}}}function vI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function xn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),FR(d)}};function _I(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function sN(a){let d={};a=(a.g&&2<=xn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(J(a[g]))continue;var h=T(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let C=d[D]||[];d[D]=C,C.push(h)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function EI(a){this.Aa=0,this.i=[],this.j=new js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,a),this.cb=Ws("retryDelaySeedMs",1e4,a),this.Wa=Ws("forwardChannelMaxRetries",2,a),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new tI(a&&a.concurrentRequestLimit),this.Da=new nN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=EI.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){ht(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=RI(this,null,this.W),yu(this)};function Lf(a){if(II(a),a.G==3){var d=a.U++,h=Pn(a.I);if(De(h,"SID",a.K),De(h,"RID",d),De(h,"TYPE","terminate"),Ks(a,h),d=new sr(a,a.j,d),d.L=2,d.v=fu(Pn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=NI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),lu(d)}AI(a)}function mu(a){a.g&&(Vf(a),a.g.cancel(),a.g=null)}function II(a){mu(a),a.u&&(c.clearTimeout(a.u),a.u=null),vu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function yu(a){if(!nI(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ms||xE(),Ps||(Ms(),Ps=!0),gf.add(d,a),a.B=0}}function aN(a,d){return rI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Vs(m(a.Ga,a,d),SI(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new sr(this,this.j,a),C=this.o;if(this.S&&(C?(C=y(C),I(C,this.S)):C=this.S),this.m!==null||this.O||(D.H=C,C=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=TI(this,D,d),h=Pn(this.I),De(h,"RID",a),De(h,"CVER",22),this.D&&De(h,"X-HTTP-Session-Id",this.D),Ks(this,h),C&&(this.O?d="headers="+encodeURIComponent(String(pI(C)))+"&"+d:this.m&&Of(h,this.m,C)),kf(this.h,D),this.Ua&&De(h,"TYPE","init"),this.P?(De(h,"$req",d),De(h,"SID","null"),D.T=!0,Nf(D,h,null)):Nf(D,h,d),this.G=2}}else this.G==3&&(a?wI(this,a):this.i.length==0||nI(this.h)||wI(this))};function wI(a,d){var h;d?h=d.l:h=a.U++;let g=Pn(a.I);De(g,"SID",a.K),De(g,"RID",h),De(g,"AID",a.T),Ks(a,g),a.m&&a.o&&Of(g,a.m,a.o),h=new sr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=TI(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),kf(a.h,h),Nf(h,g,d)}function Ks(a,d){a.H&&ve(a.H,function(h,g){De(d,g,h)}),a.l&&sI({},function(h,g){De(d,g,h)})}function TI(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let C=-1;for(;;){let P=["count="+h];C==-1?0<h?(C=D[0].g,P.push("ofs="+C)):C=0:P.push("ofs="+C);let we=!0;for(let Ze=0;Ze<h;Ze++){let fe=D[Ze].g,it=D[Ze].map;if(fe-=C,0>fe)C=Math.max(0,D[Ze].g-100),we=!1;else try{rN(it,P,"req"+fe+"_")}catch{g&&g(it)}}if(we){g=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function DI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ms||xE(),Ps||(Ms(),Ps=!0),gf.add(d,a),a.v=0}}function Ff(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Vs(m(a.Fa,a),SI(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,bI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Vs(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),mu(this),bI(this))};function Vf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function bI(a){a.g=new sr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Pn(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),Ks(a,d),a.m&&a.o&&Of(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=fu(Pn(d)),h.m=null,h.P=!0,JE(h,a)}n.Za=function(){this.C!=null&&(this.C=null,mu(this),Ff(this),ht(19))};function vu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function CI(a,d){var h=null;if(a.g==d){vu(a),Vf(a),a.g=null;var g=2}else if(xf(a.h,d))h=d.D,iI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=au(),dt(g,new KE(g,h)),yu(a)}else DI(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&aN(a,d)||g==2&&Ff(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:Wr(a,5);break;case 4:Wr(a,10);break;case 3:Wr(a,6);break;default:Wr(a,2)}}}function SI(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Wr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let D=!g;g=new Gr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||du(g,"https"),fu(g),D?eN(g.toString(),h):tN(g.toString(),h)}else ht(2);a.G=0,a.l&&a.l.sa(d),AI(a),II(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function AI(a){if(a.G=0,a.ka=[],a.l){let d=oI(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ka,d),A(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function RI(a,d,h){var g=h instanceof Gr?Pn(h):new Gr(h);if(g.g!="")d&&(g.g=d+"."+g.g),hu(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var C=new Gr(null);g&&du(C,g),d&&(C.g=d),D&&hu(C,D),h&&(C.l=h),g=C}return h=a.D,d=a.ya,h&&d&&De(g,h,d),De(g,"VER",a.la),Ks(a,g),g}function NI(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ae(new zs({eb:h})):new Ae(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function MI(){}n=MI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _u(){}_u.prototype.g=function(a,d){return new Mt(a,d)};function Mt(a,d){rt.call(this),this.g=new EI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!J(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ki(this)}S(Mt,rt),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Lf(this.g)},Mt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Df(a),a=h);d.i.push(new zR(d.Ya++,a)),d.G==3&&yu(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Lf(this.g),delete this.g,Mt.aa.N.call(this)};function PI(a){Cf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(PI,Cf);function xI(){Sf.call(this),this.status=1}S(xI,Sf);function Ki(a){this.g=a}S(Ki,MI),Ki.prototype.ua=function(){dt(this.g,"a")},Ki.prototype.ta=function(a){dt(this.g,new PI(a))},Ki.prototype.sa=function(a){dt(this.g,new xI)},Ki.prototype.ra=function(){dt(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Ov=Xn.createWebChannelTransport=function(){return new _u},kv=Xn.getStatEventTarget=function(){return au()},xv=Xn.Event=zr,Eh=Xn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cu.NO_ERROR=0,cu.TIMEOUT=8,cu.HTTP_ERROR=6,xc=Xn.ErrorCode=cu,QE.COMPLETE="complete",Pv=Xn.EventType=QE,zE.EventType=Ls,Ls.OPEN="a",Ls.CLOSE="b",Ls.ERROR="c",Ls.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Xo=Xn.WebChannel=zE,Yj=Xn.FetchXmlHttpFactory=zs,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,Mv=Xn.XhrIo=Ae}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});var dA="@firebase/firestore",hA="4.8.0";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var bs="11.10.0";var Hi=new Tn("@firebase/firestore");function es(){return Hi.logLevel}function k(n,...e){if(Hi.logLevel<=ie.DEBUG){let t=e.map(gE);Hi.debug(`Firestore (${bs}): ${n}`,...t)}}function tr(n,...e){if(Hi.logLevel<=ie.ERROR){let t=e.map(gE);Hi.error(`Firestore (${bs}): ${n}`,...t)}}function Ur(n,...e){if(Hi.logLevel<=ie.WARN){let t=e.map(gE);Hi.warn(`Firestore (${bs}): ${n}`,...t)}}function gE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,r0(n,r,t)}function r0(n,e,t){let r=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw tr(r),new Error(r)}function Se(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||r0(e,i,r)}function le(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var jr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Sh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Bv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qe.UNAUTHENTICATED))}shutdown(){}},$v=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Hv=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Se(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new Sh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}},zv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},qv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new zv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ah=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Gv=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,k("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ah(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Se(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ah(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Zj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function i0(){return new TextEncoder}var Rh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Zj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function re(n,e){return n<e?-1:n>e?1:0}function Wv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=i0(),s=Jj(o.encode(fA(n,t)),o.encode(fA(e,t)));return s!==0?s:re(r,i)}}t+=r>65535?2:1}return re(n.length,e.length)}function fA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Jj(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return re(n[t],e[t]);return re(n.length,e.length)}function fs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var pA="__name__",Nh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return re(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Wv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jn.fromString(e.substring(4,e.length-2))}},ke=class n extends Nh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Xj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cn=class n extends Nh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Xj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pA}static keyField(){return new n([pA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var B=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};function eU(n,e,t){if(!t)throw new V(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tU(n,e,t,r){if(e===!0&&r===!0)throw new V(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gA(n){if(B.isDocumentKey(n))throw new V(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nU(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rU(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":q(12329,{type:typeof n})}function Dh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=rU(n);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ve(n,e){let t={typeString:n};return e&&(t.value=e),t}function eu(n,e){if(!nU(n))throw new V(x.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new V(x.INVALID_ARGUMENT,t);return!0}var mA=-62135596800,yA=1e6,It=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*yA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mA)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yA}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-mA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Ve("string",It._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};var Y=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new It(0,0))}static max(){return new n(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Uc=-1,Kv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Kv.UNKNOWN_ID=-1;function iU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new zi(i,B.empty(),e)}function oU(n){return new zi(n.readTime,n.key,Uc)}var zi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Y.min(),B.empty(),Uc)}static max(){return new n(Y.max(),B.empty(),Uc)}};function sU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=B.comparator(n.documentKey,e.documentKey),t!==0?t:re(n.largestBatchId,e.largestBatchId))}var aU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function rf(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==aU)throw n;k("LocalStore","Unexpectedly lost primary lease")}var N=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function cU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Cs(n){return n.name==="IndexedDbTransactionError"}var mE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),uU=-1;function of(n){return n==null}function Mh(n){return n===0&&1/n==-1/0}var o0="";function lU(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vA(e)),e=dU(n.get(t),e);return vA(e)}function dU(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case o0:t+="";break;default:t+=o}}return t}function vA(n){return n+o0+""}var hU="remoteDocuments",s0="owner";var a0="mutationQueues";var c0="mutations";var u0="documentMutations",fU="remoteDocumentsV14";var l0="remoteDocumentGlobal";var d0="targets";var h0="targetDocuments";var f0="targetGlobal",p0="collectionParents";var g0="clientMetadata";var m0="bundles";var y0="namedQueries";var pU="indexConfiguration";var gU="indexState";var mU="indexEntries";var v0="documentOverlays";var yU="globals";var vU=[a0,c0,u0,hU,d0,s0,f0,h0,g0,l0,p0,m0,y0],wte=[...vU,v0],_U=[a0,c0,u0,fU,d0,s0,f0,h0,g0,l0,p0,m0,y0,v0],EU=_U,IU=[...EU,pU,gU,mU];var Tte=[...IU,yU];function _A(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function tu(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wU(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Oe=class n{constructor(e,t){this.comparator=e,this.root=t||Cn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new is(this.root,e,this.comparator,!1)}getReverseIterator(){return new is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new is(this.root,e,this.comparator,!0)}},is=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class n{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ph(this.data.getIterator())}getIteratorFrom(e){return new Ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ph=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Vi=class n{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ye(cn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var xh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ut=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ut.EMPTY_BYTE_STRING=new ut("");var TU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(n){if(Se(!!n,39018),typeof n=="string"){let e=0,t=TU.exec(n);if(Se(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rr(n){return typeof n=="string"?ut.fromBase64String(n):ut.fromUint8Array(n)}var _0="server_timestamp",E0="__type__",I0="__previous_value__",w0="__local_write_time__";function yE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[E0])===null||t===void 0?void 0:t.stringValue)===_0}function sf(n){let e=n.mapValue.fields[I0];return yE(e)?sf(e):e}function Bc(n){let e=nr(n.mapValue.fields[w0].timestampValue);return new It(e.seconds,e.nanos)}var Yv=class{constructor(e,t,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},kh="(default)",Oh=class n{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var T0="__type__",D0="__max__",Ih={mapValue:{fields:{__type__:{stringValue:D0}}}},b0="__vector__",$c="value";function Br(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yE(n)?4:S0(n)?9007199254740991:C0(n)?10:11:q(28295,{value:n})}function Rn(n,e){if(n===e)return!0;let t=Br(n);if(t!==Br(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bc(n).isEqual(Bc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=nr(i.timestampValue),c=nr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return rr(i.bytesValue).isEqual(rr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),c=Ce(o.doubleValue);return s===c?Mh(s)===Mh(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return fs(n.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(_A(s)!==_A(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Rn(s[u],c[u])))return!1;return!0})(n,e);default:return q(52216,{left:n})}}function Hc(n,e){return(n.values||[]).find(t=>Rn(t,e))!==void 0}function ps(n,e){if(n===e)return 0;let t=Br(n),r=Br(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return EA(n.timestampValue,e.timestampValue);case 4:return EA(Bc(n),Bc(e));case 5:return Wv(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=rr(o),u=rr(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=re(c[l],u[l]);if(f!==0)return f}return re(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=re(Ce(o.latitude),Ce(s.latitude));return c!==0?c:re(Ce(o.longitude),Ce(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return IA(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},v=(c=p[$c])===null||c===void 0?void 0:c.arrayValue,S=(u=m[$c])===null||u===void 0?void 0:u.arrayValue,M=re(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:IA(v,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Ih.mapValue&&s===Ih.mapValue)return 0;if(o===Ih.mapValue)return 1;if(s===Ih.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=Wv(u[p],f[p]);if(m!==0)return m;let v=ps(c[u[p]],l[f[p]]);if(v!==0)return v}return re(u.length,f.length)})(n.mapValue,e.mapValue);default:throw q(23264,{le:t})}}function EA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return re(n,e);let t=nr(n),r=nr(e),i=re(t.seconds,r.seconds);return i!==0?i:re(t.nanos,r.nanos)}function IA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ps(t[i],r[i]);if(o)return o}return re(t.length,r.length)}function gs(n){return Zv(n)}function Zv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=nr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return rr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return B.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Zv(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Zv(t.fields[s])}`;return i+"}"})(n.mapValue):q(61005,{value:n})}function bh(n){switch(Br(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=sf(n);return e?16+bh(e):16;case 5:return 2*n.stringValue.length;case 6:return rr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+bh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return tu(r.fields,(o,s)=>{i+=o.length+bh(s)}),i})(n.mapValue);default:throw q(13486,{value:n})}}function Jv(n){return!!n&&"integerValue"in n}function vE(n){return!!n&&"arrayValue"in n}function wA(n){return!!n&&"nullValue"in n}function TA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lv(n){return!!n&&"mapValue"in n}function C0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[T0])===null||t===void 0?void 0:t.stringValue)===b0}function Oc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return tu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Oc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function S0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===D0}var bte={mapValue:{fields:{[T0]:{stringValue:b0},[$c]:{arrayValue:{}}}}};var er=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Lv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(t)}setAll(e){let t=cn.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=Oc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Lv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Lv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){tu(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Oc(this.value))}};var un=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,Y.min(),Y.min(),Y.min(),er.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Y.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Y.min(),Y.min(),er.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Y.min(),Y.min(),er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ms=class{constructor(e,t){this.position=e,this.inclusive=t}};function DA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),t.key):r=ps(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rn(n.position[t],e.position[t]))return!1;return!0}var ys=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function DU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Lh=class{},$e=class n extends Lh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new e_(e,t,r):t==="array-contains"?new r_(e,r):t==="in"?new i_(e,r):t==="not-in"?new o_(e,r):t==="array-contains-any"?new s_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new t_(e,r):new n_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ps(t,this.value)):t!==null&&Br(this.value)===Br(t)&&this.matchesComparison(ps(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Nn=class n extends Lh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return A0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function A0(n){return n.op==="and"}function R0(n){return bU(n)&&A0(n)}function bU(n){for(let e of n.filters)if(e instanceof Nn)return!1;return!0}function Xv(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+gs(n.value);if(R0(n))return n.filters.map(e=>Xv(e)).join(",");{let e=n.filters.map(t=>Xv(t)).join(",");return`${n.op}(${e})`}}function N0(n,e){return n instanceof $e?(function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Rn(r.value,i.value)})(n,e):n instanceof Nn?(function(r,i){return i instanceof Nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&N0(s,i.filters[c]),!0):!1})(n,e):void q(19439)}function M0(n){return n instanceof $e?(function(t){return`${t.field.canonicalString()} ${t.op} ${gs(t.value)}`})(n):n instanceof Nn?(function(t){return t.op.toString()+" {"+t.getFilters().map(M0).join(" ,")+"}"})(n):"Filter"}var e_=class extends $e{constructor(e,t,r){super(e,t,r),this.key=B.fromName(r.referenceValue)}matches(e){let t=B.comparator(e.key,this.key);return this.matchesComparison(t)}},t_=class extends $e{constructor(e,t){super(e,"in",t),this.keys=P0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},n_=class extends $e{constructor(e,t){super(e,"not-in",t),this.keys=P0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function P0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>B.fromName(r.referenceValue))}var r_=class extends $e{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return vE(t)&&Hc(t.arrayValue,this.value)}},i_=class extends $e{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Hc(this.value.arrayValue,t)}},o_=class extends $e{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hc(this.value.arrayValue,t)}},s_=class extends $e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!vE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}};var a_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function CA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new a_(n,e,t,r,i,o,s)}function _E(n){let e=le(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Xv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gs(r)).join(",")),e.Pe=t}return e.Pe}function EE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!N0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bA(n.startAt,e.startAt)&&bA(n.endAt,e.endAt)}function c_(n){return B.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var vs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function CU(n,e,t,r,i,o,s,c){return new vs(n,e,t,r,i,o,s,c)}function IE(n){return new vs(n)}function SA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SU(n){return n.collectionGroup!==null}function Lc(n){let e=le(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ye(cn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ys(o,r))}),t.has(cn.keyField().canonicalString())||e.Te.push(new ys(cn.keyField(),r))}return e.Te}function Sn(n){let e=le(n);return e.Ie||(e.Ie=AU(e,Lc(n))),e.Ie}function AU(n,e){if(n.limitType==="F")return CA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ys(i.field,o)});let t=n.endAt?new ms(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ms(n.startAt.position,n.startAt.inclusive):null;return CA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function u_(n,e,t){return new vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function af(n,e){return EE(Sn(n),Sn(e))&&n.limitType===e.limitType}function x0(n){return`${_E(Sn(n))}|lt:${n.limitType}`}function ts(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>M0(i)).join(", ")}]`),of(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>gs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>gs(i)).join(",")),`Target(${r})`})(Sn(n))}; limitType=${n.limitType})`}function cf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=DA(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,Lc(r),i)||r.endAt&&!(function(s,c,u){let l=DA(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,Lc(r),i))})(n,e)}function RU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k0(n){return(e,t)=>{let r=!1;for(let i of Lc(n)){let o=NU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function NU(n,e,t){let r=n.field.isKeyField()?B.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?ps(u,l):q(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:n.dir})}}var ir=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tu(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return wU(this.inner)}size(){return this.innerSize}};var MU=new Oe(B.comparator);function $r(){return MU}var O0=new Oe(B.comparator);function kc(...n){let e=O0;for(let t of n)e=e.insert(t.key,t);return e}function PU(n){let e=O0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ji(){return Fc()}function L0(){return Fc()}function Fc(){return new ir(n=>n.toString(),(n,e)=>n.isEqual(e))}var Cte=new Oe(B.comparator),xU=new Ye(B.comparator);function he(...n){let e=xU;for(let t of n)e=e.add(t);return e}var kU=new Ye(re);function OU(){return kU}function LU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function FU(n){return{integerValue:""+n}}var _s=class{constructor(){this._=void 0}};function VU(n,e,t){return n instanceof zc?(function(i,o){let s={fields:{[E0]:{stringValue:_0},[w0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yE(o)&&(o=sf(o)),o&&(s.fields[I0]=o),{mapValue:s}})(t,e):n instanceof Es?F0(n,e):n instanceof Is?V0(n,e):(function(i,o){let s=UU(i,o),c=AA(s)+AA(i.Ee);return Jv(s)&&Jv(i.Ee)?FU(c):LU(i.serializer,c)})(n,e)}function jU(n,e,t){return n instanceof Es?F0(n,e):n instanceof Is?V0(n,e):t}function UU(n,e){return n instanceof qc?(function(r){return Jv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var zc=class extends _s{},Es=class extends _s{constructor(e){super(),this.elements=e}};function F0(n,e){let t=j0(e);for(let r of n.elements)t.some(i=>Rn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Is=class extends _s{constructor(e){super(),this.elements=e}};function V0(n,e){let t=j0(e);for(let r of n.elements)t=t.filter(i=>!Rn(i,r));return{arrayValue:{values:t}}}var qc=class extends _s{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function AA(n){return Ce(n.integerValue||n.doubleValue)}function j0(n){return vE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function BU(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Es&&i instanceof Es||r instanceof Is&&i instanceof Is?fs(r.elements,i.elements,Rn):r instanceof qc&&i instanceof qc?Rn(r.Ee,i.Ee):r instanceof zc&&i instanceof zc})(n.transform,e.transform)}var Vc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ch(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Gc=class{};function U0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new l_(n.key,Vc.none()):new Wc(n.key,n.data,Vc.none());{let t=n.data,r=er.empty(),i=new Ye(cn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ws(n.key,r,new Vi(i.toArray()),Vc.none())}}function $U(n,e,t){n instanceof Wc?(function(i,o,s){let c=i.value.clone(),u=NA(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof ws?(function(i,o,s){if(!Ch(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=NA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(B0(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function jc(n,e,t,r){return n instanceof Wc?(function(o,s,c,u){if(!Ch(o.precondition,s))return c;let l=o.value.clone(),f=MA(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof ws?(function(o,s,c,u){if(!Ch(o.precondition,s))return c;let l=MA(o.fieldTransforms,u,s),f=s.data;return f.setAll(B0(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return Ch(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function RA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fs(r,i,(o,s)=>BU(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Wc=class extends Gc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ws=class extends Gc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function B0(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function NA(n,e,t){let r=new Map;Se(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,jU(s,c,t[i]))}return r}function MA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,VU(o,s,e))}return r}var l_=class extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var d_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&$U(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=jc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=jc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=L0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=U0(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(t,r)=>RA(t,r))&&fs(this.baseMutations,e.baseMutations,(t,r)=>RA(t,r))}};var h_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var f_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Le,ue;function $0(n){if(n===void 0)return tr("GRPC error has no .code"),x.UNKNOWN;switch(n){case Le.OK:return x.OK;case Le.CANCELLED:return x.CANCELLED;case Le.UNKNOWN:return x.UNKNOWN;case Le.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Le.INTERNAL:return x.INTERNAL;case Le.UNAVAILABLE:return x.UNAVAILABLE;case Le.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Le.NOT_FOUND:return x.NOT_FOUND;case Le.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Le.ABORTED:return x.ABORTED;case Le.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Le.DATA_LOSS:return x.DATA_LOSS;default:return q(39323,{code:n})}}(ue=Le||(Le={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var PA=null;var HU=new Jn([4294967295,4294967295],0);function xA(n){let e=i0().encode(n),t=new Nv;return t.update(e),new Uint8Array(t.digest())}function kA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jn([t,r],0),new Jn([i,o],0)]}var p_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ui(`Invalid padding: ${t}`);if(r<0)throw new Ui(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ui(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ui(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Jn.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Jn.fromNumber(r)));return i.compare(HU)===1&&(i=new Jn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=xA(e),[r,i]=kA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=xA(e),[r,i]=kA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ui=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Fh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Y.min(),i,new Oe(re),$r(),he())}},Kc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,he(),he(),he())}};var os=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Vh=class{constructor(e,t){this.targetId=e,this.De=t}},jh=class{constructor(e,t,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Uh=class{constructor(){this.ve=0,this.Ce=OA(),this.Fe=ut.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=he(),t=he(),r=he();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new Kc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=OA()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},g_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=$r(),this.je=wh(),this.Je=wh(),this.He=new Oe(re)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(c_(o))if(r===0){let s=new B(o.path);this.Xe(t,s,un.newNoDocument(s,Y.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}PA?.ct((function(f,p,m,v,S){var M,A,L,J,Z,Ie;let lt={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ve=p.unchangedNames;return ve&&(lt.bloomFilter={applied:S===0,hashCount:(M=ve?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(J=(L=(A=ve?.bits)===null||A===void 0?void 0:A.bitmap)===null||L===void 0?void 0:L.length)!==null&&J!==void 0?J:0,padding:(Ie=(Z=ve?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&Ie!==void 0?Ie:0,mightContain:w=>{var y;return(y=v?.mightContain(w))!==null&&y!==void 0&&y}}),lt})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=rr(r).toUint8Array()}catch(u){if(u instanceof xh)return Ur("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new p_(s,i,o)}catch(u){return Ur(u instanceof Ui?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&c_(c.target)){let u=new B(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,un.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=he();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Fh(e,t,this.He,this.ze,r);return this.ze=$r(),this.je=wh(),this.Je=wh(),this.He=new Oe(re),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Uh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ye(re),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ye(re),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||k("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Uh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function wh(){return new Oe(B.comparator)}function OA(){return new Oe(B.comparator)}var zU={asc:"ASCENDING",desc:"DESCENDING"},qU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GU={and:"AND",or:"OR"},m_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function y_(n,e){return n.useProto3Json||of(e)?e:{value:e}}function WU(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ss(n){return Se(!!n,49232),Y.fromTimestamp((function(t){let r=nr(t);return new It(r.seconds,r.nanos)})(n))}function QU(n,e){return v_(n,e).canonicalString()}function v_(n,e){let t=(function(i){return new ke(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function H0(n){let e=ke.fromString(n);return Se(K0(e),10190,{key:e.toString()}),e}function Fv(n,e){let t=H0(e);if(t.get(1)!==n.databaseId.projectId)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new B(q0(t))}function z0(n,e){return QU(n.databaseId,e)}function YU(n){let e=H0(n);return e.length===4?ke.emptyPath():q0(e)}function LA(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function q0(n){return Se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ZU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Se(f===void 0||typeof f=="string",58123),ut.fromBase64String(f||"")):(Se(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ut.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let f=l.code===void 0?x.UNKNOWN:$0(l.code);return new V(f,l.message||"")})(s);t=new jh(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Fv(n,r.document.name),o=ss(r.document.updateTime),s=r.document.createTime?ss(r.document.createTime):Y.min(),c=new er({mapValue:{fields:r.document.fields}}),u=un.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new os(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Fv(n,r.document),o=r.readTime?ss(r.readTime):Y.min(),s=un.newNoDocument(i,o),c=r.removedTargetIds||[];t=new os([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Fv(n,r.document),o=r.removedTargetIds||[];t=new os([],o,i,null)}else{if(!("filter"in e))return q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new f_(i,o),c=r.targetId;t=new Vh(c,s)}}return t}function JU(n,e){return{documents:[z0(n,e.path)]}}function XU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=z0(n,i);let o=(function(l){if(l.length!==0)return W0(Nn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:ns(m.field),direction:nB(m.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=y_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function eB(n){let e=YU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Se(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let m=G0(p);return m instanceof Nn&&R0(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new ys(rs(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,of(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,v=p.values||[];return new ms(v,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,v=p.values||[];return new ms(v,m)})(t.endAt)),CU(e,i,s,o,c,"F",u,l)}function tB(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function G0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=rs(t.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=rs(t.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=rs(t.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=rs(t.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $e.create(rs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Nn.create(t.compositeFilter.filters.map(r=>G0(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(t.compositeFilter.op))})(n):q(30097,{filter:n})}function nB(n){return zU[n]}function rB(n){return qU[n]}function iB(n){return GU[n]}function ns(n){return{fieldPath:n.canonicalString()}}function rs(n){return cn.fromServerFormat(n.fieldPath)}function W0(n){return n instanceof $e?(function(t){if(t.op==="=="){if(TA(t.value))return{unaryFilter:{field:ns(t.field),op:"IS_NAN"}};if(wA(t.value))return{unaryFilter:{field:ns(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(TA(t.value))return{unaryFilter:{field:ns(t.field),op:"IS_NOT_NAN"}};if(wA(t.value))return{unaryFilter:{field:ns(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(t.field),op:rB(t.op),value:t.value}}})(n):n instanceof Nn?(function(t){let r=t.getFilters().map(i=>W0(i));return r.length===1?r[0]:{compositeFilter:{op:iB(t.op),filters:r}}})(n):q(54877,{filter:n})}function K0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Qc=class n{constructor(e,t,r,i,o=Y.min(),s=Y.min(),c=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var __=class{constructor(e){this.gt=e}};function oB(n){let e=eB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?u_(e,e.limit,"L"):e}var Bh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Mh(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=nr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(rr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?S0(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):C0(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):q(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=$c,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ce(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),B.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Bh.Ut=new Bh;var E_=class{constructor(){this.Dn=new I_}addToCollectionParentIndex(e,t){return this.Dn.add(t),N.resolve()}getCollectionParents(e,t){return N.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return N.resolve()}deleteFieldIndex(e,t){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,t){return N.resolve()}getDocumentsMatchingTarget(e,t){return N.resolve(null)}getIndexType(e,t){return N.resolve(0)}getFieldIndexes(e,t){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,t){return N.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,t){return N.resolve(zi.min())}updateCollectionGroup(e,t,r){return N.resolve()}updateIndexEntries(e,t){return N.resolve()}},I_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ye(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(ke.comparator)).toArray()}};var Ste=new Uint8Array(0);var FA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040,Gt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(Q0,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);var Yc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var VA="LruGarbageCollector",sB=1048576;function jA([n,e],[t,r]){let i=re(n,t);return i===0?re(e,r):i}var w_=class{constructor(e){this.Tr=e,this.buffer=new Ye(jA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();jA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},T_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){k(VA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Cs(t)?k(VA,"Ignoring IndexedDB error during garbage collection: ",t):await rf(t)}await this.Rr(3e5)})}},D_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return N.resolve(mE.ue);let r=new w_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(k("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(FA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),es()<=ie.DEBUG&&k("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function aB(n,e){return new D_(n,e)}var b_=class{constructor(){this.changes=new ir(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?N.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var C_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var S_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&jc(r.mutation,i,Vi.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){let i=ji();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=kc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ji();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=$r(),s=Fc(),c=(function(){return Fc()})();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ws)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),jc(f.mutation,l,f.mutation.getFieldMask(),It.now())):s.set(l.key,Vi.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new C_(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Fc(),i=new Oe((s,c)=>s-c),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||Vi.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||he()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=L0();f.forEach(m=>{if(!o.has(m)){let v=U0(t.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):N.resolve(ji()),c=Uc,u=o;return s.next(l=>N.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(f=>({batchId:c,changes:PU(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next(r=>{let i=kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=kc();return this.indexManager.getCollectionParents(e,o).next(c=>N.forEach(c,u=>{let l=(function(p,m){return new vs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,un.newInvalidDocument(f)))});let c=kc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&jc(f.mutation,l,Vi.empty(),It.now()),cf(t,l)&&(c=c.insert(u,l))}),c})}};var A_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return N.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:ss(i.createTime)}})(t)),N.resolve()}getNamedQuery(e,t){return N.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:oB(i.bundledQuery),readTime:ss(i.readTime)}})(t)),N.resolve()}};var R_=class{constructor(){this.overlays=new Oe(B.comparator),this.kr=new Map}getOverlay(e,t){return N.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ji();return N.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),N.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),N.resolve()}getOverlaysForCollection(e,t,r){let i=ji(),o=t.length+1,s=new B(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Oe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=ji(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=ji(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return N.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new h_(t,r));let o=this.kr.get(t);o===void 0&&(o=he(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var N_=class{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,N.resolve()}};var Zc=class{constructor(){this.qr=new Ye(Fe.Qr),this.$r=new Ye(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Fe(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Fe(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new B(new ke([])),r=new Fe(t,e),i=new Fe(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new B(new ke([])),r=new Fe(t,e),i=new Fe(t,e+1),o=he();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Fe(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return B.comparator(e.key,t.key)||re(e.Hr,t.Hr)}static Ur(e,t){return re(e.Hr,t.Hr)||B.comparator(e.key,t.key)}};var M_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ye(Fe.Qr)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new d_(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Fe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,t){return N.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?uU:this.er-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Fe(t,0),i=new Fe(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ye(re);return t.forEach(i=>{let o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),N.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Fe(new B(o),0),c=new Ye(re);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),N.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Se(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return N.forEach(t.mutations,i=>{let o=new Fe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Fe(t,0),i=this.Yr.firstAfterOrEqual(r);return N.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var P_=class{constructor(e){this.ni=e,this.docs=(function(){return new Oe(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return N.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=$r();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=$r(),s=t.path,c=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||sU(oU(f),r)<=0||(i.has(f.key)||cf(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,t,r,i){q(9500)}ri(e,t){return N.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new x_(this)}getSize(e){return N.resolve(this.size)}},x_=class extends b_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),N.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var k_=class{constructor(e){this.persistence=e,this.ii=new ir(t=>_E(t),EE),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.si=0,this.oi=new Zc,this.targetCount=0,this._i=Yc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),N.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Yc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,N.resolve()}updateTargetData(e,t){return this.hr(t),N.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return N.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),N.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),N.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return N.resolve(r)}containsKey(e,t){return N.resolve(this.oi.containsKey(t))}};var $h=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new mE(0),this.ci=!1,this.ci=!0,this.li=new N_,this.referenceDelegate=e(this),this.hi=new k_(this),this.indexManager=new E_,this.remoteDocumentCache=(function(i){return new P_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new __(t),this.Ti=new A_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new R_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new M_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){k("MemoryPersistence","Starting transaction:",e);let i=new O_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return N.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},O_=class extends Qv{constructor(e){super(),this.currentSequenceNumber=e}},L_=class n{constructor(e){this.persistence=e,this.Ai=new Zc,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw q(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),N.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),N.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.mi,r=>{let i=B.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Y.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return N.or([()=>N.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Hh=class n{constructor(e,t){this.persistence=e,this.gi=new ir(r=>lU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=aB(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return N.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return N.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?N.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,Y.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),N.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),N.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),N.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),N.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bh(e.data.value)),t}Sr(e,t,r){return N.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return N.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var F_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=he(),i=he();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var V_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var j_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return UC()?8:cU(Ke())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new V_;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(es()<=ie.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",ts(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),N.resolve()):(es()<=ie.DEBUG&&k("QueryEngine","Query:",ts(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(es()<=ie.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",ts(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(t))):N.resolve())}ps(e,t){if(SA(t))return N.resolve(null);let r=Sn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=u_(t,null,"F"),r=Sn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,s,u.readTime)?this.ps(e,u_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return SA(t)||i.isEqual(Y.min())?N.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?N.resolve(null):(es()<=ie.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ts(t)),this.vs(e,s,t,iU(i,Uc)).next(c=>c))})}bs(e,t){let r=new Ye(k0(e));return t.forEach((i,o)=>{cf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return es()<=ie.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",ts(t)),this.gs.getDocumentsMatchingQuery(e,t,zi.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wE="LocalStore",cB=3e8,U_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Oe(re),this.Ms=new ir(o=>_E(o),EE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function uB(n,e,t,r){return new U_(n,e,t,r)}async function Y0(n,e){let t=le(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=he();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})}function Z0(n){let e=le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function lB(n,e){let t=le(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,f.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ut.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),(function(M,A,L){return M.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=cB?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,v,f)&&c.push(t.hi.updateTargetData(o,v))});let u=$r(),l=he();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(dB(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(Y.min())){let f=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return N.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function dB(n,e,t){let r=he(),i=he();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=$r();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):k(wE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function hB(n,e){let t=le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Qc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function B_(n,e,t){let r=le(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Cs(s))throw s;k(wE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function UA(n,e,t){let r=le(n),i=Y.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=le(u),m=p.Ms.get(f);return m!==void 0?N.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)})(r,s,Sn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:Y.min(),t?o:he())).next(c=>(fB(r,RU(e),c),{documents:c,qs:o})))}function fB(n,e,t){let r=n.xs.get(e)||Y.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var zh=class{constructor(){this.activeTargetIds=OU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var $_=class{constructor(){this.Fo=new zh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new zh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var H_=class{xo(e){}shutdown(){}};var BA="ConnectivityMonitor",qh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){k(BA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){k(BA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Th=null;function z_(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}var Vv="RestConnection",pB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},q_=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=z_(),c=this.Go(e,t.toUriEncodedString());k(Vv,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=Rr(l);return this.jo(e,c,u,r,f).then(p=>(k(Vv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ur(Vv,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=pB[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var G_=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ct="WebChannelConnection",W_=class extends q_{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=z_();return new Promise((c,u)=>{let l=new Mv;l.setWithCredentials(!0),l.listenOnce(Pv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xc.NO_ERROR:let p=l.getResponseJson();k(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case xc.TIMEOUT:k(ct,`RPC '${e}' ${s} timed out`),u(new V(x.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:let m=l.getStatus();if(k(ct,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let S=v?.error;if(S&&S.status&&S.message){let M=(function(L){let J=L.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(J)>=0?J:x.UNKNOWN})(S.status);u(new V(M,S.message))}else u(new V(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(x.UNAVAILABLE,"Connection failed."));break;default:q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{k(ct,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);k(ct,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}P_(e,t,r){let i=z_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ov(),c=kv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");k(ct,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,v=!1,S=new G_({Ho:A=>{v?k(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(k(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),k(ct,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),M=(A,L,J)=>{A.listen(L,Z=>{try{J(Z)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return M(p,Xo.EventType.OPEN,()=>{v||(k(ct,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),M(p,Xo.EventType.CLOSE,()=>{v||(v=!0,k(ct,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),M(p,Xo.EventType.ERROR,A=>{v||(v=!0,Ur(ct,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.__(new V(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,Xo.EventType.MESSAGE,A=>{var L;if(!v){let J=A.data[0];Se(!!J,16349);let Z=J,Ie=Z?.error||((L=Z[0])===null||L===void 0?void 0:L.error);if(Ie){k(ct,`RPC '${e}' stream ${i} received error:`,Ie);let lt=Ie.status,ve=(function(E){let I=Le[E];if(I!==void 0)return $0(I)})(lt),w=Ie.message;ve===void 0&&(ve=x.INTERNAL,w="Unknown error status: "+lt+" with message "+Ie.message),v=!0,S.__(new V(ve,w)),p.close()}else k(ct,`RPC '${e}' stream ${i} received:`,J),S.a_(J)}}),M(c,xv.STAT_EVENT,A=>{A.stat===Eh.PROXY?k(ct,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Eh.NOPROXY&&k(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function jv(){return typeof document<"u"?document:null}function J0(n){return new m_(n,!0)}var Gh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var $A="PersistentStream",K_=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Gh(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new V(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return k($A,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(k($A,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Q_=class extends K_{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=ZU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Y.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?ss(s.readTime):Y.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=LA(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=c_(u)?{documents:JU(o,u)}:{query:XU(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=KU(o,s.resumeToken);let l=y_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(Y.min())>0){c.readTime=WU(o,s.snapshotVersion.toTimestamp());let l=y_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=tB(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=LA(this.serializer),t.removeTarget=e,this.k_(t)}};var Y_=class{},Z_=class extends Y_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,v_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(x.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,v_(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(x.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},J_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(tr(t),this._a=!1):k("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ts="RemoteStore",X_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{ru(this)&&(k(Ts,"Restarting streams for network reachability change."),await(async function(u){let l=le(u);l.Ia.add(4),await nu(l),l.Aa.set("Unknown"),l.Ia.delete(4),await uf(l)})(this))})}),this.Aa=new J_(r,i)}};async function uf(n){if(ru(n))for(let e of n.da)await e(!0)}async function nu(n){for(let e of n.da)await e(!1)}function X0(n,e){let t=le(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),CE(t)?bE(t):Ss(t).x_()&&DE(t,e))}function TE(n,e){let t=le(n),r=Ss(t);t.Ta.delete(e),r.x_()&&eR(t,e),t.Ta.size===0&&(r.x_()?r.B_():ru(t)&&t.Aa.set("Unknown"))}function DE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ss(n).H_(e)}function eR(n,e){n.Ra.$e(e),Ss(n).Y_(e)}function bE(n){n.Ra=new g_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ss(n).start(),n.Aa.aa()}function CE(n){return ru(n)&&!Ss(n).M_()&&n.Ta.size>0}function ru(n){return le(n).Ia.size===0}function tR(n){n.Ra=void 0}async function gB(n){n.Aa.set("Online")}async function mB(n){n.Ta.forEach((e,t)=>{DE(n,e)})}async function yB(n,e){tR(n),CE(n)?(n.Aa.la(e),bE(n)):n.Aa.set("Unknown")}async function vB(n,e,t){if(n.Aa.set("Online"),e instanceof jh&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})(n,e)}catch(r){k(Ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await HA(n,r)}else if(e instanceof os?n.Ra.Ye(e):e instanceof Vh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Y.min()))try{let r=await Z0(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(ut.EMPTY_BYTE_STRING,f.snapshotVersion)),eR(o,u);let p=new Qc(f.target,u,l,f.sequenceNumber);DE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){k(Ts,"Failed to raise snapshot:",r),await HA(n,r)}}async function HA(n,e,t){if(!Cs(e))throw e;n.Ia.add(1),await nu(n),n.Aa.set("Offline"),t||(t=()=>Z0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{k(Ts,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await uf(n)})}async function zA(n,e){let t=le(n);t.asyncQueue.verifyOperationInProgress(),k(Ts,"RemoteStore received new credentials");let r=ru(t);t.Ia.add(3),await nu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await uf(t)}async function _B(n,e){let t=le(n);e?(t.Ia.delete(2),await uf(t)):e||(t.Ia.add(2),await nu(t),t.Aa.set("Unknown"))}function Ss(n){return n.Va||(n.Va=(function(t,r,i){let o=le(t);return o.ia(),new Q_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:gB.bind(null,n),e_:mB.bind(null,n),n_:yB.bind(null,n),J_:vB.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),CE(n)?bE(n):n.Aa.set("Unknown")):(await n.Va.stop(),tR(n))})),n.Va}var eE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nR(n,e){if(tr("AsyncQueue",`${e}: ${n}`),Cs(n))return new V(x.UNAVAILABLE,`${e}: ${n}`);throw n}var Wh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||B.comparator(t.key,r.key):(t,r)=>B.comparator(t.key,r.key),this.keyedMap=kc(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Kh=class{constructor(){this.fa=new Oe(B.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):q(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ds=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Wh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var tE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},nE=class{constructor(){this.queries=qA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=le(t),o=i.queries;i.queries=qA(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new V(x.ABORTED,"Firestore shutting down"))}};function qA(){return new ir(n=>x0(n),af)}async function EB(n,e){let t=le(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new tE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let c=nR(s,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&SE(t)}async function IB(n,e){let t=le(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function wB(n,e){let t=le(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&SE(t)}function TB(n,e,t){let r=le(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function SE(n){n.Da.forEach(e=>{e.next()})}var rE,GA;(GA=rE||(rE={})).Fa="default",GA.Cache="cache";var iE=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ds(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==rE.Cache}};var Qh=class{constructor(e){this.key=e}},Yh=class{constructor(e){this.key=e}},oE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=he(),this.mutatedKeys=he(),this.Xa=k0(e),this.eu=new Wh(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Kh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),v=cf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),A=!1;m&&v?m.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),A=!0):this.iu(m,v)||(r.track({type:2,doc:v}),A=!0,(u&&this.Xa(v,u)>0||l&&this.Xa(v,l)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),A=!0):m&&!v&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(c=!0)),A&&(v?(s=s.add(v),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(v,S){let M=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{At:A})}};return M(v)-M(S)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Ds(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Kh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=he(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Yh(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Qh(r))}),t}uu(e){this.Ha=e.qs,this.Za=he();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ds.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},AE="SyncEngine",sE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},aE=class{constructor(e){this.key=e,this.lu=!1}},cE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ir(c=>x0(c),af),this.Tu=new Map,this.Iu=new Set,this.du=new Oe(B.comparator),this.Eu=new Map,this.Au=new Zc,this.Ru={},this.Vu=new Map,this.mu=Yc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function DB(n,e,t=!0){let r=aR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await rR(r,e,t,!0),i}async function bB(n,e){let t=aR(n);await rR(t,e,!0,!1)}async function rR(n,e,t,r){let i=await hB(n.localStore,Sn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=await CB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&X0(n.remoteStore,i),c}async function CB(n,e,t,r,i){n.gu=(p,m,v)=>(async function(M,A,L,J){let Z=A.view.nu(L);Z.Ds&&(Z=await UA(M.localStore,A.query,!1).then(({documents:w})=>A.view.nu(w,Z)));let Ie=J&&J.targetChanges.get(A.targetId),lt=J&&J.targetMismatches.get(A.targetId)!=null,ve=A.view.applyChanges(Z,M.isPrimaryClient,Ie,lt);return KA(M,A.targetId,ve._u),ve.snapshot})(n,p,m,v);let o=await UA(n.localStore,e,!0),s=new oE(e,o.qs),c=s.nu(o.documents),u=Kc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);KA(n,t,l._u);let f=new sE(e,t,s);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function SB(n,e,t){let r=le(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!af(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await B_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&TE(r.remoteStore,i.targetId),uE(r,i.targetId)}).catch(rf)):(uE(r,i.targetId),await B_(r.localStore,i.targetId,!0))}async function AB(n,e){let t=le(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),TE(t.remoteStore,r.targetId))}async function iR(n,e){let t=le(n);try{let r=await lB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Se(s.lu,14607):i.removedDocuments.size>0&&(Se(s.lu,42227),s.lu=!1))}),await sR(t,r,e)}catch(r){await rf(r)}}function WA(n,e,t){let r=le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=le(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&SE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RB(n,e,t){let r=le(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(B.comparator);s=s.insert(o,un.newNoDocument(o,Y.min()));let c=he().add(o),u=new Fh(Y.min(),new Map,new Oe(re),s,c);await iR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),RE(r)}else await B_(r.localStore,e,!1).then(()=>uE(r,e,t)).catch(rf)}function uE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||oR(n,r)})}function oR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(TE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),RE(n))}function KA(n,e,t){for(let r of t)r instanceof Qh?(n.Au.addReference(r.key,e),NB(n,r)):r instanceof Yh?(k(AE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||oR(n,r.key)):q(19791,{yu:r})}function NB(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(k(AE,"New document in limbo: "+t),n.Iu.add(r),RE(n))}function RE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new B(ke.fromString(e)),r=n.mu.next();n.Eu.set(r,new aE(t)),n.du=n.du.insert(t,r),X0(n.remoteStore,new Qc(Sn(IE(t.path)),r,"TargetPurposeLimboResolution",mE.ue))}}async function sR(n,e,t){let r=le(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=F_.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let f=le(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,m=>N.forEach(m.Is,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>N.forEach(m.ds,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Cs(p))throw p;k(wE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=f.Fs.get(m),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);f.Fs=f.Fs.insert(m,M)}}})(r.localStore,o))}async function MB(n,e){let t=le(n);if(!t.currentUser.isEqual(e)){k(AE,"User change. New user:",e.toKey());let r=await Y0(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new V(x.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sR(t,r.Bs)}}function PB(n,e){let t=le(n),r=t.Eu.get(e);if(r&&r.lu)return he().add(r.key);{let i=he(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function aR(n){let e=le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RB.bind(null,e),e.hu.J_=wB.bind(null,e.eventManager),e.hu.pu=TB.bind(null,e.eventManager),e}var cR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=J0(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return uB(this.persistence,new j_,t.initialUser,this.serializer)}Du(t){return new $h(L_.Vi,this.serializer)}bu(t){return new $_}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),lE=class extends cR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Se(this.persistence.referenceDelegate instanceof Hh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new T_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new $h(r=>Hh.Vi(r,t),this.serializer)}};var xB=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>WA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=MB.bind(null,this.syncEngine),await _B(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nE})()}createDatastore(t){let r=J0(t.databaseInfo.databaseId),i=(function(s){return new W_(s)})(t.databaseInfo);return(function(s,c,u,l){return new Z_(s,c,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new X_(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>WA(this.syncEngine,r,0),(function(){return qh.C()?new qh:new H_})())}createSyncEngine(t,r){return(function(o,s,c,u,l,f,p){let m=new cE(o,s,c,u,l,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=le(o);k(Ts,"RemoteStore shutting down."),s.Ia.add(5),await nu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var dE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Hr="FirestoreClient",hE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=Rh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{k(Hr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(k(Hr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=nR(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Uv(n,e){n.asyncQueue.verifyOperationInProgress(),k(Hr,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Y0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Ur("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{k("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ur("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function QA(n,e){n.asyncQueue.verifyOperationInProgress();let t=await kB(n);k(Hr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zA(e.remoteStore,i)),n._onlineComponents=e}async function kB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){k(Hr,"Using user provided OfflineComponentProvider");try{await Uv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ur("Error using user provided cache. Falling back to memory cache: "+t),await Uv(n,new cR)}}else k(Hr,"Using default OfflineComponentProvider"),await Uv(n,new lE(void 0));return n._offlineComponents}async function OB(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(k(Hr,"Using user provided OnlineComponentProvider"),await QA(n,n._uninitializedComponentsProvider._online)):(k(Hr,"Using default OnlineComponentProvider"),await QA(n,new xB))),n._onlineComponents}async function YA(n){let e=await OB(n),t=e.eventManager;return t.onListen=DB.bind(null,e.syncEngine),t.onUnlisten=SB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AB.bind(null,e.syncEngine),t}function uR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var ZA=new Map;var lR="firestore.googleapis.com",JA=!0,Zh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lR,this.ssl=JA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:JA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sB)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Jc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Bv;switch(r.type){case"firstParty":return new qv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=ZA.get(t);r&&(k("ComponentProvider","Removing Datastore"),ZA.delete(t),r.terminate())})(this),Promise.resolve()}};function dR(n,e,t,r={}){var i;n=Dh(n,Jc);let o=Rr(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Kd(`https://${u}`),Qd("Firestore",!0)),s.host!==lR&&s.host!==u&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!wn(l,c)&&(n._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Qe.MOCK_USER;else{f=kC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(m)}n._authCredentials=new $v(new Sh(f,p))}}var Jh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},An=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(eu(t,n._jsonSchema))return new n(e,r||null,new B(ke.fromString(t.referencePath)))}};An._jsonSchemaVersion="firestore/documentReference/1.0",An._jsonSchema={type:Ve("string",An._jsonSchemaVersion),referencePath:Ve("string")};var as=class n extends Jh{constructor(e,t,r){super(e,t,IE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new B(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function hR(n,e,...t){if(n=on(n),eU("collection","path",e),n instanceof Jc){let r=ke.fromString(e,...t);return gA(r),new as(n,null,r)}{if(!(n instanceof An||n instanceof as))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return gA(r),new as(n.firestore,null,r)}}var XA="AsyncQueue",Xh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Gh(this,"async_queue_retry"),this.oc=()=>{let r=jv();r&&k(XA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=jv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=jv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new jr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Cs(e))throw e;k(XA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,tr("INTERNAL UNHANDLED ERROR: ",e0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=eE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&q(47125,{hc:e0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function e0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function t0(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Xc=class extends Jc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Xh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xh(e),this._firestoreClient=void 0,await e}}};function fR(n,e){let t=typeof n=="object"?n:Mi(),r=typeof n=="string"?n:e||kh,i=Ko(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=xC("firestore");o&&dR(i,...o)}return i}function LB(n){if(n._terminated)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FB(n),n._firestoreClient}function FB(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,l,f){return new Yv(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,uR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new hE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var cs=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ut.fromBase64String(e))}catch(t){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};cs._jsonSchemaVersion="firestore/bytes/1.0",cs._jsonSchema={type:Ve("string",cs._jsonSchemaVersion),bytes:Ve("string")};var ef=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var us=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(eu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};us._jsonSchemaVersion="firestore/geoPoint/1.0",us._jsonSchema={type:Ve("string",us._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};var ls=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new V(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:Ve("string",ls._jsonSchemaVersion),vectorValues:Ve("object")};var VB=new RegExp("[~\\*/\\[\\]]");function jB(n,e,t){if(e.search(VB)>=0)throw n0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ef(...e.split("."))._internalPath}catch{throw n0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function n0(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(x.INVALID_ARGUMENT,c+n+u)}var tf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new fE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(pR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},fE=class extends tf{data(){return super.data()}};function pR(n,e){return typeof e=="string"?jB(n,e):e instanceof ef?e._internalPath:e._delegate._internalPath}function UB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pE=class{convertValue(e,t="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return tu(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[$c].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new ls(o)}convertGeoPoint(e){return new us(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=sf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){let t=nr(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);Se(K0(r),9688,{name:e});let i=new Oh(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(t)||tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Bi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$i=class n extends tf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(pR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};$i._jsonSchemaVersion="firestore/documentSnapshot/1.0",$i._jsonSchema={type:Ve("string",$i._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};var ds=class extends $i{data(e={}){return super.data(e)}},hs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ds(this._firestore,this._userDataWriter,r.key,r,new Bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ds(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ds(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:BB(c.type),doc:u,oldIndex:l,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function BB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:n})}}hs._jsonSchemaVersion="firestore/querySnapshot/1.0",hs._jsonSchema={type:Ve("string",hs._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};var nf=class extends pE{constructor(e){super(),this.firestore=e}convertBytes(e){return new cs(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,t)}};function NE(n,...e){var t,r,i;n=on(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||t0(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(t0(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof An)l=Dh(n.firestore,Xc),f=IE(n._key.path),u={next:p=>{e[s]&&e[s]($B(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Dh(n,Jh);l=Dh(p.firestore,Xc),f=p._query;let m=new nf(l);u={next:v=>{e[s]&&e[s](new hs(l,m,p,v))},error:e[s+1],complete:e[s+2]},UB(n._query)}return(function(m,v,S,M){let A=new dE(M),L=new iE(v,A,S);return m.asyncQueue.enqueueAndForget(async()=>EB(await YA(m),L)),()=>{A.Ou(),m.asyncQueue.enqueueAndForget(async()=>IB(await YA(m),L))}})(LB(l),f,c,u)}function $B(n,e,t){let r=t.docs.get(e._key),i=new nf(n);return new $i(n,i,e._key,r,new Bi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){bs=i})(Mr),sn(new Et("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Xc(new Hv(r.getProvider("auth-internal")),new Gv(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Me(dA,hA,e),Me(dA,hA,"esm2017")})();var lf=function(){return lf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lf.apply(this,arguments)};var qB={includeMetadataChanges:!1};function gR(n,e){return e===void 0&&(e=qB),new X(function(t){var r=NE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function mR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:lf(lf({},r),(t={},t[e.idField]=n.id,t))}function yR(n){return gR(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function vR(n,e){return e===void 0&&(e={}),yR(n).pipe(te(function(t){return t.map(function(r){return mR(r,e)})}))}var qi=class{constructor(e){return e}},_R="firestore",ME=class{constructor(){return Yo(_R)}};var PE=new j("angularfire2.firestore-instances");function GB(n,e){let t=wc(_R,n,e);return t&&new qi(t)}function WB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new qi(r)}}var KB={provide:ME,deps:[[new Vt,PE]]},QB={provide:qi,useFactory:GB,deps:[[new Vt,PE],Qn]};function ER(n,...e){return Me("angularfire",Pr.full,"fst"),kt([QB,KB,{provide:PE,useFactory:WB(n),multi:!0,deps:[_e,qe,xr,xi,[new Vt,Pc],[new Vt,Zo],...e]}])}var IR=Kn(vR,!0);var wR=Kn(hR,!0,2);var TR=Kn(fR,!0);var DR=[];var bR={apiKey:"AIzaSyDqrKGYBro4b_p7B_D6iOTRWj0uxX0HARg",authDomain:"lgcs-blog.firebaseapp.com",projectId:"lgcs-blog",storageBucket:"lgcs-blog.firebasestorage.app",messagingSenderId:"405898323042",appId:"1:405898323042:web:b9610a5a1aa234db535d3b"};var CR={providers:[ug(),Dm(),_y(DR),aS(()=>cS(bR)),ER(()=>TR()),aA(()=>cA())]};var ZB=["*"];function JB(n,e){n&1&&(ne(0,"b",0),ye(1,"Invalid Text"),se())}function XB(n,e){if(n&1&&tt(0,"img",4),n&2){let t=Ti(2);_m(ad("mr-1 ",t.width)),Te("src",ad("images/",t.image,".png"),gi)("alt",Im(t.image))}}function e$(n,e){if(n&1&&(ne(0,"div",1),Po(1,XB,1,7,"img",2),ne(2,"p",3),vm(3),se()()),n&2){let t=Ti();pe(),xo(t.image!=="null"?1:-1),pe(),Te("ngClass",t.link?"duration-300 ease-in-out hover:text-orange-500":"")}}var As=class n{image;link;width;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=jt({type:n,selectors:[["app-text"]],inputs:{image:"image",link:"link",width:"width"},ngContentSelectors:ZB,decls:2,vars:1,consts:[[1,"text-red-500"],[1,"flex","items-center"],[3,"src","alt","class"],[1,"text-gray-500",3,"ngClass"],[3,"src","alt"]],template:function(t,r){t&1&&(ym(),Po(0,JB,2,0,"b",0)(1,e$,4,2,"div",1)),t&2&&xo(r.image===void 0?0:1)},dependencies:[Cr,Fm],encapsulation:2})};function t$(n,e){if(n&1&&(La(0,"a",0)(1,"div",1)(2,"b"),ye(3),Fa()()()),n&2){let t=Ti();od("href",t.href,gi),pe(3),vn(t.text)}}function n$(n,e){if(n&1&&(La(0,"p",1)(1,"b"),ye(2),Fa()()),n&2){let t=Ti();pe(2),vn(t.text)}}var df=class n{href;text;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=jt({type:n,selectors:[["app-button"]],inputs:{href:"href",text:"text"},decls:2,vars:1,consts:[["target","_blank",3,"href"],[1,"bg-orange-500","duration-300","ease-in-out","hover:bg-orange-600","m-1","p-1","px-2","rounded-md","select-none","text-center","text-white","transition"]],template:function(t,r){t&1&&Po(0,t$,4,2,"a",0)(1,n$,3,1,"p",1),t&2&&xo(r.href?0:1)},encapsulation:2})};function r$(n,e){if(n&1&&(Ii(0),tt(1,"app-button",10),wi()),n&2){let t=e.$implicit;pe(),Te("text",t)}}function i$(n,e){if(n&1&&(Ii(0),ne(1,"app-text",11),ye(2),se(),wi()),n&2){let t=e.$implicit;pe(2),vn(t)}}var hf=class n{post;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=jt({type:n,selectors:[["app-post-detail"]],inputs:{post:"post"},decls:14,vars:6,consts:[[1,"p-4","w-full"],[1,"border-2","border-gray-100","h-full","px-6","py-6","rounded-4xl","shrink-0"],[1,"flex","flex-col","h-full"],["image","null"],[1,"pb-1","text-gray-500","text-3xl"],[1,"border-b-2","border-gray-100","mt-1","w-full"],[1,"flex","my-1"],[1,"flex","flex-wrap","mt-1"],[4,"ngFor","ngForOf"],["alt","",1,"rounded-2xl","my-6","shadow-lg/30",3,"src"],[3,"text"],["image","null",1,"my-3"]],template:function(t,r){t&1&&(ne(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-text",3)(4,"b",4),ye(5),se()(),tt(6,"div",5),ne(7,"div",6)(8,"app-text",3),ye(9),se()(),ne(10,"div",7),Dr(11,r$,2,1,"ng-container",8),se(),tt(12,"img",9),Dr(13,i$,3,1,"ng-container",8),se()()()),t&2&&(pe(5),vn(r.post.title),pe(4),sd("",r.post.author," \xB7 \u{1F552} ",r.post.date),pe(2),Te("ngForOf",r.post.tags),pe(),Te("src",r.post.image,gi),pe(),Te("ngForOf",r.post.content))},dependencies:[Cr,Oo,df,As],encapsulation:2})};var Rs=class n{constructor(e){this.firestore=e}getPosts(){let e=wR(this.firestore,"posts");return IR(e,{idField:"id"})}getPostCount(){return this.getPosts().pipe(te(e=>e.length))}static \u0275fac=function(t){return new(t||n)(W(qi))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function o$(n,e){if(n&1&&(Ii(0),tt(1,"app-post-detail",3),wi()),n&2){let t=e.$implicit;pe(),Te("post",t)}}function s$(n,e){if(n&1&&(ne(0,"div",1),Dr(1,o$,2,1,"ng-container",2),se()),n&2){let t=e.ngIf;pe(),Te("ngForOf",t)}}var ff=class n{constructor(e){this.postService=e}posts$;postCount$;ngOnInit(){this.posts$=this.postService.getPosts(),this.postCount$=this.postService.getPostCount()}static \u0275fac=function(t){return new(t||n)(at(Rs))};static \u0275cmp=jt({type:n,selectors:[["app-post-list"]],decls:3,vars:3,consts:[["class","space-y-4",4,"ngIf"],[1,"space-y-4"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(t,r){t&1&&(ne(0,"div"),Dr(1,s$,2,1,"div",0),ja(2,"async"),se()),t&2&&(pe(),Te("ngIf",Ua(2,1,r.posts$)))},dependencies:[Cr,Oo,Vm,hf,za],encapsulation:2})};var pf=class n{constructor(e){this.postService=e}posts$;postCount$;ngOnInit(){this.posts$=this.postService.getPosts(),this.postCount$=this.postService.getPostCount()}static \u0275fac=function(t){return new(t||n)(at(Rs))};static \u0275cmp=jt({type:n,selectors:[["app-root"]],decls:74,vars:14,consts:[[1,"flex","items-center","justify-center"],[1,"border-1","border-gray-100","h-full","m-16","p-4","rounded-2xl","shadow-lg/30","w-3/5"],[1,"flex","items-center","m-4","justify-between"],["src","images/logo.png","alt","logo"],[1,"flex","items-center","justify-center","space-x-2","mb-6"],[1,"text-lg","text-gray-700"],[1,"font-bold","text-xl","text-gray-500"],[1,"flex","mt-4"],[1,"w-3/4"],[1,"p-4","w-1/4"],[1,"border-2","border-gray-100","h-full","px-4","py-6","rounded-4xl","shrink-0"],[1,"flex","flex-col","items-center","justify-center"],["src","images/lgc-s.png","alt","lgc-s",1,"rounded-full","mb-4","shadow-md/40"],["image","null"],[1,"text-gray-700","text-xl"],[1,"flex","flex-col","items-start","justify-center","mt-4","w-full"],[1,"text-gray-700"],["href","https://github.com/lgc-s","target","_blank"],["image","github","width","w-4",3,"link"],["href","https://www.linkedin.com/in/lgc-s/","target","_blank"],["image","linkedin","width","w-4",3,"link"],["href","https://lgc-s.github.io/portfolio/","target","_blank"],["image","portfolio","width","w-4",3,"link"],["href","https://newviainformatica.com.br/","target","_blank"],["image","newvia","width","w-4",3,"link"],["href","https://lgc-s.github.io/vistadoro/","target","_blank"],["image","vistadoro","width","w-4",3,"link"],["href","https://github.com/lgc-s/basketstar","target","_blank"],["image","basketstar","width","w-4",3,"link"],["href","https://lgc-s.github.io/inbv/","target","_blank"],["image","inbv","width","w-4",3,"link"],["href","https://wa.me/558197278307","target","_blank"],["image","whatsapp","width","w-4",3,"link"],["href","https://mail.google.com/mail/?view=cm&fs=1&to=luisguilhermecs3@gmail.com&su=Contact+for+LGC-S&body=Write+your+message+here.","target","_blank"],["image","email","width","w-4",3,"link"],[1,"flex","items-center","justify-center","h-full"]],template:function(t,r){t&1&&(ne(0,"main")(1,"div",0)(2,"div",1)(3,"div",2),tt(4,"img",3),ne(5,"div",4)(6,"p",5)(7,"b"),ye(8,"Total Posts:"),se()(),ne(9,"span",6),ye(10),ja(11,"async"),se()()(),ne(12,"div",7),tt(13,"app-post-list",8),ne(14,"div",9)(15,"div",10)(16,"div",11),tt(17,"img",12),ne(18,"app-text",13)(19,"b",14),ye(20,"LGC-S"),se()(),ne(21,"app-text",13)(22,"b"),ye(23,"\u{1F6E0}\uFE0F Front-End Developer"),se()(),ne(24,"div",15)(25,"app-text",13)(26,"b",16),ye(27,"Main Websites"),se()(),ne(28,"a",17)(29,"app-text",18),ye(30,"GitHub"),se()(),ne(31,"a",19)(32,"app-text",20),ye(33,"LinkedIn"),se()(),ne(34,"a",21)(35,"app-text",22),ye(36,"Portfolio"),se()()(),ne(37,"div",15)(38,"app-text",13)(39,"b",16),ye(40,"Projects"),se()(),ne(41,"a",23)(42,"app-text",24),ye(43,"Newvia"),se()(),ne(44,"a",25)(45,"app-text",26),ye(46,"Vistadoro"),se()(),ne(47,"a",27)(48,"app-text",28),ye(49,"Basketstar"),se()(),ne(50,"a",29)(51,"app-text",30),ye(52,"INBV (WIP)"),se()()(),ne(53,"div",15)(54,"app-text",13)(55,"b",16),ye(56,"Contacts"),se()(),ne(57,"a",17)(58,"app-text",18),ye(59,"GitHub"),se()(),ne(60,"a",19)(61,"app-text",20),ye(62,"LinkedIn"),se()(),ne(63,"a",31)(64,"app-text",32),ye(65,"WhatsApp"),se()(),ne(66,"a",33)(67,"app-text",34),ye(68,"E-mail"),se()()()()()()(),ne(69,"div",35)(70,"app-text",13)(71,"b"),ye(72,"\xA92025 - lgc-s.blog"),se()()()()()(),tt(73,"router-outlet")),t&2&&(pe(10),vn(Ua(11,12,r.postCount$)),pe(19),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0),pe(7),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0),pe(7),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0),pe(3),Te("link",!0))},dependencies:[hc,ff,As,za],encapsulation:2})};Qm(pf,CR).catch(n=>console.error(n));
