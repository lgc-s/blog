var GN=Object.defineProperty,WN=Object.defineProperties;var KN=Object.getOwnPropertyDescriptors;var rw=Object.getOwnPropertySymbols;var QN=Object.prototype.hasOwnProperty,YN=Object.prototype.propertyIsEnumerable;var iw=(n,e,t)=>e in n?GN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})QN.call(e,t)&&iw(n,t,e[t]);if(rw)for(var t of rw(e))YN.call(e,t)&&iw(n,t,e[t]);return n},Ee=(n,e)=>WN(n,KN(e));var Jf;function Au(){return Jf}function fn(n){let e=Jf;return Jf=n,e}var ow=Symbol("NotFound");function ro(n){return n===ow||n?.name==="\u0275NotFound"}function Xf(n,e){return Object.is(n,e)}var ct=null,Ru=!1,ep=1,ZN=null,Dt=Symbol("SIGNAL");function ie(n){let e=ct;return ct=n,e}function Mu(){return ct}var na={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ra(n){if(Ru)throw new Error("");if(ct===null)return;ct.consumerOnSignalRead(n);let e=ct.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ct.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ct.producers,t!==void 0&&t.producer===n)){ct.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ct&&(!r||XN(i,ct)))return;let o=io(ct),s={producer:n,consumer:ct,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ct.producersTail=s,e!==void 0?e.nextProducer=s:ct.producers=s,o&&uw(n,s)}function sw(){ep++}function tp(n){if(!(io(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ep)){if(!n.producerMustRecompute(n)&&!oa(n)){Nu(n);return}n.producerRecomputeValue(n),Nu(n)}}function np(n){if(n.consumers===void 0)return;let e=Ru;Ru=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||JN(r)}}finally{Ru=e}}function rp(){return ct?.consumerAllowSignalWrites!==!1}function JN(n){n.dirty=!0,np(n),n.consumerMarkedDirty?.(n)}function Nu(n){n.dirty=!1,n.lastCleanEpoch=ep}function ia(n){return n&&aw(n),ie(n)}function aw(n){n.producersTail=void 0,n.recomputing=!0}function Pu(n,e){ie(e),n&&cw(n)}function cw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(io(n))do t=ip(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function oa(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(tp(t),r!==t.version))return!0}return!1}function sa(n){if(io(n)){let e=n.producers;for(;e!==void 0;)e=ip(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function uw(n,e){let t=n.consumersTail,r=io(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)uw(i.producer,i)}function ip(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!io(e)){let o=e.producers;for(;o!==void 0;)o=ip(o)}return t}function io(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function op(n){ZN?.(n)}function XN(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function eM(){throw new Error}var lw=eM;function dw(n){lw(n)}function sp(n){lw=n}var tM=null;function ap(n,e){let t=Object.create(xu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>hw(t);return r[Dt]=t,op(t),[r,s=>oo(t,s),s=>cp(t,s)]}function hw(n){return ra(n),n.value}function oo(n,e){rp()||dw(n),n.equal(n.value,e)||(n.value=e,nM(n))}function cp(n,e){rp()||dw(n),oo(n,e(n.value))}var xu=Ee(L({},na),{equal:Xf,value:void 0,kind:"signal"});function nM(n){n.version++,sw(),np(n),tM?.(n)}function Q(n){return typeof n=="function"}function so(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ku=so(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ei(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ne=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){e=o instanceof ku?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{fw(o)}catch(s){e=e??[],s instanceof ku?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ku(e)}}add(e){var t;if(e&&e!==this)if(this.closed)fw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ei(t,e)}remove(e){let{_finalizers:t}=this;t&&ei(t,e),e instanceof n&&e._removeParent(this)}};Ne.EMPTY=(()=>{let n=new Ne;return n.closed=!0,n})();var up=Ne.EMPTY;function Ou(n){return n instanceof Ne||n&&"closed"in n&&Q(n.remove)&&Q(n.add)&&Q(n.unsubscribe)}function fw(n){Q(n)?n():n.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ao={setTimeout(n,e,...t){let{delegate:r}=ao;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ao;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Lu(n){ao.setTimeout(()=>{let{onUnhandledError:e}=Jt;if(e)e(n);else throw n})}function aa(){}var pw=lp("C",void 0,void 0);function gw(n){return lp("E",void 0,n)}function mw(n){return lp("N",n,void 0)}function lp(n,e,t){return{kind:n,value:e,error:t}}var ti=null;function co(n){if(Jt.useDeprecatedSynchronousErrorHandling){let e=!ti;if(e&&(ti={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ti;if(ti=null,t)throw r}}else n()}function yw(n){Jt.useDeprecatedSynchronousErrorHandling&&ti&&(ti.errorThrown=!0,ti.error=n)}var ni=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ou(e)&&e.add(this)):this.destination=oM}static create(e,t,r){return new uo(e,t,r)}next(e){this.isStopped?hp(mw(e),this):this._next(e)}error(e){this.isStopped?hp(gw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hp(pw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rM=Function.prototype.bind;function dp(n,e){return rM.call(n,e)}var fp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Fu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Fu(r)}else Fu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Fu(t)}}},uo=class extends ni{constructor(e,t,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dp(e.next,o),error:e.error&&dp(e.error,o),complete:e.complete&&dp(e.complete,o)}):i=e}this.destination=new fp(i)}};function Fu(n){Jt.useDeprecatedSynchronousErrorHandling?yw(n):Lu(n)}function iM(n){throw n}function hp(n,e){let{onStoppedNotification:t}=Jt;t&&ao.setTimeout(()=>t(n,e))}var oM={closed:!0,next:aa,error:iM,complete:aa};var lo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(n){return n}function Vu(...n){return pp(n)}function pp(n){return n.length===0?Ot:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=aM(t)?t:new uo(t,r,i);return co(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=vw(r),new r((i,o)=>{let s=new uo({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[lo](){return this}pipe(...t){return pp(t)(this)}toPromise(t){return t=vw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function vw(n){var e;return(e=n??Jt.Promise)!==null&&e!==void 0?e:Promise}function sM(n){return n&&Q(n.next)&&Q(n.error)&&Q(n.complete)}function aM(n){return n&&n instanceof ni||sM(n)&&Ou(n)}function gp(n){return Q(n?.lift)}function ce(n){return e=>{if(gp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,e,t,r,i){return new mp(n,e,t,r,i)}var mp=class extends ni{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ho(){return ce((n,e)=>{let t=null;n._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var fo=class extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let t=this.getSubject();e.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return ho()(this)}};var _w=so(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ju(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new _w}next(t){co(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){co(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){co(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?up:(this.currentObservers=null,o.push(t),new Ne(()=>{this.currentObservers=null,ei(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ne;return t.source=this,t}}return n.create=(e,t)=>new ju(e,t),n})(),ju=class extends tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:up}};var nt=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yp={now(){return(yp.delegate||Date).now()},delegate:void 0};var Uu=class extends Ne{constructor(e,t){super()}schedule(e,t=0){return this}};var ca={setInterval(n,e,...t){let{delegate:r}=ca;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ca;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var po=class extends Uu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ca.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ei(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var go=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};go.now=yp.now;var mo=class extends go{constructor(e,t=go.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var vp=new mo(po);var Bu=class extends po{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var $u=class extends mo{};var _p=new $u(Bu);var bt=new ne(n=>n.complete());function Ew(n){return n&&Q(n.schedule)}function Iw(n){return n[n.length-1]}function ww(n){return Q(Iw(n))?n.pop():void 0}function hr(n){return Ew(Iw(n))?n.pop():void 0}function Ep(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Dw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function Tw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ri(n){return this instanceof ri?(this.v=n,this):new ri(n)}function bw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function c(v,S){r[v]&&(i[v]=function(R){return new Promise(function(A,F){o.push([v,R,A,F])>1||u(v,R)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(R){m(o[0][3],R)}}function l(v){v.value instanceof ri?Promise.resolve(v.value.v).then(h,p):m(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Cw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Tw=="function"?Tw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Hu=n=>n&&typeof n.length=="number"&&typeof n!="function";function zu(n){return Q(n?.then)}function qu(n){return Q(n[lo])}function Gu(n){return Symbol.asyncIterator&&Q(n?.[Symbol.asyncIterator])}function Wu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ku=cM();function Qu(n){return Q(n?.[Ku])}function Yu(n){return bw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ri(t.read());if(i)return yield ri(void 0);yield yield ri(r)}}finally{t.releaseLock()}})}function Zu(n){return Q(n?.getReader)}function qe(n){if(n instanceof ne)return n;if(n!=null){if(qu(n))return uM(n);if(Hu(n))return lM(n);if(zu(n))return dM(n);if(Gu(n))return Sw(n);if(Qu(n))return hM(n);if(Zu(n))return fM(n)}throw Wu(n)}function uM(n){return new ne(e=>{let t=n[lo]();if(Q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lM(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function dM(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Lu)})}function hM(n){return new ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Sw(n){return new ne(e=>{pM(n,e).catch(t=>e.error(t))})}function fM(n){return Sw(Yu(n))}function pM(n,e){var t,r,i,o;return Dw(this,void 0,void 0,function*(){try{for(t=Cw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ct(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function fr(n,e=0){return ce((t,r)=>{t.subscribe(ue(r,i=>Ct(r,n,()=>r.next(i),e),()=>Ct(r,n,()=>r.complete(),e),i=>Ct(r,n,()=>r.error(i),e)))})}function pr(n,e=0){return ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Aw(n,e){return qe(n).pipe(pr(e),fr(e))}function Rw(n,e){return qe(n).pipe(pr(e),fr(e))}function Nw(n,e){return new ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Mw(n,e){return new ne(t=>{let r;return Ct(t,e,()=>{r=n[Ku](),Ct(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function Ju(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{Ct(t,e,()=>{let r=n[Symbol.asyncIterator]();Ct(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Pw(n,e){return Ju(Yu(n),e)}function xw(n,e){if(n!=null){if(qu(n))return Aw(n,e);if(Hu(n))return Nw(n,e);if(zu(n))return Rw(n,e);if(Gu(n))return Ju(n,e);if(Qu(n))return Mw(n,e);if(Zu(n))return Pw(n,e)}throw Wu(n)}function Se(n,e){return e?xw(n,e):qe(n)}function z(...n){let e=hr(n);return Se(n,e)}function yo(n,e){let t=Q(n)?n:()=>n,r=i=>i.error(t());return new ne(e?i=>e.schedule(r,0,i):r)}function Ip(n){return!!n&&(n instanceof ne||Q(n.lift)&&Q(n.subscribe))}var Ln=so(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return ce((t,r)=>{let i=0;t.subscribe(ue(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:gM}=Array;function mM(n,e){return gM(e)?n(...e):n(e)}function kw(n){return ee(e=>mM(n,e))}var{isArray:yM}=Array,{getPrototypeOf:vM,prototype:_M,keys:EM}=Object;function Ow(n){if(n.length===1){let e=n[0];if(yM(e))return{args:e,keys:null};if(IM(e)){let t=EM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function IM(n){return n&&typeof n=="object"&&vM(n)===_M}function Lw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xu(...n){let e=hr(n),t=ww(n),{args:r,keys:i}=Ow(n);if(r.length===0)return Se([],e);let o=new ne(wM(r,e,i?s=>Lw(i,s):Ot));return t?o.pipe(kw(t)):o}function wM(n,e,t=Ot){return r=>{Fw(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)Fw(e,()=>{let l=Se(n[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Fw(n,e,t){n?Ct(t,n,e):e()}function Vw(n,e,t,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=R=>l<r?S(R):u.push(R),S=R=>{o&&e.next(R),l++;let A=!1;qe(t(R,h++)).subscribe(ue(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let F=u.shift();s?Ct(e,s,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ue(e,v,()=>{p=!0,m()})),()=>{c?.()}}function Ue(n,e,t=1/0){return Q(e)?Ue((r,i)=>ee((o,s)=>e(r,o,i,s))(qe(n(r,i))),t):(typeof e=="number"&&(t=e),ce((r,i)=>Vw(r,i,n,t)))}function jw(n=1/0){return Ue(Ot,n)}function Uw(){return jw(1)}function vo(...n){return Uw()(Se(n,hr(n)))}function ua(n){return new ne(e=>{qe(n()).subscribe(e)})}function Lt(n,e){return ce((t,r)=>{let i=0;t.subscribe(ue(r,o=>n.call(e,o,i++)&&r.next(o)))})}function gr(n){return ce((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ue(t,void 0,void 0,s=>{o=qe(n(s,gr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Bw(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=c?n(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function _o(n,e){return Q(e)?Ue(n,e,1):Ue(n,1)}function mr(n){return ce((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Fn(n){return n<=0?()=>bt:ce((e,t)=>{let r=0;e.subscribe(ue(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function el(n=TM){return ce((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function TM(){return new Ln}function la(n){return ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Vn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,o)=>n(i,o,r)):Ot,Fn(1),t?mr(e):el(()=>new Ln))}function Eo(n){return n<=0?()=>bt:ce((e,t)=>{let r=[];e.subscribe(ue(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function wp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,o)=>n(i,o,r)):Ot,Eo(1),t?mr(e):el(()=>new Ln))}function tl(n,e){return ce(Bw(n,e,arguments.length>=2,!0))}function nl(...n){let e=hr(n);return ce((t,r)=>{(e?vo(n,t,e):vo(n,t)).subscribe(r)})}function St(n,e){return ce((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;qe(n(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function rl(n){return ce((e,t)=>{qe(n).subscribe(ue(t,()=>t.complete(),aa)),!t.closed&&e.subscribe(t)})}function Ge(n,e,t){let r=Q(n)||e||t?{next:n,error:e,complete:t}:n;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}function $w(n){let e=ie(null);try{return n()}finally{ie(e)}}var wo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Op=new wo("20.3.1");var cl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(ul(e,t)),this.code=e}};function DM(n){return`NG0${Math.abs(n)}`}function ul(n,e){return`${DM(n)}${e?": "+e:""}`}function ye(n){for(let e in n)if(n[e]===ye)return e;throw Error("")}function yr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(yr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function ll(n,e){return n?e?`${n} ${e}`:n:e||""}var bM=ye({__forward_ref__:ye});function dl(n){return n.__forward_ref__=dl,n.toString=function(){return yr(this())},n}function At(n){return Lp(n)?n():n}function Lp(n){return typeof n=="function"&&n.hasOwnProperty(bM)&&n.__forward_ref__===dl}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function To(n){return{providers:n.providers||[],imports:n.imports||[]}}function pa(n){return CM(n,hl)}function Fp(n){return pa(n)!==null}function CM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function SM(n){let e=n?.[hl]??null;return e||null}function Dp(n){return n&&n.hasOwnProperty(ol)?n[ol]:null}var hl=ye({\u0275prov:ye}),ol=ye({\u0275inj:ye}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vp(n){return n&&!!n.\u0275providers}var jp=ye({\u0275cmp:ye}),Up=ye({\u0275dir:ye}),Bp=ye({\u0275pipe:ye}),$p=ye({\u0275mod:ye}),ha=ye({\u0275fac:ye}),ai=ye({__NG_ELEMENT_ID__:ye}),zw=ye({__NG_ENV_ID__:ye});function ci(n){return typeof n=="string"?n:n==null?"":String(n)}function Gw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ci(n)}var Ww=ye({ngErrorCode:ye}),AM=ye({ngErrorMessage:ye}),RM=ye({ngTokenPath:ye});function Hp(n,e){return Kw("",-200,e)}function fl(n,e){throw new V(-201,!1)}function Kw(n,e,t){let r=new V(e,n);return r[Ww]=e,r[AM]=n,t&&(r[RM]=t),r}function NM(n){return n[Ww]}var bp;function Qw(){return bp}function pt(n){let e=bp;return bp=n,e}function zp(n,e,t){let r=pa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;fl(n,"Injector")}var MM={},ii=MM,Cp="__NG_DI_FLAG__",Sp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=oi(t)||0;try{return this.injector.get(e,r&8?null:ii,r)}catch(i){if(ro(i))return i;throw i}}};function PM(n,e=0){let t=Au();if(t===void 0)throw new V(-203,!1);if(t===null)return zp(n,void 0,e);{let r=xM(e),i=t.retrieve(n,r);if(ro(i)){if(r.optional)return null;throw i}return i}}function q(n,e=0){return(Qw()||PM)(At(n),e)}function N(n,e){return q(n,oi(e))}function oi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function xM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ap(n){let e=[];for(let t=0;t<n.length;t++){let r=At(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=kM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(q(i,o))}else e.push(q(r))}return e}function Yw(n,e){return n[Cp]=e,n.prototype[Cp]=e,n}function kM(n){return n[Cp]}function vr(n,e){let t=n.hasOwnProperty(ha);return t?n[ha]:null}function pl(n,e){n.forEach(t=>Array.isArray(t)?pl(t,e):e(t))}function qp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ga(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Zw(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function Jw(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function gl(n,e,t){let r=Do(n,e);return r>=0?n[r|1]=t:(r=~r,Jw(n,r,e,t)),r}function ml(n,e){let t=Do(n,e);if(t>=0)return n[t|1]}function Do(n,e){return OM(n,e,1)}function OM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ui={},Rt=[],Bn=new U(""),Gp=new U("",-1),Wp=new U(""),fa=class{get(e,t=ii){if(t===ii){let i=Kw("",-201);throw i.name="\u0275NotFound",i}return t}};function Kp(n){return n[$p]||null}function Er(n){return n[jp]||null}function Qp(n){return n[Up]||null}function Xw(n){return n[Bp]||null}function Ft(n){return{\u0275providers:n}}function eT(n){return Ft([{provide:Bn,multi:!0,useValue:n}])}function tT(...n){return{\u0275providers:Yp(!0,n),\u0275fromNgModule:!0}}function Yp(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return pl(e,s=>{let c=s;sl(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&nT(i,o),t}function nT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Zp(i,o=>{e(o,r)})}}function sl(n,e,t,r){if(n=At(n),!n)return!1;let i=null,o=Dp(n),s=!o&&Er(n);if(!o&&!s){let u=n.ngModule;if(o=Dp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)sl(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{pl(o.imports,h=>{sl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&nT(l,e)}if(!c){let l=vr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Rt},i),e({provide:Wp,useValue:i,multi:!0},i),e({provide:Bn,useValue:()=>q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;Zp(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Zp(n,e){for(let t of n)Vp(t)&&(t=t.\u0275providers),Array.isArray(t)?Zp(t,e):e(t)}var LM=ye({provide:String,useValue:ye});function rT(n){return n!==null&&typeof n=="object"&&LM in n}function FM(n){return!!(n&&n.useExisting)}function VM(n){return!!(n&&n.useFactory)}function al(n){return typeof n=="function"}var ma=new U(""),il={},qw={},Tp;function ya(){return Tp===void 0&&(Tp=new fa),Tp}var Be=class{},si=class extends Be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Np(e,s=>this.processProvider(s)),this.records.set(Gp,Io(void 0,this)),i.has("environment")&&this.records.set(Be,Io(void 0,this));let o=this.records.get(ma);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wp,Rt,{self:!0}))}retrieve(e,t){let r=oi(t)||0;try{return this.get(e,ii,r)}catch(i){if(ro(i))return i;throw i}}destroy(){da(this),this._destroyed=!0;let e=ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(e)}}onDestroy(e){return da(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){da(this);let t=fn(this),r=pt(void 0),i;try{return e()}finally{fn(t),pt(r)}}get(e,t=ii,r){if(da(this),e.hasOwnProperty(zw))return e[zw](this);let i=oi(r),o,s=fn(this),c=pt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=HM(e)&&pa(e);h&&this.injectableDefInScope(h)?l=Io(Rp(e),il):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?ya():this.parent;return t=i&8&&t===ii?null:t,u.get(e,t)}catch(u){let l=NM(u);throw l===-200||l===-201?new V(l,null):u}finally{pt(c),fn(s)}}resolveInjectorInitializers(){let e=ie(null),t=fn(this),r=pt(void 0),i;try{let o=this.get(Bn,Rt,{self:!0});for(let s of o)s()}finally{fn(t),pt(r),ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(yr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=At(e);let t=al(e)?e:At(e&&e.provide),r=UM(e);if(!al(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Io(void 0,il,!0),i.factory=()=>Ap(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ie(null);try{if(t.value===qw)throw Hp(yr(e));return t.value===il&&(t.value=qw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&$M(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=At(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Rp(n){let e=pa(n),t=e!==null?e.factory:vr(n);if(t!==null)return t;if(n instanceof U)throw new V(204,!1);if(n instanceof Function)return jM(n);throw new V(204,!1)}function jM(n){if(n.length>0)throw new V(204,!1);let t=SM(n);return t!==null?()=>t.factory(n):()=>new n}function UM(n){if(rT(n))return Io(void 0,n.useValue);{let e=iT(n);return Io(e,il)}}function iT(n,e,t){let r;if(al(n)){let i=At(n);return vr(i)||Rp(i)}else if(rT(n))r=()=>At(n.useValue);else if(VM(n))r=()=>n.useFactory(...Ap(n.deps||[]));else if(FM(n))r=(i,o)=>q(At(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=At(n&&(n.useClass||n.provide));if(BM(n))r=()=>new i(...Ap(n.deps));else return vr(i)||Rp(i)}return r}function da(n){if(n.destroyed)throw new V(205,!1)}function Io(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function BM(n){return!!n.deps}function $M(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function HM(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Np(n,e){for(let t of n)Array.isArray(t)?Np(t,e):t&&Vp(t)?Np(t.\u0275providers,e):e(t)}function $e(n,e){let t;n instanceof si?(da(n),t=n):t=new Sp(n);let r,i=fn(t),o=pt(void 0);try{return e()}finally{fn(i),pt(o)}}function oT(){return Qw()!==void 0||Au()!=null}var Xt=0,G=1,Y=2,rt=3,Gt=4,gt=5,bo=6,yl=7,mt=8,va=9,gn=10,ke=11,Co=12,Jp=13,li=14,Nt=15,di=16,hi=17,fi=18,_a=19,Xp=20,jn=21,vl=22,Ea=23,Vt=24,_l=25,yt=26,Me=27,sT=1;var Ir=7,Ia=8,wa=9,vt=10;function mn(n){return Array.isArray(n)&&typeof n[sT]=="object"}function en(n){return Array.isArray(n)&&n[sT]===!0}function eg(n){return(n.flags&4)!==0}function pi(n){return n.componentOffset>-1}function Ta(n){return(n.flags&1)===1}function gi(n){return!!n.template}function So(n){return(n[Y]&512)!==0}function mi(n){return(n[Y]&256)===256}var aT="svg",cT="math";function tn(n){for(;Array.isArray(n);)n=n[Xt];return n}function tg(n,e){return tn(e[n])}function $n(n,e){return tn(e[n.index])}function Da(n,e){return n.data[e]}function uT(n,e){return n[e]}function ng(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function nn(n,e){let t=e[n];return mn(t)?t:t[Xt]}function El(n){return(n[Y]&128)===128}function lT(n){return en(n[rt])}function yn(n,e){return e==null?null:n[e]}function rg(n){n[hi]=0}function ig(n){n[Y]&1024||(n[Y]|=1024,El(n)&&Ca(n))}function dT(n,e){for(;n>0;)e=e[li],n--;return e}function ba(n){return!!(n[Y]&9216||n[Vt]?.dirty)}function Il(n){n[gn].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),ba(n)&&Ca(n)}function Ca(n){n[gn].changeDetectionScheduler?.notify(0);let e=_r(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!El(e)));)e=_r(e)}function og(n,e){if(mi(n))throw new V(911,!1);n[jn]===null&&(n[jn]=[]),n[jn].push(e)}function hT(n,e){if(n[jn]===null)return;let t=n[jn].indexOf(e);t!==-1&&n[jn].splice(t,1)}function _r(n){let e=n[rt];return en(e)?e[rt]:e}var ae={lFrame:DT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Mp=!1;function fT(){return ae.lFrame.elementDepthCount}function pT(){ae.lFrame.elementDepthCount++}function sg(){ae.lFrame.elementDepthCount--}function wl(){return ae.bindingsEnabled}function ag(){return ae.skipHydrationRootTNode!==null}function cg(n){return ae.skipHydrationRootTNode===n}function ug(){ae.skipHydrationRootTNode=null}function he(){return ae.lFrame.lView}function jt(){return ae.lFrame.tView}function Ut(){let n=lg();for(;n!==null&&n.type===64;)n=n.parent;return n}function lg(){return ae.lFrame.currentTNode}function gT(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ao(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function dg(){return ae.lFrame.isParent}function hg(){ae.lFrame.isParent=!1}function fg(){return Mp}function pg(n){let e=Mp;return Mp=n,e}function mT(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function yT(){return ae.lFrame.bindingIndex}function vT(n){return ae.lFrame.bindingIndex=n}function Ro(){return ae.lFrame.bindingIndex++}function gg(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _T(){return ae.lFrame.inI18n}function ET(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,Tl(e)}function IT(){return ae.lFrame.currentDirectiveIndex}function Tl(n){ae.lFrame.currentDirectiveIndex=n}function wT(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function mg(n){ae.lFrame.currentQueryIndex=n}function zM(n){let e=n[G];return e.type===2?e.declTNode:e.type===1?n[gt]:null}function yg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=zM(o),i===null||(o=o[li],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=TT();return r.currentTNode=e,r.lView=n,!0}function Dl(n){let e=TT(),t=n[G];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function TT(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?DT(n):e}function DT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function bT(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var vg=bT;function bl(){let n=bT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function CT(n){return(ae.lFrame.contextLView=dT(n,ae.lFrame.contextLView))[mt]}function wr(){return ae.lFrame.selectedIndex}function Tr(n){ae.lFrame.selectedIndex=n}function _g(){let n=ae.lFrame;return Da(n.tView,n.selectedIndex)}function ST(){return ae.lFrame.currentNamespace}var AT=!0;function Cl(){return AT}function Sa(n){AT=n}function Pp(n,e=null,t=null,r){let i=Eg(n,e,t,r);return i.resolveInjectorInitializers(),i}function Eg(n,e=null,t=null,r,i=new Set){let o=[t||Rt,tT(n)];return r=r||(typeof n=="object"?void 0:yr(n)),new si(o,e||ya(),r||null,i)}var We=class n{static THROW_IF_NOT_FOUND=ii;static NULL=new fa;static create(e,t){if(Array.isArray(e))return Pp({name:""},t,e,"");{let r=e.name??"";return Pp({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>q(Gp)});static __NG_ELEMENT_ID__=-1},Ke=new U(""),Dr=(()=>{class n{static __NG_ELEMENT_ID__=qM;static __NG_ENV_ID__=t=>t}return n})(),xp=class extends Dr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return mi(this._lView)}onDestroy(e){let t=this._lView;return og(t,e),()=>hT(t,e)}};function qM(){return new xp(he())}var pn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Mt=new U("",{providedIn:"root",factory:()=>{let n=N(Be),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(pn),e.handleError(t))}}}),RT={provide:Bn,useValue:()=>void N(pn),multi:!0},GM=new U("",{providedIn:"root",factory:()=>{let n=N(Ke).defaultView;if(!n)return;let e=N(Mt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(Dr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Ig(){return Ft([eT(()=>void N(GM))])}function No(n,e){let[t,r,i]=ap(n,e?.equal),o=t,s=o[Dt];return o.set=r,o.update=i,o.asReadonly=NT.bind(o),o}function NT(){let n=this[Dt];if(n.readonlyFn===void 0){let e=()=>this();e[Dt]=n,n.readonlyFn=e}return n.readonlyFn}var Un=class{},Aa=new U("",{providedIn:"root",factory:()=>!1});var wg=new U(""),Sl=new U("");var vn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new nt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Mo=(()=>{class n{internalPendingTasks=N(vn);scheduler=N(Un);errorHandler=N(Mt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ra(...n){}var Tg=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new kp})}return n})(),kp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Fo(n){return{toString:n}.toString()}var Al="__parameters__";function iP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function oP(n,e,t){return Fo(()=>{let r=iP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(Al)?u[Al]:Object.defineProperty(u,Al,{value:[]})[Al];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Bt=Yw(oP("Optional"),8);function sP(n){return typeof n=="function"}var xl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function nD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ql=(()=>{let n=()=>rD;return n.ngInherit=!0,n})();function rD(n){return n.type.prototype.ngOnChanges&&(n.setInput=cP),aP}function aP(){let n=oD(this),e=n?.current;if(e){let t=n.previous;if(t===ui)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function cP(n,e,t,r,i){let o=this.declaredInputs[r],s=oD(n)||uP(n,{previous:ui,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new xl(l&&l.currentValue,t,u===ui),nD(n,e,i,t)}var iD="__ngSimpleChanges__";function oD(n){return n[iD]||null}function uP(n,e){return n[iD]=e}var MT=[];var be=function(n,e=null,t){for(let r=0;r<MT.length;r++){let i=MT[r];i(n,e,t)}};function lP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=rD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function sD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Nl(n,e,t){aD(n,e,3,t)}function Ml(n,e,t,r){(n[Y]&3)===t&&aD(n,e,t,r)}function Dg(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function aD(n,e,t,r){let i=r!==void 0?n[hi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[hi]+=65536),(c<o||o==-1)&&(dP(n,t,e,u),n[hi]=(n[hi]&4294901760)+u+2),u++}function PT(n,e){be(4,n,e);let t=ie(null);try{e.call(n)}finally{ie(t),be(5,n,e)}}function dP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[Y]>>14<n[hi]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,PT(c,o)):PT(c,o)}var xo=-1,Pa=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function hP(n){return(n.flags&8)!==0}function fP(n){return(n.flags&16)!==0}function pP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];mP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function gP(n){return n===3||n===4||n===6}function mP(n){return n.charCodeAt(0)===64}function Yl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?xT(n,t,i,null,e[++r]):xT(n,t,i,null,null))}}return n}function xT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function cD(n){return n!==xo}function kl(n){return n&32767}function yP(n){return n>>16}function Ol(n,e){let t=yP(n),r=e;for(;t>0;)r=r[li],t--;return r}var Ng=!0;function Ll(n){let e=Ng;return Ng=n,e}var vP=256,uD=vP-1,lD=5,_P=0,_n={};function EP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ai)&&(r=t[ai]),r==null&&(r=t[ai]=_P++);let i=r&uD,o=1<<i;e.data[n+(i>>lD)]|=o}function dD(n,e){let t=hD(n,e);if(t!==-1)return t;let r=e[G];r.firstCreatePass&&(n.injectorIndex=e.length,bg(r.data,n),bg(e,null),bg(r.blueprint,null));let i=Kg(n,e),o=n.injectorIndex;if(cD(i)){let s=kl(i),c=Ol(i,e),u=c[G].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function bg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function hD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Kg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=yD(i),r===null)return xo;if(t++,i=i[li],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return xo}function IP(n,e,t){EP(n,e,t)}function fD(n,e,t){if(t&8||n!==void 0)return n;fl(e,"NodeInjector")}function pD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[va],o=pt(void 0);try{return i?i.get(e,r,t&8):zp(e,r,t&8)}finally{pt(o)}}return fD(r,e,t)}function gD(n,e,t,r=0,i){if(n!==null){if(e[Y]&2048&&!(r&2)){let s=CP(n,e,t,r,_n);if(s!==_n)return s}let o=mD(n,e,t,r,_n);if(o!==_n)return o}return pD(e,t,r,i)}function mD(n,e,t,r,i){let o=DP(t);if(typeof o=="function"){if(!yg(e,n,r))return r&1?fD(i,t,r):pD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))fl(t);else return s}finally{vg()}}else if(typeof o=="number"){let s=null,c=hD(n,e),u=xo,l=r&1?e[Nt][gt]:null;for((c===-1||r&4)&&(u=c===-1?Kg(n,e):e[c+8],u===xo||!OT(r,!1)?c=-1:(s=e[G],c=kl(u),e=Ol(u,e)));c!==-1;){let h=e[G];if(kT(o,c,h.data)){let p=wP(c,e,t,s,r,l);if(p!==_n)return p}u=e[c+8],u!==xo&&OT(r,e[G].data[c+8]===l)&&kT(o,c,e)?(s=h,c=kl(u),e=Ol(u,e)):c=-1}}return i}function wP(n,e,t,r,i,o){let s=e[G],c=s.data[n+8],u=r==null?pi(c)&&Ng:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=TP(c,s,t,u,l);return h!==null?Mg(e,s,h,c,i):_n}function TP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let v=p;v<m;v++){let S=s[v];if(v<u&&t===S||v>=u&&S.type===t)return v}if(i){let v=s[u];if(v&&gi(v)&&v.type===t)return u}return null}function Mg(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Pa){let c=o;if(c.resolving){let v=Gw(s[t]);throw Hp(v)}let u=Ll(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],h,p=c.injectImpl?pt(c.injectImpl):null,m=yg(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&lP(t,s[t],e)}finally{p!==null&&pt(p),Ll(u),c.resolving=!1,vg()}}return o}function DP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ai)?n[ai]:void 0;return typeof e=="number"?e>=0?e&uD:bP:e}function kT(n,e,t){let r=1<<n;return!!(t[e+(n>>lD)]&r)}function OT(n,e){return!(n&2)&&!(n&1&&e)}var yi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return gD(this._tNode,this._lView,e,oi(r),t)}};function bP(){return new yi(Ut(),he())}function Zl(n){return Fo(()=>{let e=n.prototype.constructor,t=e[ha]||Pg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ha]||Pg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pg(n){return Lp(n)?()=>{let e=Pg(At(n));return e&&e()}:vr(n)}function CP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!So(s);){let c=mD(o,s,t,r|2,_n);if(c!==_n)return c;let u=o.parent;if(!u){let l=s[Xp];if(l){let h=l.get(t,_n,r);if(h!==_n)return h}u=yD(s),s=s[li]}o=u}return i}function yD(n){let e=n[G],t=e.type;return t===2?e.declTNode:t===1?n[gt]:null}function SP(){return Jl(Ut(),he())}function Jl(n,e){return new Xl($n(n,e))}var Xl=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=SP}return n})();function vD(n){return(n.flags&128)===128}var Qg=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Qg||{}),_D=new Map,AP=0;function RP(){return AP++}function NP(n){_D.set(n[_a],n)}function xg(n){_D.delete(n[_a])}var LT="__ngContext__";function ko(n,e){mn(e)?(n[LT]=e[_a],NP(e)):n[LT]=e}function ED(n){return wD(n[Co])}function ID(n){return wD(n[Gt])}function wD(n){for(;n!==null&&!en(n);)n=n[Gt];return n}var kg;function Yg(n){kg=n}function TD(){if(kg!==void 0)return kg;if(typeof document<"u")return document;throw new V(210,!1)}var ed=new U("",{providedIn:"root",factory:()=>MP}),MP="ng",td=new U(""),Cr=new U("",{providedIn:"platform",factory:()=>"unknown"});var nd=new U("",{providedIn:"root",factory:()=>TD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PP="h",xP="b";var DD=!1,bD=new U("",{providedIn:"root",factory:()=>DD});function rd(n){return(n.flags&32)===32}var kP=()=>null;function CD(n,e,t=!1){return kP(n,e,t)}function SD(n,e){let t=n.contentQueries;if(t!==null){let r=ie(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];mg(o),c.contentQueries(2,e[s],s)}}}finally{ie(r)}}}function Og(n,e,t){mg(0);let r=ie(null);try{e(n,t)}finally{ie(r)}}function Zg(n,e,t){if(eg(e)){let r=ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{ie(r)}}}var Hn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Hn||{});var Fl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cl})`}};function Jg(n){return n instanceof Fl?n.changingThisBreaksApplicationSecurity:n}function AD(n,e){let t=RD(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${cl})`)}return t===e}function RD(n){return n instanceof Fl&&n.getTypeName()||null}var OP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ND(n){return n=String(n),n.match(OP)?n:"unsafe:"+n}var Xg=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Xg||{});function Ii(n){let e=LP();return e?e.sanitize(Xg.URL,n)||"":AD(n,"URL")?Jg(n):ND(ci(n))}function LP(){let n=he();return n&&n[gn].sanitizer}var FP=/^>|^->|<!--|-->|--!>|<!-$/g,VP=/(<|>)/g,jP="\u200B$1\u200B";function UP(n){return n.replace(FP,e=>e.replace(VP,jP))}function MD(n){return n instanceof Function?n():n}function BP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var PD="ng-template";function $P(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&BP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(em(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function em(n){return n.type===4&&n.value!==PD}function HP(n,e,t){let r=n.type===4&&!t?PD:n.value;return e===r}function zP(n,e,t){let r=4,i=n.attrs,o=i!==null?WP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!rn(r)&&!rn(u))return!1;if(s&&rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!HP(n,u,t)||u===""&&e.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!$P(n,i,u,t)){if(rn(r))return!1;s=!0}}else{let l=e[++c],h=qP(u,i,em(n),t);if(h===-1){if(rn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(n){return(n&1)===0}function qP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return KP(e,n)}function xD(n,e,t=!1){for(let r=0;r<e.length;r++)if(zP(n,e[r],t))return!0;return!1}function GP(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function WP(n){for(let e=0;e<n.length;e++){let t=n[e];if(gP(t))return e}return n.length}function KP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function QP(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function FT(n,e){return n?":not("+e.trim()+")":e}function YP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(e+=FT(o,i),i=""),r=s,o=o||!rn(r);t++}return i!==""&&(e+=FT(o,i)),e}function ZP(n){return n.map(YP).join(",")}function JP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!rn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Pt={};function XP(n,e){return n.createText(e)}function ex(n,e,t){n.setValue(e,t)}function tx(n,e){return n.createComment(UP(e))}function kD(n,e,t){return n.createElement(e,t)}function Vl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function OD(n,e,t){n.appendChild(e,t)}function VT(n,e,t,r,i){r!==null?Vl(n,e,t,r,i):OD(n,e,t)}function nx(n,e,t){n.removeChild(null,e,t)}function rx(n,e,t){n.setAttribute(e,"style",t)}function ix(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function LD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&pP(n,e,r),i!==null&&ix(n,e,i),o!==null&&rx(n,e,o)}function tm(n,e,t,r,i,o,s,c,u,l,h){let p=Me+r,m=p+i,v=ox(p,m),S=typeof l=="function"?l():l;return v[G]={type:n,blueprint:v,template:t,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function ox(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Pt);return t}function sx(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=tm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function nm(n,e,t,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[Xt]=i,p[Y]=r|4|128|8|64|1024,(l!==null||n&&n[Y]&2048)&&(p[Y]|=2048),rg(p),p[rt]=p[li]=n,p[mt]=t,p[gn]=s||n&&n[gn],p[ke]=c||n&&n[ke],p[va]=u||n&&n[va]||null,p[gt]=o,p[_a]=RP(),p[bo]=h,p[Xp]=l,p[Nt]=e.type==2?n[Nt]:p,p}function ax(n,e,t){let r=$n(e,n),i=sx(t),o=n[gn].rendererFactory,s=rm(n,nm(n,i,null,FD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function FD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function VD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function rm(n,e){return n[Co]?n[Jp][Gt]=e:n[Co]=e,n[Jp]=e,e}function ge(n=1){jD(jt(),he(),wr()+n,!1)}function jD(n,e,t,r){if(!r)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Nl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ml(e,o,0,t)}Tr(t)}var id=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(id||{});function Lg(n,e,t,r){let i=ie(null);try{let[o,s,c]=n.inputs[t],u=null;(s&id.SignalBased)!==0&&(u=e[o][Dt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):nD(e,u,o,r)}finally{ie(i)}}var En=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(En||{}),cx;function im(n,e){return cx(n,e)}var od=new Set;function Po(n,e,t,r,i,o){if(r!=null){let s,c=!1;en(r)?s=r:mn(r)&&(c=!0,r=r[Xt]);let u=tn(r);n===0&&t!==null?i==null?OD(e,t,u):Vl(e,t,u,i||null,!0):n===1&&t!==null?Vl(e,t,u,i||null,!0):n===2?jT(o,()=>{nx(e,u,c)}):n===3&&jT(o,()=>{e.destroyNode(u)}),s!=null&&_x(e,n,s,t,i)}}function ux(n,e){UD(n,e),e[Xt]=null,e[gt]=null}function lx(n,e,t,r,i,o){r[Xt]=i,r[gt]=e,sd(n,r,t,1,i,o)}function UD(n,e){e[gn].changeDetectionScheduler?.notify(9),sd(n,e,e[ke],2,null,null)}function dx(n){let e=n[Co];if(!e)return Cg(n[G],n);for(;e;){let t=null;if(mn(e))t=e[Co];else{let r=e[vt];r&&(t=r)}if(!t){for(;e&&!e[Gt]&&e!==n;)mn(e)&&Cg(e[G],e),e=e[rt];e===null&&(e=n),mn(e)&&Cg(e[G],e),t=e&&e[Gt]}e=t}}function om(n,e){let t=n[wa],r=t.indexOf(e);t.splice(r,1)}function sm(n,e){if(mi(e))return;let t=e[ke];t.destroyNode&&sd(n,e,t,3,null,null),dx(e)}function Cg(n,e){if(mi(e))return;let t=ie(null);try{e[Y]&=-129,e[Y]|=256,e[Vt]&&sa(e[Vt]),px(n,e),fx(n,e),e[G].type===1&&e[ke].destroy();let r=e[di];if(r!==null&&en(e[rt])){r!==e[rt]&&om(r,e);let i=e[fi];i!==null&&i.detachView(n)}xg(e)}finally{ie(t)}}function jT(n,e){if(n&&n[yt]&&n[yt].leave)if(n[yt].skipLeaveAnimations)n[yt].skipLeaveAnimations=!1;else{let t=n[yt].leave,r=[];for(let i=0;i<t.length;i++){let o=t[i];r.push(o())}n[yt].running=Promise.allSettled(r),n[yt].leave=void 0}hx(n,e)}function hx(n,e){if(n&&n[yt]&&n[yt].running){n[yt].running.then(()=>{n[yt]&&n[yt].running&&(n[yt].running=void 0),od.delete(n),e()});return}e()}function fx(n,e){let t=n.cleanup,r=e[yl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[yl]=null);let i=e[jn];if(i!==null){e[jn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Ea];if(o!==null){e[Ea]=null;for(let s of o)s.destroy()}}function px(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Pa)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];be(4,c,u);try{u.call(c)}finally{be(5,c,u)}}else{be(4,i,o);try{o.call(i)}finally{be(5,i,o)}}}}}function BD(n,e,t){return gx(n,e.parent,t)}function gx(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Xt];if(pi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Hn.None||i===Hn.Emulated)return null}return $n(r,t)}function $D(n,e,t){return yx(n,e,t)}function mx(n,e,t){return n.type&40?$n(n,t):null}var yx=mx,UT;function am(n,e,t,r){let i=BD(n,r,e),o=e[ke],s=r.parent||e[gt],c=$D(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)VT(o,i,t[u],c,!1);else VT(o,i,t,c,!1);UT!==void 0&&UT(o,r,e,t,i)}function Na(n,e){if(e!==null){let t=e.type;if(t&3)return $n(e,n);if(t&4)return Fg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Na(n,r);{let i=n[e.index];return en(i)?Fg(-1,i):tn(i)}}else{if(t&128)return Na(n,e.next);if(t&32)return im(e,n)()||tn(n[e.index]);{let r=HD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_r(n[Nt]);return Na(i,r)}else return Na(n,e.next)}}}return null}function HD(n,e){if(e!==null){let r=n[Nt][gt],i=e.projection;return r.projection[i]}return null}function Fg(n,e){let t=vt+n+1;if(t<e.length){let r=e[t],i=r[G].firstChild;if(i!==null)return Na(r,i)}return e[Ir]}function cm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&ko(tn(c),r),t.flags|=2),!rd(t))if(u&8)cm(n,e,t.child,r,i,o,!1),Po(e,n,i,c,o,r);else if(u&32){let l=im(t,r),h;for(;h=l();)Po(e,n,i,h,o,r);Po(e,n,i,c,o,r)}else u&16?zD(n,e,r,t,i,o):Po(e,n,i,c,o,r);t=s?t.projectionNext:t.next}}function sd(n,e,t,r,i,o){cm(t,r,n.firstChild,e,i,o,!1)}function vx(n,e,t){let r=e[ke],i=BD(n,t,e),o=t.parent||e[gt],s=$D(o,t,e);zD(r,0,e,t,i,s)}function zD(n,e,t,r,i,o){let s=t[Nt],u=s[gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Po(e,n,i,h,o,t)}else{let l=u,h=s[rt];vD(r)&&(l.flags|=128),cm(n,e,l,h,i,o,!0)}}function _x(n,e,t,r,i){let o=t[Ir],s=tn(t);o!==s&&Po(e,n,r,o,i);for(let c=vt;c<t.length;c++){let u=t[c];sd(u[G],u,n,e,r,o)}}function Ex(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:En.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=En.Important),n.setStyle(t,r,i,o))}}function qD(n,e,t,r,i){let o=wr(),s=r&2;try{Tr(-1),s&&e.length>Me&&jD(n,e,Me,!1),be(s?2:0,i,t),t(r,i)}finally{Tr(o),be(s?3:1,i,t)}}function ad(n,e,t){Sx(n,e,t),(t.flags&64)===64&&Ax(n,e,t)}function Fa(n,e,t=$n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function Ix(n,e,t,r){let o=r.get(bD,DD)||t===Hn.ShadowDom,s=n.selectRootElement(e,o);return wx(s),s}function wx(n){Tx(n)}var Tx=()=>null;function Dx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function bx(n,e,t,r,i,o){let s=e[G];if(hm(n,s,e,t,r)){pi(n)&&Cx(e,n.index);return}n.type&3&&(t=Dx(t)),GD(n,e,t,r,i,o)}function GD(n,e,t,r,i,o){if(n.type&3){let s=$n(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Cx(n,e){let t=nn(e,n);t[Y]&16||(t[Y]|=64)}function Sx(n,e,t){let r=t.directiveStart,i=t.directiveEnd;pi(t)&&ax(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||dD(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Mg(e,n,s,t);if(ko(u,e),o!==null&&Nx(e,s-r,u,c,t,o),gi(c)){let l=nn(t.index,e);l[mt]=Mg(e,n,s,t)}}}function Ax(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=IT();try{Tr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Tl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Rx(u,l)}}finally{Tr(-1),Tl(s)}}function Rx(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function um(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];xD(e,o.selectors,!1)&&(r??=[],gi(o)?r.unshift(o):r.push(o))}return r}function Nx(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Lg(r,t,u,l)}}function lm(n,e,t,r,i){let o=Me+t,s=e[G],c=i(s,e,n,r,t);e[o]=c,Ao(n,!0);let u=n.type===2;return u?(LD(e[ke],c,n),(fT()===0||Ta(n))&&ko(c,e),pT()):ko(c,e),Cl()&&(!u||!rd(n))&&am(s,e,c,n),n}function dm(n){let e=n;return dg()?hg():(e=e.parent,Ao(e,!1)),e}function hm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Lg(p,t[l],h,i),c=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Lg(h,l,r,i),c=!0}return c}function Mx(n,e){let t=nn(e,n),r=t[G];Px(r,t);let i=t[Xt];i!==null&&t[bo]===null&&(t[bo]=CD(i,t[va])),be(18),fm(r,t,t[mt]),be(19,t[mt])}function Px(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function fm(n,e,t){Dl(e);try{let r=n.viewQuery;r!==null&&Og(1,r,t);let i=n.template;i!==null&&qD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[fi]?.finishViewCreation(n),n.staticContentQueries&&SD(n,e),n.staticViewQueries&&Og(2,n.viewQuery,t);let o=n.components;o!==null&&xx(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,bl()}}function xx(n,e){for(let t=0;t<e.length;t++)Mx(n,e[t])}function pm(n,e,t,r){let i=ie(null);try{let o=e.tView,c=n[Y]&4096?4096:16,u=nm(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[di]=l;let h=n[fi];return h!==null&&(u[fi]=h.createEmbeddedView(o)),fm(o,u,t),u}finally{ie(i)}}function jl(n,e){return!e||e.firstChild===null||vD(n)}function xa(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(tn(o)),en(o)&&WD(o,r);let s=t.type;if(s&8)xa(n,e,t.child,r);else if(s&32){let c=im(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=HD(e,t);if(Array.isArray(c))r.push(...c);else{let u=_r(e[Nt]);xa(u[G],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function WD(n,e){for(let t=vt;t<n.length;t++){let r=n[t],i=r[G].firstChild;i!==null&&xa(r[G],r,i,e)}n[Ir]!==n[Xt]&&e.push(n[Ir])}function KD(n){if(n[_l]!==null){for(let e of n[_l])e.impl.addSequence(e);n[_l].length=0}}var QD=[];function kx(n){return n[Vt]??Ox(n)}function Ox(n){let e=QD.pop()??Object.create(Fx);return e.lView=n,e}function Lx(n){n.lView[Vt]!==n&&(n.lView=null,QD.push(n))}var Fx=Ee(L({},na),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ca(n.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function Vx(n){let e=n[Vt]??Object.create(jx);return e.lView=n,e}var jx=Ee(L({},na),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=_r(n.lView);for(;e&&!YD(e[G]);)e=_r(e);e&&ig(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function YD(n){return n.type!==2}function ZD(n){if(n[Ea]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ea])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Y]&8192)}}var Ux=100;function JD(n,e=0){let r=n[gn].rendererFactory,i=!1;i||r.begin?.();try{Bx(n,e)}finally{i||r.end?.()}}function Bx(n,e){let t=fg();try{pg(!0),Vg(n,e);let r=0;for(;ba(n);){if(r===Ux)throw new V(103,!1);r++,Vg(n,1)}}finally{pg(t)}}function $x(n,e,t,r){if(mi(e))return;let i=e[Y],o=!1,s=!1;Dl(e);let c=!0,u=null,l=null;o||(YD(n)?(l=kx(e),u=ia(l)):Mu()===null?(c=!1,l=Vx(e),u=ia(l)):e[Vt]&&(sa(e[Vt]),e[Vt]=null));try{rg(e),vT(n.bindingStartIndex),t!==null&&qD(n,e,t,2,r),Hx(e);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&Nl(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Ml(e,v,0,null),Dg(e,0)}if(s||zx(e),ZD(e),XD(e,0),n.contentQueries!==null&&SD(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&Nl(e,v)}else{let v=n.contentHooks;v!==null&&Ml(e,v,1),Dg(e,1)}Gx(n,e);let p=n.components;p!==null&&tb(e,p,0);let m=n.viewQuery;if(m!==null&&Og(2,m,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&Nl(e,v)}else{let v=n.viewHooks;v!==null&&Ml(e,v,2),Dg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[vl]){for(let v of e[vl])v();e[vl]=null}o||(KD(e),e[Y]&=-73)}catch(h){throw o||Ca(e),h}finally{l!==null&&(Pu(l,u),c&&Lx(l)),bl()}}function Hx(n){let e=n[yt];if(e?.enter){for(let t of e.enter)t();e.enter=void 0}}function XD(n,e){for(let t=ED(n);t!==null;t=ID(t))for(let r=vt;r<t.length;r++){let i=t[r];eb(i,e)}}function zx(n){for(let e=ED(n);e!==null;e=ID(e)){if(!(e[Y]&2))continue;let t=e[wa];for(let r=0;r<t.length;r++){let i=t[r];ig(i)}}}function qx(n,e,t){be(18);let r=nn(e,n);eb(r,t),be(19,r[mt])}function eb(n,e){El(n)&&Vg(n,e)}function Vg(n,e){let r=n[G],i=n[Y],o=n[Vt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&oa(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)$x(r,n,r.template,n[mt]);else if(i&8192){let c=ie(null);try{ZD(n),XD(n,1);let u=r.components;u!==null&&tb(n,u,1),KD(n)}finally{ie(c)}}}function tb(n,e,t){for(let r=0;r<e.length;r++)qx(n,e[r],t)}function Gx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Tr(~i);else{let o=i,s=t[++r],c=t[++r];ET(s,o);let u=e[o];be(24,u),c(2,u),be(25,u)}}}finally{Tr(-1)}}function nb(n,e){let t=fg()?64:1088;for(n[gn].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=_r(n);if(So(n)&&!r)return n;n=r}return null}function rb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Wx(n,e){let t=vt+e;if(t<n.length)return n[t]}function gm(n,e,t,r=!0){let i=e[G];if(Qx(i,e,n,t),r){let s=Fg(t,n),c=e[ke],u=c.parentNode(n[Ir]);u!==null&&lx(i,n[gt],c,e,u,s)}let o=e[bo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kx(n,e){let t=Ul(n,e);return t!==void 0&&sm(t[G],t),t}function Ul(n,e){if(n.length<=vt)return;let t=vt+e,r=n[t];if(r){let i=r[di];i!==null&&i!==n&&om(i,r),e>0&&(n[t-1][Gt]=r[Gt]);let o=ga(n,vt+e);ux(r[G],r);let s=o[fi];s!==null&&s.detachView(o[G]),r[rt]=null,r[Gt]=null,r[Y]&=-129}return r}function Qx(n,e,t,r){let i=vt+r,o=t.length;r>0&&(t[i-1][Gt]=e),r<o-vt?(e[Gt]=t[i],qp(t,vt+r,e)):(t.push(e),e[Gt]=null),e[rt]=t;let s=e[di];s!==null&&t!==s&&ib(s,e);let c=e[fi];c!==null&&c.insertView(n),Il(e),e[Y]|=128}function ib(n,e){let t=n[wa],r=e[rt];if(mn(r))n[Y]|=2;else{let i=r[rt][Nt];e[Nt]!==i&&(n[Y]|=2)}t===null?n[wa]=[e]:t.push(e)}var br=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[G];return xa(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[mt]}set context(e){this._lView[mt]=e}get destroyed(){return mi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(en(e)){let t=e[Ia],r=t?t.indexOf(this):-1;r>-1&&(Ul(e,r),ga(t,r))}this._attachedToViewContainer=!1}sm(this._lView[G],this._lView)}onDestroy(e){og(this._lView,e)}markForCheck(){nb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Il(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,JD(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=So(this._lView),t=this._lView[di];t!==null&&!e&&om(t,this._lView),UD(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=So(this._lView),r=this._lView[di];r!==null&&!t&&ib(r,this._lView),Il(this._lView)}};var Va=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Yx;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=pm(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new br(o)}}return n})();function Yx(){return Zx(Ut(),he())}function Zx(n,e){return n.type&4?new Va(e,n,Jl(n,e)):null}function Vo(n,e,t,r,i){let o=n.data[e];if(o===null)o=Jx(n,e,t,r,i),_T()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=gT();o.injectorIndex=s===null?-1:s.injectorIndex}return Ao(o,!0),o}function Jx(n,e,t,r,i){let o=lg(),s=dg(),c=s?o:o&&o.parent,u=n.data[e]=ek(n,c,t,e,r,i);return Xx(n,u,o,s),u}function Xx(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function ek(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return ag()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var P8=new RegExp(`^(\\d+)*(${xP}|${PP})*(.*)`);var tk=()=>null,nk=()=>null;function jg(n,e){return tk(n,e)}function rk(n,e,t){return nk(n,e,t)}var ob=class{},cd=class{},Ug=class{resolveComponentFactory(e){throw new V(917,!1)}},ja=class{static NULL=new Ug},vi=class{},mm=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>ik()}return n})();function ik(){let n=he(),e=Ut(),t=nn(e.index,n);return(mn(t)?t:n)[ke]}var sb=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var Pl={},Bg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Pl,r);return i!==Pl||t===Pl?i:this.parentInjector.get(e,t,r)}};function Bl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=ll(i,c);else if(o==2){let u=c,l=e[++s];r=ll(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function He(n,e=0){let t=he();if(t===null)return q(n,e);let r=Ut();return gD(r,t,At(n),e)}function ab(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}ak(n,e,t,c,o,u,l)}o!==null&&r!==null&&ok(t,r,o)}function ok(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function sk(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ak(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let v=r[m];!u&&gi(v)&&(u=!0,sk(n,t,m)),IP(dD(t,e),n,v.type)}fk(t,n.data.length,c);for(let m=0;m<c;m++){let v=r[m];v.providersResolver&&v.providersResolver(v)}let l=!1,h=!1,p=VD(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let v=r[m];if(t.mergedAttrs=Yl(t.mergedAttrs,v.hostAttrs),uk(n,t,e,p,v),hk(p,v,i),s!==null&&s.has(v)){let[R,A]=s.get(v);t.directiveToIndex.set(v.type,[p,R+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let S=v.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}ck(n,t,o)}function ck(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))BT(0,e,i,r),BT(1,e,i,r),HT(e,r,!1);else{let o=t.get(i);$T(0,e,o,r),$T(1,e,o,r),HT(e,r,!0)}}}function BT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),cb(e,o)}}function $T(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),cb(e,s)}}function cb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function HT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||em(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function uk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=vr(i.type,!0)),s=new Pa(o,gi(i),He,null);n.blueprint[r]=s,t[r]=s,lk(n,e,r,VD(n,t,i.hostVars,Pt),i)}function lk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;dk(s)!=c&&s.push(c),s.push(t,r,o)}}function dk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function hk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;gi(e)&&(t[""]=n)}}function fk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ym(n,e,t,r,i,o,s,c){let u=e[G],l=u.consts,h=yn(l,s),p=Vo(u,n,t,r,h);return o&&ab(u,e,p,yn(l,c),i),p.mergedAttrs=Yl(p.mergedAttrs,p.attrs),p.attrs!==null&&Bl(p,p.attrs,!1),p.mergedAttrs!==null&&Bl(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function vm(n,e){sD(n,e),eg(e)&&n.queries.elementEnd(e)}function pk(n,e,t,r,i,o){let s=e.consts,c=yn(s,i),u=Vo(e,n,t,r,c);if(u.mergedAttrs=Yl(u.mergedAttrs,u.attrs),o!=null){let l=yn(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Bl(u,u.attrs,!1),u.mergedAttrs!==null&&Bl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function _m(n){return lb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function ub(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function lb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function gk(n,e,t){return n[e]=t}function zn(n,e,t){if(t===Pt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function mk(n,e,t,r){let i=zn(n,e,t);return zn(n,e+1,r)||i}var $g=Symbol("BINDING");var $l=class extends ja{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Er(e);return new Oo(t,this.ngModule)}};function yk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&id.SignalBased)!==0};return i&&(o.transform=i),o})}function vk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function _k(n,e,t){let r=e instanceof Be?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Bg(t,r):t}function Ek(n){let e=n.get(vi,null);if(e===null)throw new V(407,!1);let t=n.get(sb,null),r=n.get(Un,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Ik(n,e){let t=db(n);return kD(e,t,t==="svg"?aT:t==="math"?cT:null)}function db(n){return(n.selectors[0][0]||"div").toLowerCase()}var Oo=class extends cd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=yk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=vk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=ZP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){be(22);let c=ie(null);try{let u=this.componentDef,l=wk(r,u,s,o),h=_k(u,i||this.ngModule,e),p=Ek(h),m=p.rendererFactory.createRenderer(null,u),v=r?Ix(m,r,u.encapsulation,h):Ik(u,m),S=s?.some(zT)||o?.some(F=>typeof F!="function"&&F.bindings.some(zT)),R=nm(null,l,null,512|FD(u),null,null,p,m,h,null,CD(v,h,!0));R[Me]=v,Dl(R);let A=null;try{let F=ym(Me,R,2,"#host",()=>l.directiveRegistry,!0,0);v&&(LD(m,v,F),ko(v,R)),ad(l,R,F),Zg(l,F,R),vm(l,F),t!==void 0&&Dk(F,this.ngContentSelectors,t),A=nn(F.index,R),R[mt]=A[mt],fm(l,R,null)}catch(F){throw A!==null&&xg(A),xg(R),F}finally{be(23),bl()}return new Hl(this.componentType,R,!!S)}finally{ie(c)}}};function wk(n,e,t,r){let i=n?["ng-version","20.3.1"]:JP(e.selectors[0]),o=null,s=null,c=0;if(t)for(let h of t)c+=h[$g].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[$g].requiredVars;let v=h+1;m.create&&(m.targetIdx=v,(o??=[]).push(m)),m.update&&(m.targetIdx=v,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Qp(p);u.push(m)}return tm(0,null,Tk(o,s),1,c,u,null,null,null,[i],null)}function Tk(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function zT(n){let e=n[$g].kind;return e==="input"||e==="twoWay"}var Hl=class extends ob{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Da(t[G],Me),this.location=Jl(this._tNode,t),this.instance=nn(this._tNode.index,t)[mt],this.hostView=this.changeDetectorRef=new br(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=hm(r,i[G],i,e,t);this.previousInputValues.set(e,t);let s=nn(r.index,i);nb(s,1)}get injector(){return new yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Dk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var wi=(()=>{class n{static __NG_ELEMENT_ID__=bk}return n})();function bk(){let n=Ut();return Sk(n,he())}var Ck=wi,hb=class extends Ck{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new yi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Kg(this._hostTNode,this._hostLView);if(cD(e)){let t=Ol(e,this._hostLView),r=kl(e),i=t[G].data[r+8];return new yi(i,t)}else return new yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=qT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=jg(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,jl(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!sP(e),l;if(u)l=t;else{let A=t||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,c=A.bindings}let h=u?e:new Oo(Er(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let F=(u?p:this.parentInjector).get(Be,null);F&&(o=F)}let m=Er(h.componentType??{}),v=jg(this._lContainer,m?.id??null),S=v?.firstChild??null,R=h.create(p,i,S,o,s,c);return this.insertImpl(R.hostView,l,jl(this._hostTNode,v)),R}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(lT(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[rt],l=new hb(u,u[gt],u[rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return gm(s,i,o,r),e.attachToViewContainerRef(),qp(Sg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=qT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ul(this._lContainer,t);r&&(ga(Sg(this._lContainer),t),sm(r[G],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ul(this._lContainer,t);return r&&ga(Sg(this._lContainer),t)!=null?new br(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function qT(n){return n[Ia]}function Sg(n){return n[Ia]||(n[Ia]=[])}function Sk(n,e){let t,r=e[n.index];return en(r)?t=r:(t=rb(r,e,null,n),e[n.index]=t,rm(e,t)),Rk(t,e,n,r),new hb(t,n,e)}function Ak(n,e){let t=n[ke],r=t.createComment(""),i=$n(e,n),o=t.parentNode(i);return Vl(t,o,r,t.nextSibling(i),!1),r}var Rk=Pk,Nk=()=>!1;function Mk(n,e,t){return Nk(n,e,t)}function Pk(n,e,t,r){if(n[Ir])return;let i;t.type&8?i=tn(r):i=Ak(e,t),n[Ir]=i}var GT=new Set;function Ti(n){GT.has(n)||(GT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var _i=class{},ud=class{};var zl=class extends _i{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new $l(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Kp(e);this._bootstrapComponents=MD(o.bootstrap),this._r3Injector=Eg(e,t,[{provide:_i,useValue:this},{provide:ja,useValue:this.componentFactoryResolver},...r],yr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ql=class extends ud{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new zl(this.moduleType,e,[])}};var ka=class extends _i{injector;componentFactoryResolver=new $l(this);instance=null;constructor(e){super();let t=new si([...e.providers,{provide:_i,useValue:this},{provide:ja,useValue:this.componentFactoryResolver}],e.parent||ya(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ua(n,e,t=null){return new ka({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var xk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Yp(!1,t.type),i=r.length>0?Ua([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(q(Be))})}return n})();function Et(n){return Fo(()=>{let e=fb(n),t=Ee(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Qg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(xk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Hn.Emulated,styles:n.styles||Rt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Ti("NgStandalone"),pb(t);let r=n.dependencies;return t.directiveDefs=WT(r,kk),t.pipeDefs=WT(r,Xw),t.id=Fk(t),t})}function kk(n){return Er(n)||Qp(n)}function Ba(n){return Fo(()=>({type:n.type,bootstrap:n.bootstrap||Rt,declarations:n.declarations||Rt,imports:n.imports||Rt,exports:n.exports||Rt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ok(n,e){if(n==null)return ui;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=id.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function Lk(n){if(n==null)return ui;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Di(n){return Fo(()=>{let e=fb(n);return pb(e),e})}function Em(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function fb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ui,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Rt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Ok(n.inputs,e),outputs:Lk(n.outputs),debugInfo:null}}function pb(n){n.features?.forEach(e=>e(n))}function WT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Fk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gb(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Yl(n.mergedAttrs,n.attrs);let h=n.tView=tm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),Ao(n,!1);let u=jk(t,e,n,r);Cl()&&am(t,e,u,n),ko(u,e);let l=rb(u,e,u,n);e[r+Me]=l,rm(e,l),Mk(l,n,e)}function Vk(n,e,t,r,i,o,s,c,u,l,h){let p=t+Me,m;return e.firstCreatePass?(m=Vo(e,p,4,s||null,c||null),wl()&&ab(e,n,m,yn(e.consts,l),um),sD(e,m)):m=e.data[p],gb(m,n,e,t,r,i,o,u),Ta(m)&&ad(e,n,m),l!=null&&Fa(n,m,h),m}function Im(n,e,t,r,i,o,s,c,u,l,h){let p=t+Me,m;if(e.firstCreatePass){if(m=Vo(e,p,4,s||null,c||null),l!=null){let v=yn(e.consts,l);m.localNames=[];for(let S=0;S<v.length;S+=2)m.localNames.push(v[S],-1)}}else m=e.data[p];return gb(m,n,e,t,r,i,o,u),l!=null&&Fa(n,m,h),m}function Sr(n,e,t,r,i,o,s,c){let u=he(),l=jt(),h=yn(l.consts,o);return Vk(u,l,n,e,t,r,i,h,void 0,s,c),Sr}var jk=Uk;function Uk(n,e,t,r){return Sa(!0),e[ke].createComment("")}var wm=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(wm||{}),$a=new U(""),mb=!1,Hg=class extends tt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,oT()&&(this.destroyRef=N(Dr,{optional:!0})??void 0,this.pendingTasks=N(vn,{optional:!0})??void 0)}emit(e){let t=ie(null);try{super.next(e)}finally{ie(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_t=Hg;function yb(n){let e,t;function r(){n=Ra;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function KT(n){return queueMicrotask(()=>n()),()=>{n=Ra}}var Tm="isAngularZone",Gl=Tm+"_ID",Bk=0,_e=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _t(!1);onMicrotaskEmpty=new _t(!1);onStable=new _t(!1);onError=new _t(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=mb}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,zk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Tm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,$k,Ra,Ra);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},$k={};function Dm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){yb(()=>{n.callbackScheduled=!1,zg(n),n.isCheckStableRunning=!0,Dm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),zg(n)}function zk(n){let e=()=>{Hk(n)},t=Bk++;n._inner=n._inner.fork({name:"angular",properties:{[Tm]:!0,[Gl]:t,[Gl+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(qk(u))return r.invokeTask(o,s,c,u);try{return QT(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),YT(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return QT(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Gk(u)&&e(),YT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,zg(n),Dm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function zg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function QT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function YT(n){n._nesting--,Dm(n)}var Oa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _t;onMicrotaskEmpty=new _t;onStable=new _t;onError=new _t;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function qk(n){return vb(n,"__ignore_ng_zone__")}function Gk(n){return vb(n,"__scheduler_tick__")}function vb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var _b=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})();var bm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Cm=new U("");function bi(n){return!!n&&typeof n.then=="function"}function ld(n){return!!n&&typeof n.subscribe=="function"}var dd=new U("");var Sm=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(dd,{optional:!0})??[];injector=N(We);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=$e(this.injector,i);if(bi(o))t.push(o);else if(ld(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hd=new U("");function Eb(){sp(()=>{let n="";throw new V(600,n)})}function Ib(n){return n.isBoundToModule}var Wk=10;var Ci=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Mt);afterRenderManager=N(_b);zonelessEnabled=N(Aa);rootEffectScheduler=N(Tg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new tt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(vn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ee(t=>!t))}constructor(){N($a,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(Be);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=We.NULL){return this._injector.get(_e).run(()=>{be(10);let s=t instanceof cd;if(!this._injector.get(Sm).done){let S="";throw new V(405,S)}let u;s?u=t:u=this._injector.get(ja).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=Ib(u)?void 0:this._injector.get(_i),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,v=p.injector.get(Cm,null);return v?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Ma(this.components,p),v?.unregisterApplication(m)}),this._loadComponent(p),be(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(wm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=ie(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ie(t),this.afterTick.next(),be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(vi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Wk;)be(14),this.synchronizeOnce(),be(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ba(i))continue;let o=r&&!this.zonelessEnabled?0:1;JD(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ba(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ma(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(hd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ma(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ma(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var j8=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function jo(n,e,t,r,i,o,s,c){Ti("NgControlFlow");let u=he(),l=jt(),h=yn(l.consts,o);return Im(u,l,n,e,t,r,i,h,256,s,c),Am}function Am(n,e,t,r,i,o,s,c){Ti("NgControlFlow");let u=he(),l=jt(),h=yn(l.consts,o);return Im(u,l,n,e,t,r,i,h,512,s,c),Am}function Uo(n,e){Ti("NgControlFlow");let t=he(),r=Ro(),i=t[r]!==Pt?t[r]:-1,o=i!==-1?ZT(t,Me+i):void 0,s=0;if(zn(t,r,n)){let c=ie(null);try{if(o!==void 0&&Kx(o,s),n!==-1){let u=Me+n,l=ZT(t,u),h=Kk(t[G],u),p=rk(l,h,t),m=pm(t,h,e,{dehydratedView:p});gm(l,m,s,jl(h,p))}}finally{ie(c)}}else if(o!==void 0){let c=Wx(o,s);c!==void 0&&(c[mt]=e)}}function ZT(n,e){return n[e]}function Kk(n,e){return Da(n,e)}function Te(n,e,t){let r=he(),i=Ro();if(zn(r,i,e)){let o=jt(),s=_g();bx(s,r,n,e,r[ke],t)}return Te}function qg(n,e,t,r,i){hm(e,n,t,i?"class":"style",r)}function $(n,e,t,r){let i=he(),o=i[G],s=n+Me,c=o.firstCreatePass?ym(s,i,2,e,um,wl(),t,r):o.data[s];if(lm(c,i,n,e,wb),Ta(c)){let u=i[G];ad(u,i,c),Zg(u,c,i)}return r!=null&&Fa(i,c),$}function W(){let n=jt(),e=Ut(),t=dm(e);return n.firstCreatePass&&vm(n,t),cg(t)&&ug(),sg(),t.classesWithoutHost!=null&&hP(t)&&qg(n,t,he(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&fP(t)&&qg(n,t,he(),t.stylesWithoutHost,!1),W}function Qe(n,e,t,r){return $(n,e,t,r),W(),Qe}function Ha(n,e,t,r){let i=he(),o=i[G],s=n+Me,c=o.firstCreatePass?pk(s,o,2,e,t,r):o.data[s];return lm(c,i,n,e,wb),r!=null&&Fa(i,c),Ha}function za(){let n=Ut(),e=dm(n);return cg(e)&&ug(),sg(),za}var wb=(n,e,t,r,i)=>(Sa(!0),kD(e[ke],r,ST()));function Si(n,e,t){let r=he(),i=r[G],o=n+Me,s=i.firstCreatePass?ym(o,r,8,"ng-container",um,wl(),e,t):i.data[o];if(lm(s,r,n,"ng-container",Qk),Ta(s)){let c=r[G];ad(c,r,s),Zg(c,s,r)}return t!=null&&Fa(r,s),Si}function Ai(){let n=jt(),e=Ut(),t=dm(e);return n.firstCreatePass&&vm(n,t),Ai}var Qk=(n,e,t,r,i)=>(Sa(!0),tx(e[ke],""));function fd(n,e,t){let r=he(),i=Ro();if(zn(r,i,e)){let o=jt(),s=_g();GD(s,r,n,e,r[ke],t)}return fd}var qa="en-US";var Yk=qa;function Tb(n){typeof n=="string"&&(Yk=n.toLowerCase().replace(/_/g,"-"))}function Ri(n=1){return CT(n)}function Zk(n,e){let t=null,r=GP(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?xD(n,o,!0):QP(r,o))return i}return t}function Rm(n){let e=he()[Nt][gt];if(!e.projection){let t=n?n.length:1,r=e.projection=Zw(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?Zk(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Nm(n,e=0,t,r,i,o){let s=he(),c=jt(),u=r?n+1:null;u!==null&&Im(s,c,u,r,i,o,null,t);let l=Vo(c,Me+n,16,null,t||null);l.projection===null&&(l.projection=e),hg();let p=!s[bo]||ag();s[Nt][gt].projection[l.projection]===null&&u!==null?Jk(s,c,u):p&&!rd(l)&&vx(c,s,l)}function Jk(n,e,t){let r=Me+t,i=e.data[r],o=n[r],s=jg(o,i.tView.ssrId),c=pm(n,i,void 0,{dehydratedView:s});gm(o,c,0,jl(i,s))}function Rl(n,e){return n<<17|e<<2}function Ei(n){return n>>17&32767}function Xk(n){return(n&2)==2}function eO(n,e){return n&131071|e<<17}function Gg(n){return n|2}function Lo(n){return(n&131068)>>2}function Ag(n,e){return n&-131069|e<<2}function tO(n){return(n&1)===1}function Wg(n){return n|1}function nO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Ei(s),u=Lo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Do(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Ei(n[c+1]);n[r+1]=Rl(m,c),m!==0&&(n[m+1]=Ag(n[m+1],r)),n[c+1]=eO(n[c+1],r)}else n[r+1]=Rl(c,0),c!==0&&(n[c+1]=Ag(n[c+1],r)),c=r;else n[r+1]=Rl(u,0),c===0?c=r:n[u+1]=Ag(n[u+1],r),u=r;l&&(n[r+1]=Gg(n[r+1])),JT(n,h,r,!0),JT(n,h,r,!1),rO(e,h,n,r,o),s=Rl(c,u),o?e.classBindings=s:e.styleBindings=s}function rO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Do(o,e)>=0&&(t[r+1]=Wg(t[r+1]))}function JT(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ei(i):Lo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],l=n[s+1];iO(u,e)&&(c=!0,n[s+1]=r?Wg(l):Gg(l)),s=r?Ei(l):Lo(l)}c&&(n[t+1]=r?Gg(i):Wg(i))}function iO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Do(n,e)>=0:!1}var on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oO(n){return n.substring(on.key,on.keyEnd)}function sO(n){return aO(n),Db(n,bb(n,0,on.textEnd))}function Db(n,e){let t=on.textEnd;return t===e?-1:(e=on.keyEnd=cO(n,on.key=e,t),bb(n,e,t))}function aO(n){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=n.length}function bb(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function cO(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Mm(n){lO(yO,uO,n,!0)}function uO(n,e){for(let t=sO(e);t>=0;t=Db(e,t))gl(n,oO(e),!0)}function lO(n,e,t,r){let i=jt(),o=gg(2);i.firstUpdatePass&&dO(i,null,o,r);let s=he();if(t!==Pt&&zn(s,o,t)){let c=i.data[wr()];if(Sb(c,r)&&!Cb(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(t=ll(u,t||"")),qg(i,c,s,t,r)}else vO(i,c,s,s[ke],s[o+1],s[o+1]=mO(n,e,t),r,o)}}function Cb(n,e){return e>=n.expandoStartIndex}function dO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[wr()],s=Cb(n,t);Sb(o,r)&&e===null&&!s&&(e=!1),e=hO(i,o,e,r),nO(i,o,e,t,s,r)}}function hO(n,e,t,r){let i=wT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Rg(null,n,e,t,r),t=La(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Rg(i,n,e,t,r),o===null){let u=fO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Rg(null,n,e,u[1],r),u=La(u,e.attrs,r),pO(n,e,r,u))}else o=gO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function fO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Lo(r)!==0)return n[Ei(r)]}function pO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ei(i)]=r}function gO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=La(r,s,t)}return La(r,e.attrs,t)}function Rg(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=La(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function La(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),gl(n,s,t?!0:e[++o]))}return n===void 0?null:n}function mO(n,e,t){if(t==null||t==="")return Rt;let r=[],i=Jg(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function yO(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&gl(n,r,t)}function vO(n,e,t,r,i,o,s,c){i===Pt&&(i=Rt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,v=l<o.length?o[l+1]:void 0,S=null,R;h===p?(u+=2,l+=2,m!==v&&(S=p,R=v)):p===null||h!==null&&h<p?(u+=2,S=h):(l+=2,S=p,R=v),S!==null&&_O(n,e,t,r,S,R,s,c),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function _O(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],h=tO(l)?XT(u,e,t,i,Lo(l),s):void 0;if(!Wl(h)){Wl(o)||Xk(l)&&(o=XT(u,null,t,i,c,s));let p=tg(wr(),t);Ex(r,s,p,i,o)}}function XT(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Pt&&(m=p?Rt:void 0);let v=p?ml(m,r):h===r?m:void 0;if(l&&!Wl(v)&&(v=ml(u,r)),Wl(v)&&(c=v,s))return c;let S=n[i+1];i=s?Ei(S):Lo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=ml(u,r))}return c}function Wl(n){return n!==void 0}function Sb(n,e){return(n.flags&(e?8:16))!==0}function re(n,e=""){let t=he(),r=jt(),i=n+Me,o=r.firstCreatePass?Vo(r,i,1,e,null):r.data[i],s=EO(r,t,o,e,n);t[i]=s,Cl()&&am(r,t,s,o),Ao(o,!1)}var EO=(n,e,t,r,i)=>(Sa(!0),XP(e[ke],r));function Ab(n,e,t,r=""){return zn(n,Ro(),t)?e+ci(t)+r:Pt}function IO(n,e,t,r,i,o=""){let s=yT(),c=mk(n,s,t,i);return gg(2),c?e+ci(t)+r+ci(i)+o:Pt}function In(n){return Ga("",n),In}function Ga(n,e,t){let r=he(),i=Ab(r,n,e,t);return i!==Pt&&Rb(r,wr(),i),Ga}function pd(n,e,t,r,i){let o=he(),s=IO(o,n,e,t,r,i);return s!==Pt&&Rb(o,wr(),s),pd}function Rb(n,e,t){let r=tg(e,n);ex(n[ke],r,t)}function Pm(n){return zn(he(),Ro(),n)?ci(n):Pt}function gd(n,e,t=""){return Ab(he(),n,e,t)}function wO(n,e){let t=n[e];return t===Pt?void 0:t}function TO(n,e,t,r,i,o){let s=e+t;return zn(n,s,i)?gk(n,s+1,o?r.call(o,i):r(i)):wO(n,s+1)}function Wa(n,e){let t=jt(),r,i=n+Me;t.firstCreatePass?(r=DO(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=vr(r.type,!0)),s,c=pt(He);try{let u=Ll(!1),l=o();return Ll(u),ng(t,he(),i,l),l}finally{pt(c)}}function DO(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ka(n,e,t){let r=n+Me,i=he(),o=uT(i,r);return bO(i,r)?TO(i,mT(),e,o.transform,t,o):o.transform(t)}function bO(n,e){return n[G].data[e].pure}var Kl=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},xm=(()=>{class n{compileModuleSync(t){return new ql(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Kp(t),o=MD(i.declarations).reduce((s,c)=>{let u=Er(c);return u&&s.push(new Oo(u)),s},[]);return new Kl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var CO=(()=>{class n{zone=N(_e);changeDetectionScheduler=N(Un);applicationRef=N(Ci);applicationErrorHandler=N(Mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(Ee(L({},Mb()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:Bn,multi:!0,useFactory:()=>{let r=N(CO,{optional:!0});return()=>r.initialize()}},{provide:Bn,multi:!0,useFactory:()=>{let r=N(SO);return()=>{r.initialize()}}},e===!0?{provide:wg,useValue:!0}:[],{provide:Sl,useValue:t??mb},{provide:Mt,useFactory:()=>{let r=N(_e),i=N(Be),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(pn),o.handleError(s))})}}}]}function Mb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var SO=(()=>{class n{subscription=new Ne;initialized=!1;zone=N(_e);pendingTasks=N(vn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var km=(()=>{class n{applicationErrorHandler=N(Mt);appRef=N(Ci);taskService=N(vn);ngZone=N(_e);zonelessEnabled=N(Aa);tracing=N($a,{optional:!0});disableScheduling=N(wg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Sl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Oa||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?KT:yb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,KT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Om(){return Ti("NgZoneless"),Ft([{provide:Un,useExisting:km},{provide:_e,useClass:Oa},{provide:Aa,useValue:!0},{provide:Sl,useValue:!1},[]])}function AO(){return typeof $localize<"u"&&$localize.locale||qa}var md=new U("",{providedIn:"root",factory:()=>N(md,{optional:!0,skipSelf:!0})||AO()});function sn(n){return $w(n)}var Pb=class{[Dt];constructor(e){this[Dt]=e}destroy(){this[Dt].destroy()}};var Lb=Symbol("InputSignalNode#UNSET"),qO=Ee(L({},xu),{transformFn:void 0,applyValueToInputSignal(n,e){oo(n,e)}});function Fb(n,e){let t=Object.create(qO);t.value=n,t.transformFn=e?.transform;function r(){if(ra(t),t.value===Lb){let i=null;throw new V(-950,i)}return t.value}return r[Dt]=t,r}var GO=new U("");GO.__NG_ELEMENT_ID__=n=>{let e=Ut();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function xb(n,e){return Fb(n,e)}function WO(n){return Fb(Lb,n)}var Vb=(xb.required=WO,xb);var Lm=new U(""),KO=new U("");function Qa(n){return!n.moduleRef}function QO(n){let e=Qa(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{Qa(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Mt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Qa(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Lm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Lm);s.add(o),n.moduleRef.onDestroy(()=>{Ma(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return ZO(r,t,()=>{let o=e.get(vn),s=o.add(),c=e.get(Sm);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(md,qa);if(Tb(u||qa),!e.get(KO,!0))return Qa(n)?e.get(Ci):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Qa(n)){let h=e.get(Ci);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return YO?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var YO;function ZO(n,e,t){try{let r=t();return bi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var yd=null;function JO(n=[],e){return We.create({name:e,providers:[{provide:ma,useValue:"platform"},{provide:Lm,useValue:new Set([()=>yd=null])},...n]})}function XO(n=[]){if(yd)return yd;let e=JO(n);return yd=e,Eb(),e1(e),e}function e1(n){let e=n.get(td,null);$e(n,()=>{e?.forEach(t=>t())})}function Bm(){return!1}var $o=(()=>{class n{static __NG_ELEMENT_ID__=t1}return n})();function t1(n){return n1(Ut(),he(),(n&16)===16)}function n1(n,e,t){if(pi(n)&&!t){let r=nn(n.index,e);return new br(r,r)}else if(n.type&175){let r=e[Nt];return new br(r,e)}return null}var Fm=class{constructor(){}supports(e){return _m(e)}create(e){return new Vm(e)}},r1=(n,e)=>e,Vm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||r1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<kb(r,i,o)?t:r,c=kb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,S=v+m;h<=S&&S<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!_m(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,ub(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new jm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new vd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Um=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},vd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Um,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Ob(){return new $m([new Fm])}var $m=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:Ob});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||Ob())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function jb(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;be(8);try{let o=i?.injector??XO(r),s=[Nb({}),{provide:Un,useExisting:km},RT,...t||[]],c=new ka({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return QO({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{be(9)}}var $b=null;function qn(){return $b}function Hm(n){$b??=n}var Ya=class{},zm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(Hb),providedIn:"platform"})}return n})();var Hb=(()=>{class n extends zm{_location;_history;_doc=N(Ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qn().getBaseHref(this._doc)}onPopState(t){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function zb(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Ub(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ar(n){return n&&n[0]!=="?"?`?${n}`:n}var _d=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(Gb),providedIn:"root"})}return n})(),qb=new U(""),Gb=(()=>{class n extends _d{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zb(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ar(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(q(zm),q(qb,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ho=(()=>{class n{_subject=new tt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=s1(Ub(Bb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ar(r))}normalize(t){return n.stripTrailingSlash(o1(this._basePath,Bb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ar(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ar(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ar;static joinWithSlash=zb;static stripTrailingSlash=Ub;static \u0275fac=function(r){return new(r||n)(q(_d))};static \u0275prov=j({token:n,factory:()=>i1(),providedIn:"root"})}return n})();function i1(){return new Ho(q(_d))}function o1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Bb(n){return n.replace(/\/index.html$/,"")}function s1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var qm=/\s+/,Wb=[],Km=(()=>{class n{_ngEl;_renderer;initialClasses=Wb;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(qm):Wb}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(qm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(qm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(He(Xl),He(mm))};static \u0275dir=Di({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ed=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zo=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ed(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),Kb(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Kb(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(He(wi),He(Va),He($m))};static \u0275dir=Di({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Kb(n,e){n.context.$implicit=e.item}var Qm=(()=>{class n{_viewContainer;_context=new Id;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Qb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Qb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(He(wi),He(Va))};static \u0275dir=Di({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Id=class{$implicit=null;ngIf=null};function Qb(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}function a1(n,e){return new V(2100,!1)}var Gm=class{createSubscription(e,t,r){return sn(()=>e.subscribe({next:t,error:r}))}dispose(e){sn(()=>e.unsubscribe())}},Wm=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},c1=new Wm,u1=new Gm,Za=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=N(Mt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(bi(t))return c1;if(ld(t))return u1;throw a1(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(He($o,16))};static \u0275pipe=Em({name:"async",type:n,pure:!1})}return n})();var wn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ba({type:n});static \u0275inj=To({})}return n})();function Ym(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ja=class{};var Yb="browser";var Td=new U(""),ny=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(q(Td),q(_e))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Xa=class{_doc;constructor(e){this._doc=e}manager},Jm="ng-app-id";function Zb(n){for(let e of n)e.remove()}function Jb(n,e){let t=e.createElement("style");return t.textContent=n,t}function l1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Jm}="${e}"],link[${Jm}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Jm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ey(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ry=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,l1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Jb);r?.forEach(i=>this.addUsage(i,this.external,ey))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Zb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Zb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Jb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ey(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(q(Ke),q(ed),q(nd,8),q(Cr))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Xm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},iy=/%COMP%/g;var eC="%COMP%",d1=`_nghost-${eC}`,h1=`_ngcontent-${eC}`,f1=!0,p1=new U("",{providedIn:"root",factory:()=>f1});function g1(n){return h1.replace(iy,n)}function m1(n){return d1.replace(iy,n)}function tC(n,e){return e.map(t=>t.replace(iy,n))}var oy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new ec(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof wd?i.applyToHost(t):i instanceof tc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Hn.Emulated:o=new wd(u,l,r,this.appId,h,s,c,p,m);break;case Hn.ShadowDom:return new ty(u,l,t,r,s,c,this.nonce,p,m);default:o=new tc(u,l,r,h,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(q(ny),q(ry),q(ed),q(p1),q(Ke),q(Cr),q(_e),q(nd),q($a,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),ec=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Xm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Xb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Xm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Xm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(t,r,i&En.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&En.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=qn().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Xb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ty=class extends ec{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=tC(i.id,h);for(let m of h){let v=document.createElement("style");c&&v.setAttribute("nonce",c),v.textContent=m,this.shadowRoot.appendChild(v)}let p=i.getExternalStyles?.();if(p)for(let m of p){let v=ey(m,o);c&&v.setAttribute("nonce",c),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tc=class extends ec{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?tC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&od.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wd=class extends tc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,c,u,l,h),this.contentAttr=g1(h),this.hostAttr=m1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Dd=class n extends Ya{supportsDOMEvents=!0;static makeCurrent(){Hm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=y1();return t==null?null:v1(t)}resetBaseElement(){nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ym(document.cookie,e)}},nc=null;function y1(){return nc=nc||document.head.querySelector("base"),nc?nc.getAttribute("href"):null}function v1(n){return new URL(n,document.baseURI).pathname}var _1=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),rC=(()=>{class n extends Xa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(q(Ke))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),nC=["alt","control","meta","shift"],E1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},iC=(()=>{class n extends Xa{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qn().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),nC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=E1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),nC.forEach(s=>{if(s!==i){let c=I1[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(q(Ke))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function sy(n,e,t){let r=L({rootComponent:n,platformRef:t?.platformRef},w1(e));return jb(r)}function w1(n){return{appProviders:[...S1,...n?.providers??[]],platformProviders:C1}}function T1(){Dd.makeCurrent()}function D1(){return new pn}function b1(){return Yg(document),document}var C1=[{provide:Cr,useValue:Yb},{provide:td,useValue:T1,multi:!0},{provide:Ke,useFactory:b1}];var S1=[{provide:ma,useValue:"root"},{provide:pn,useFactory:D1},{provide:Td,useClass:rC,multi:!0,deps:[Ke]},{provide:Td,useClass:iC,multi:!0,deps:[Ke]},oy,ry,ny,{provide:vi,useExisting:oy},{provide:Ja,useClass:_1},[]];var oC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(q(Ke))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z="primary",yc=Symbol("RouteTitle"),dy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Pi(n){return new dy(n)}function fC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function R1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tn(n[t],e[t]))return!1;return!0}function Tn(n,e){let t=n?hy(n):void 0,r=e?hy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!pC(n[i],e[i]))return!1;return!0}function hy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function gC(n){return n.length>0?n[n.length-1]:null}function Kn(n){return Ip(n)?n:bi(n)?Se(Promise.resolve(n)):z(n)}var N1={exact:yC,subset:vC},mC={exact:M1,subset:P1,ignored:()=>!0};function sC(n,e,t){return N1[t.paths](n.root,e.root,t.matrixParams)&&mC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function M1(n,e){return Tn(n,e)}function yC(n,e,t){if(!Ni(n.segments,e.segments)||!Sd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!yC(n.children[r],e.children[r],t))return!1;return!0}function P1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>pC(n[t],e[t]))}function vC(n,e,t){return _C(n,e,e.segments,t)}function _C(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ni(i,t)||e.hasChildren()||!Sd(i,t,r))}else if(n.segments.length===t.length){if(!Ni(n.segments,t)||!Sd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!vC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ni(n.segments,i)||!Sd(n.segments,i,r)||!n.children[Z]?!1:_C(n.children[Z],e,o,r)}}function Sd(n,e,t){return e.every((r,i)=>mC[t](n[i].parameters,r.parameters))}var bn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Pi(this.queryParams),this._queryParamMap}toString(){return O1.serialize(this)}},me=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ad(this)}},Rr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Pi(this.parameters),this._parameterMap}toString(){return IC(this)}};function x1(n,e){return Ni(n,e)&&n.every((t,r)=>Tn(t.parameters,e[r].parameters))}function Ni(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function k1(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Z&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Z&&(t=t.concat(e(i,r)))}),t}var vc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new xi,providedIn:"root"})}return n})(),xi=class{parse(e){let t=new py(e);return new bn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${rc(e.root,!0)}`,r=V1(e.queryParams),i=typeof e.fragment=="string"?`#${L1(e.fragment)}`:"";return`${t}${r}${i}`}},O1=new xi;function Ad(n){return n.segments.map(e=>IC(e)).join("/")}function rc(n,e){if(!n.hasChildren())return Ad(n);if(e){let t=n.children[Z]?rc(n.children[Z],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${rc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=k1(n,(r,i)=>i===Z?[rc(n.children[Z],!1)]:[`${i}:${rc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${Ad(n)}/${t[0]}`:`${Ad(n)}/(${t.join("//")})`}}function EC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bd(n){return EC(n).replace(/%3B/gi,";")}function L1(n){return encodeURI(n)}function fy(n){return EC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rd(n){return decodeURIComponent(n)}function aC(n){return Rd(n.replace(/\+/g,"%20"))}function IC(n){return`${fy(n.path)}${F1(n.parameters)}`}function F1(n){return Object.entries(n).map(([e,t])=>`;${fy(e)}=${fy(t)}`).join("")}function V1(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${bd(t)}=${bd(i)}`).join("&"):`${bd(t)}=${bd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var j1=/^[^\/()?;#]+/;function ay(n){let e=n.match(j1);return e?e[0]:""}var U1=/^[^\/()?;=#]+/;function B1(n){let e=n.match(U1);return e?e[0]:""}var $1=/^[^=?&#]+/;function H1(n){let e=n.match($1);return e?e[0]:""}var z1=/^[^&#]+/;function q1(n){let e=n.match(z1);return e?e[0]:""}var py=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Z]=new me(e,t)),r}parseSegment(){let e=ay(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Rr(Rd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=B1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ay(this.remaining);i&&(r=i,this.capture(r))}e[Rd(t)]=Rd(r)}parseQueryParam(e){let t=H1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=q1(this.remaining);s&&(r=s,this.capture(r))}let i=aC(t),o=aC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ay(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Z]:new me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function wC(n){return n.segments.length>0?new me([],{[Z]:n}):n}function TC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=TC(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new me(n.segments,e);return G1(t)}function G1(n){if(n.numberOfChildren===1&&n.children[Z]){let e=n.children[Z];return new me(n.segments.concat(e.segments),e.children)}return n}function Qo(n){return n instanceof bn}function DC(n,e,t=null,r=null){let i=bC(n);return CC(i,e,t,r)}function bC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new me(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=wC(r);return e??i}function CC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return cy(i,i,i,t,r);let o=W1(e);if(o.toRoot())return cy(i,i,new me([],{}),t,r);let s=K1(o,i,n),c=s.processChildren?oc(s.segmentGroup,s.index,o.commands):AC(s.segmentGroup,s.index,o.commands);return cy(i,s.segmentGroup,c,t,r)}function Nd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function cc(n){return typeof n=="object"&&n!=null&&n.outlets}function cy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=SC(n,e,t);let c=wC(TC(s));return new bn(c,o,i)}function SC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=SC(o,e,t)}),new me(n.segments,r)}var Md=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Nd(r[0]))throw new V(4003,!1);let i=r.find(cc);if(i&&i!==gC(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function W1(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Md(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Md(t,e,r)}var Wo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function K1(n,e,t){if(n.isAbsolute)return new Wo(e,!0,0);if(!t)return new Wo(e,!1,NaN);if(t.parent===null)return new Wo(t,!0,0);let r=Nd(n.commands[0])?0:1,i=t.segments.length-1+r;return Q1(t,i,n.numberOfDoubleDots)}function Q1(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Wo(r,!1,i-o)}function Y1(n){return cc(n[0])?n[0].outlets:{[Z]:n}}function AC(n,e,t){if(n??=new me([],{}),n.segments.length===0&&n.hasChildren())return oc(n,e,t);let r=Z1(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new me(n.segments.slice(0,r.pathIndex),{});return o.children[Z]=new me(n.segments.slice(r.pathIndex),n.children),oc(o,0,i)}else return r.match&&i.length===0?new me(n.segments,{}):r.match&&!n.hasChildren()?gy(n,e,t):r.match?oc(n,0,i):gy(n,e,t)}function oc(n,e,t){if(t.length===0)return new me(n.segments,{});{let r=Y1(t),i={};if(Object.keys(r).some(o=>o!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let o=oc(n.children[Z],e,t);return new me(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=AC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(n.segments,i)}}function Z1(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(cc(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!uC(u,l,s))return o;r+=2}else{if(!uC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function gy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(cc(o)){let u=J1(o.outlets);return new me(r,u)}if(i===0&&Nd(t[0])){let u=n.segments[e];r.push(new Rr(u.path,cC(t[0]))),i++;continue}let s=cc(o)?o.outlets[Z]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Nd(c)?(r.push(new Rr(s,cC(c))),i+=2):(r.push(new Rr(s,{})),i++)}return new me(r,{})}function J1(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=gy(new me([],{}),0,r))}),e}function cC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function uC(n,e,t){return n==t.path&&Tn(e,t.parameters)}var sc="imperative",Ye=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ye||{}),Ht=class{id;url;constructor(e,t){this.id=e,this.url=t}},ki=class extends Ht{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gn=class extends Ht{urlAfterRedirects;type=Ye.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(wt||{}),uc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(uc||{}),Dn=class extends Ht{reason;code;type=Ye.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wn=class extends Ht{reason;code;type=Ye.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Yo=class extends Ht{error;target;type=Ye.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lc=class extends Ht{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pd=class extends Ht{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xd=class extends Ht{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kd=class extends Ht{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Od=class extends Ht{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ld=class{route;type=Ye.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fd=class{route;type=Ye.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vd=class{snapshot;type=Ye.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{snapshot;type=Ye.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ud=class{snapshot;type=Ye.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bd=class{snapshot;type=Ye.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var dc=class{},Zo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function X1(n){return!(n instanceof dc)&&!(n instanceof Zo)}function eL(n,e){return n.providers&&!n._injector&&(n._injector=Ua(n.providers,e,`Route: ${n.path}`)),n._injector??e}function an(n){return n.outlet||Z}function tL(n,e){let t=n.filter(r=>an(r)===e);return t.push(...n.filter(r=>an(r)!==e)),t}function es(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var $d=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return es(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ts(this.rootInjector)}},ts=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $d(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(q(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=my(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=my(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=yy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yy(e,this._root).map(t=>t.value)}};function my(n,e){if(n===e.value)return e;for(let t of e.children){let r=my(n,t);if(r)return r}return null}function yy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=yy(n,t);if(r.length)return r.unshift(e),r}return[]}var $t=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Go(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var hc=class extends Hd{snapshot;constructor(e,t){super(e),this.snapshot=t,by(this,e)}toString(){return this.snapshot.toString()}};function RC(n){let e=nL(n),t=new nt([new Rr("",{})]),r=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),c=new Nr(t,r,o,s,i,Z,n,e.root);return c.snapshot=e.root,new hc(new $t(c,[]),e)}function nL(n){let e={},t={},r={},o=new Mi([],e,r,"",t,Z,n,null,{});return new fc("",new $t(o,[]))}var Nr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[yc]))??z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Pi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Pi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&MC(i)&&(r.resolve[yc]=i.title),r}var Mi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[yc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fc=class extends Hd{url;constructor(e,t){super(t),this.url=e,by(this,t)}toString(){return NC(this._root)}};function by(n,e){e.value._routerState=n,e.children.forEach(t=>by(n,t))}function NC(n){let e=n.children.length>0?` { ${n.children.map(NC).join(", ")} } `:"";return`${n.value}${e}`}function uy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Tn(e.params,t.params)||n.paramsSubject.next(t.params),R1(e.url,t.url)||n.urlSubject.next(t.url),Tn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vy(n,e){let t=Tn(n.params,e.params)&&x1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||vy(n.parent,e.parent))}function MC(n){return typeof n.title=="string"||n.title===null}var PC=new U(""),_c=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new _t;deactivateEvents=new _t;attachEvents=new _t;detachEvents=new _t;routerOutletData=Vb(void 0);parentContexts=N(ts);location=N(wi);changeDetector=N($o);inputBinder=N(Kd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new _y(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Di({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ql]})}return n})(),_y=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Nr?this.route:e===ts?this.childContexts:e===PC?this.outletData:this.parent.get(e,t)}},Kd=new U("");var Cy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Et({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Qe(0,"router-outlet")},dependencies:[_c],encapsulation:2})}return n})();function Sy(n){let e=n.children&&n.children.map(Sy),t=e?Ee(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=Cy),t}function rL(n,e,t){let r=pc(n,e._root,t?t._root:void 0);return new hc(r,e)}function pc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=iL(n,e,t);return new $t(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>pc(n,c)),s}}let r=oL(e.value),i=e.children.map(o=>pc(n,o));return new $t(r,i)}}function iL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pc(n,r,i);return pc(n,r)})}function oL(n){return new Nr(new nt(n.url),new nt(n.params),new nt(n.queryParams),new nt(n.fragment),new nt(n.data),n.outlet,n.component,n)}var Jo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},xC="ngNavigationCancelingError";function qd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Qo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kC(!1,wt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function kC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[xC]=!0,t.cancellationCode=e,t}function sL(n){return OC(n)&&Qo(n.url)}function OC(n){return!!n&&n[xC]}var aL=(n,e,t,r)=>ee(i=>(new Ey(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ey=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Go(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Go(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Go(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Go(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Bd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(uy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),uy(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Gd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ko=class{component;route;constructor(e,t){this.component=e,this.route=t}};function cL(n,e,t){let r=n._root,i=e?e._root:null;return ic(r,i,t,[r.value])}function uL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ns(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Fp(n)?n:e.get(n):r}function ic(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Go(e);return n.children.forEach(s=>{lL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ac(c,t.getContext(s),i)),i}function lL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=dL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ic(n,e,c?c.children:null,r,i):ic(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Ko(c.outlet.component,s))}else s&&ac(e,c,i),i.canActivateChecks.push(new Gd(r)),o.component?ic(n,null,c?c.children:null,r,i):ic(n,null,t,r,i);return i}function dL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ni(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ni(n.url,e.url)||!Tn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vy(n,e)||!Tn(n.queryParams,e.queryParams);case"paramsChange":default:return!vy(n,e)}}function ac(n,e,t){let r=Go(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ac(s,e.children.getContext(o),t):ac(s,null,t):ac(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ko(e.outlet.component,i)):t.canDeactivateChecks.push(new Ko(null,i)):t.canDeactivateChecks.push(new Ko(null,i))}function Ec(n){return typeof n=="function"}function hL(n){return typeof n=="boolean"}function fL(n){return n&&Ec(n.canLoad)}function pL(n){return n&&Ec(n.canActivate)}function gL(n){return n&&Ec(n.canActivateChild)}function mL(n){return n&&Ec(n.canDeactivate)}function yL(n){return n&&Ec(n.canMatch)}function LC(n){return n instanceof Ln||n?.name==="EmptyError"}var Cd=Symbol("INITIAL_VALUE");function Xo(){return St(n=>Xu(n.map(e=>e.pipe(Fn(1),nl(Cd)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===Cd)return Cd;if(t===!1||vL(t))return t}return!0}),Lt(e=>e!==Cd),Fn(1)))}function vL(n){return Qo(n)||n instanceof Jo}function _L(n,e){return Ue(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?z(Ee(L({},t),{guardsResult:!0})):EL(s,r,i,n).pipe(Ue(c=>c&&hL(c)?IL(r,o,n,e):z(c)),ee(c=>Ee(L({},t),{guardsResult:c})))})}function EL(n,e,t,r){return Se(n).pipe(Ue(i=>CL(i.component,i.route,t,e,r)),Vn(i=>i!==!0,!0))}function IL(n,e,t,r){return Se(e).pipe(_o(i=>vo(TL(i.route.parent,r),wL(i.route,r),bL(n,i.path,t),DL(n,i.route,t))),Vn(i=>i!==!0,!0))}function wL(n,e){return n!==null&&e&&e(new Ud(n)),z(!0)}function TL(n,e){return n!==null&&e&&e(new Vd(n)),z(!0)}function DL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>ua(()=>{let s=es(e)??t,c=ns(o,s),u=pL(c)?c.canActivate(e,n):$e(s,()=>c(e,n));return Kn(u).pipe(Vn())}));return z(i).pipe(Xo())}function bL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>uL(s)).filter(s=>s!==null).map(s=>ua(()=>{let c=s.guards.map(u=>{let l=es(s.node)??t,h=ns(u,l),p=gL(h)?h.canActivateChild(r,n):$e(l,()=>h(r,n));return Kn(p).pipe(Vn())});return z(c).pipe(Xo())}));return z(o).pipe(Xo())}function CL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(c=>{let u=es(e)??i,l=ns(c,u),h=mL(l)?l.canDeactivate(n,e,t,r):$e(u,()=>l(n,e,t,r));return Kn(h).pipe(Vn())});return z(s).pipe(Xo())}function SL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let c=ns(s,n),u=fL(c)?c.canLoad(e,t):$e(n,()=>c(e,t));return Kn(u)});return z(o).pipe(Xo(),FC(r))}function FC(n){return Vu(Ge(e=>{if(typeof e!="boolean")throw qd(n,e)}),ee(e=>e===!0))}function AL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let c=ns(s,n),u=yL(c)?c.canMatch(e,t):$e(n,()=>c(e,t));return Kn(u)});return z(o).pipe(Xo(),FC(r))}var gc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},mc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function qo(n){return yo(new gc(n))}function RL(n){return yo(new V(4e3,!1))}function NL(n){return yo(kC(!1,wt.GuardRejected))}var Iy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[Z])return RL(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,t,r,i,o){return ML(t,i,o).pipe(ee(s=>{if(s instanceof bn)throw new mc(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new mc(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new bn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new me(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function ML(n,e,t){if(typeof n=="string")return z(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:h,title:p}=e;return Kn($e(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var wy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PL(n,e,t,r,i){let o=VC(n,e,t);return o.matched?(r=eL(e,r),AL(r,e,t,i).pipe(ee(s=>s===!0?o:L({},wy)))):z(o)}function VC(n,e,t){if(e.path==="**")return xL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},wy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||fC)(t,n,e);if(!i)return L({},wy);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function xL(n){return{matched:!0,parameters:n.length>0?gC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function lC(n,e,t,r){return t.length>0&&LL(n,t,r)?{segmentGroup:new me(e,OL(r,new me(t,n.children))),slicedSegments:[]}:t.length===0&&FL(n,t,r)?{segmentGroup:new me(n.segments,kL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new me(n.segments,n.children),slicedSegments:t}}function kL(n,e,t,r){let i={};for(let o of t)if(Qd(n,e,o)&&!r[an(o)]){let s=new me([],{});i[an(o)]=s}return L(L({},r),i)}function OL(n,e){let t={};t[Z]=e;for(let r of n)if(r.path===""&&an(r)!==Z){let i=new me([],{});t[an(r)]=i}return t}function LL(n,e,t){return t.some(r=>Qd(n,e,r)&&an(r)!==Z)}function FL(n,e,t){return t.some(r=>Qd(n,e,r))}function Qd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function VL(n,e,t){return e.length===0&&!n.children[t]}var Ty=class{};function jL(n,e,t,r,i,o,s="emptyOnly"){return new Dy(n,e,t,r,i,s,o).recognize()}var UL=31,Dy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Iy(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=lC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new $t(r,t),o=new fc("",i),s=DC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Mi([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,t).pipe(ee(r=>({children:r,rootSnapshot:t})),gr(r=>{if(r instanceof mc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof $t?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(_o(s=>{let c=r.children[s],u=tL(t,s);return this.processSegmentGroup(e,u,c,s,i)}),tl((s,c)=>(s.push(...c),s)),mr(null),wp(),Ue(s=>{if(s===null)return qo(r);let c=jC(s);return BL(c),z(c)}))}processSegment(e,t,r,i,o,s,c){return Se(t).pipe(_o(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(gr(l=>{if(l instanceof gc)return z(null);throw l}))),Vn(u=>!!u),gr(u=>{if(LC(u))return VL(r,i,o)?z(new Ty):qo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return an(r)!==s&&(s===Z||!Qd(i,o,r))?qo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):qo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=VC(t,i,o);if(!u)return qo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UL&&(this.allowRedirects=!1));let v=new Mi(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,dC(i),an(i),i.component??i._loadedComponent??null,i,hC(i)),S=zd(v,c,this.paramsInheritanceStrategy);return v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e).pipe(St(A=>this.applyRedirects.lineralizeSegments(i,A)),Ue(A=>this.processSegment(e,r,t,A.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=PL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(St(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new Mi(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,dC(r),an(r),r.component??r._loadedComponent??null,r,hC(r)),R=zd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data);let{segmentGroup:A,slicedSegments:F}=lC(t,m,v,l);if(F.length===0&&A.hasChildren())return this.processChildren(h,l,A,S).pipe(ee(X=>new $t(S,X)));if(l.length===0&&F.length===0)return z(new $t(S,[]));let te=an(r)===o;return this.processSegment(h,l,A,F,te?Z:o,!0,S).pipe(ee(X=>new $t(S,X instanceof $t?[X]:[])))}))):qo(t)))}getChildConfig(e,t,r){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):SL(e,t,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,t).pipe(Ge(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):NL(t))):z({routes:[],injector:e})}};function BL(n){n.sort((e,t)=>e.value.outlet===Z?-1:t.value.outlet===Z?1:e.value.outlet.localeCompare(t.value.outlet))}function $L(n){let e=n.value.routeConfig;return e&&e.path===""}function jC(n){let e=[],t=new Set;for(let r of n){if(!$L(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=jC(r.children);e.push(new $t(r.value,i))}return e.filter(r=>!t.has(r))}function dC(n){return n.data||{}}function hC(n){return n.resolve||{}}function HL(n,e,t,r,i,o){return Ue(s=>jL(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:c,tree:u})=>Ee(L({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function zL(n,e){return Ue(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of UC(u))s.add(l);let c=0;return Se(s).pipe(_o(u=>o.has(u)?qL(u,r,n,e):(u.data=zd(u,u.parent,n).resolve,z(void 0))),Ge(()=>c++),Eo(1),Ue(u=>c===s.size?z(t):bt))})}function UC(n){let e=n.children.map(t=>UC(t)).flat();return[n,...e]}function qL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!MC(i)&&(o[yc]=i.title),ua(()=>(n.data=zd(n,n.parent,t).resolve,GL(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=L(L({},n.data),s),null)))))}function GL(n,e,t,r){let i=hy(n);if(i.length===0)return z({});let o={};return Se(i).pipe(Ue(s=>WL(n[s],e,t,r).pipe(Vn(),Ge(c=>{if(c instanceof Jo)throw qd(new xi,c);o[s]=c}))),Eo(1),ee(()=>o),gr(s=>LC(s)?bt:yo(s)))}function WL(n,e,t,r){let i=es(e)??r,o=ns(n,i),s=o.resolve?o.resolve(e,t):$e(i,()=>o(e,t));return Kn(s)}function ly(n){return St(e=>{let t=n(e);return t?Se(t).pipe(ee(()=>e)):z(e)})}var Ay=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(t){return t.data[yc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(BC),providedIn:"root"})}return n})(),BC=(()=>{class n extends Ay{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(q(oC))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ic=new U("",{providedIn:"root",factory:()=>({})}),wc=new U(""),$C=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(xm);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Kn($e(t,()=>r.loadComponent())).pipe(ee(zC),St(qC),Ge(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),la(()=>{this.componentLoaders.delete(r)})),o=new fo(i,()=>new tt).pipe(ho());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=HC(r,this.compiler,t,this.onLoadEndListener).pipe(la(()=>{this.childrenLoaders.delete(r)})),s=new fo(o,()=>new tt).pipe(ho());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HC(n,e,t,r){return Kn($e(t,()=>n.loadChildren())).pipe(ee(zC),St(qC),Ue(i=>i instanceof ud||Array.isArray(i)?z(i):Se(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(wc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sy),injector:o}}))}function KL(n){return n&&typeof n=="object"&&"default"in n}function zC(n){return KL(n)?n.default:n}function qC(n){return z(n)}var Yd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(QL),providedIn:"root"})}return n})(),QL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GC=new U("");var WC=new U(""),KC=(()=>{class n{currentNavigation=No(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new tt;transitionAbortWithErrorSubject=new tt;configLoader=N($C);environmentInjector=N(Be);destroyRef=N(Dr);urlSerializer=N(vc);rootContexts=N(ts);location=N(Ho);inputBindingEnabled=N(Kd,{optional:!0})!==null;titleStrategy=N(Ay);options=N(Ic,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Yd);createViewTransition=N(GC,{optional:!0});navigationErrorHandler=N(WC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Ld(i)),r=i=>this.events.next(new Fd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;sn(()=>{this.transitions?.next(Ee(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new nt(null),this.transitions.pipe(Lt(r=>r!==null),St(r=>{let i=!1;return z(r).pipe(St(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),bt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new Wn(o.id,this.urlSerializer.serialize(o.rawUrl),"",uc.IgnoredSameUrlNavigation)),o.resolve(!1),bt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return z(o).pipe(St(u=>(this.events.next(new ki(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?bt:Promise.resolve(u))),HL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new lc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,v=new ki(u,this.urlSerializer.serialize(l),h,p);this.events.next(v);let S=RC(this.rootComponentType).snapshot;return this.currentTransition=r=Ee(L({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:Ee(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=l,R)),z(r)}else return this.events.next(new Wn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",uc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),bt}),Ge(o=>{let s=new Pd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ee(o=>(this.currentTransition=r=Ee(L({},o),{guards:cL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),_L(this.environmentInjector,o=>this.events.next(o)),Ge(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw qd(this.urlSerializer,o.guardsResult);let s=new xd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Lt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",wt.GuardRejected),!1)),ly(o=>{if(o.guards.canActivateChecks.length!==0)return z(o).pipe(Ge(s=>{let c=new kd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),St(s=>{let c=!1;return z(s).pipe(zL(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",wt.NoDataFromResolver)}}))}),Ge(s=>{let c=new Od(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),ly(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let l=es(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(Ge(h=>{c.component=h}),ee(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return Xu(s(o.targetSnapshot.root)).pipe(mr(null),Fn(1))}),ly(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Se(c).pipe(ee(()=>r)):z(r)}),ee(o=>{let s=rL(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Ee(L({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),Ge(()=>{this.events.next(new dc)}),aL(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Fn(1),rl(new ne(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(Lt(()=>!i&&!r.targetRouterState),Ge(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",wt.Aborted)}))),Ge({next:o=>{i=!0,this.lastSuccessfulNavigation=sn(this.currentNavigation),this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),rl(this.transitionAbortWithErrorSubject.pipe(Ge(o=>{throw o}))),la(()=>{i||this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),gr(o=>{if(this.destroyed)return r.resolve(!1),bt;if(i=!0,OC(o))this.events.next(new Dn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),sL(o)?this.events.next(new Zo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Yo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=$e(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof Jo){let{message:u,cancellationCode:l}=qd(this.urlSerializer,c);this.events.next(new Dn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Zo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return bt}))}))}cancelNavigationTransition(t,r,i){let o=new Dn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=sn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YL(n){return n!==sc}var QC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(ZL),providedIn:"root"})}return n})(),Wd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},ZL=(()=>{class n extends Wd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zl(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YC=(()=>{class n{urlSerializer=N(vc);options=N(Ic,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Ho);urlHandlingStrategy=N(Yd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new bn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof bn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=RC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(JL),providedIn:"root"})}return n})(),JL=(()=>{class n extends YC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ki?this.updateStateMemento():t instanceof Wn?this.commitTransition(r):t instanceof lc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof dc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Dn&&t.code!==wt.SupersededByNewNavigation&&t.code!==wt.Redirect?this.restoreHistory(r):t instanceof Yo?this.restoreHistory(r,!0):t instanceof Gn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zl(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ry(n,e){n.events.pipe(Lt(t=>t instanceof Gn||t instanceof Dn||t instanceof Yo||t instanceof Wn),ee(t=>t instanceof Gn||t instanceof Wn?0:(t instanceof Dn?t.code===wt.Redirect||t.code===wt.SupersededByNewNavigation:!1)?2:1),Lt(t=>t!==2),Fn(1)).subscribe(()=>{e()})}var XL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zd=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(bm);stateManager=N(YC);options=N(Ic,{optional:!0})||{};pendingTasks=N(vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(KC);urlSerializer=N(vc);location=N(Ho);urlHandlingStrategy=N(Yd);injector=N(Be);_events=new tt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(QC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(wc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Kd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=sn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Dn&&r.code!==wt.Redirect&&r.code!==wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gn)this.navigated=!0;else if(r instanceof Zo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||YL(i.source)},s);this.scheduleNavigation(c,sc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}X1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(Mt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return sn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Sy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=bC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return CC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Qo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,sc,null,r)}navigate(t,r={skipLocationChange:!1}){return tF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},XL):r===!1?i=L({},eF):i=r,Qo(t))return sC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return sC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return Ry(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var rF=new U("");function Ny(n,...e){return Ft([{provide:wc,multi:!0,useValue:n},[],{provide:Nr,useFactory:iF,deps:[Zd]},{provide:hd,multi:!0,useFactory:oF},e.map(t=>t.\u0275providers)])}function iF(n){return n.routerState.root}function oF(){let n=N(We);return e=>{let t=n.get(Ci);if(e!==t.components[0])return;let r=n.get(Zd),i=n.get(sF);n.get(aF)===1&&r.initialNavigation(),n.get(cF,null,{optional:!0})?.setUpPreloading(),n.get(rF,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sF=new U("",{factory:()=>new tt}),aF=new U("",{providedIn:"root",factory:()=>1});var cF=new U("");var ZC=()=>{};var eS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Jd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(t[h],t[p],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(eS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Py;let m=o<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Py=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dF=function(n){let e=eS(n);return Jd.encodeByteArray(e,!0)},Dc=function(n){return dF(n).replace(/\./g,"")},Xd=function(n){try{return Jd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ky(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var hF=()=>ky().__FIREBASE_DEFAULTS__,fF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Xd(n[1]);return e&&JSON.parse(e)},eh=()=>{try{return ZC()||hF()||fF()||pF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Oy=n=>{var e,t;return(t=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},tS=n=>{let e=Oy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ly=()=>{var n;return(n=eh())===null||n===void 0?void 0:n.config},Fy=n=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${n}`]};var Oi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Mr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function th(n){return(await fetch(n,{credentials:"include"})).ok}function nS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dc(JSON.stringify(t)),Dc(JSON.stringify(s)),""].join(".")}var Tc={};function gF(){let n={prod:[],emulator:[]};for(let e of Object.keys(Tc))Tc[e]?n.emulator.push(e):n.prod.push(e);return n}function mF(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var JC=!1;function nh(n,e){if(typeof window>"u"||typeof document>"u"||!Mr(window.location.host)||Tc[n]===e||Tc[n]||JC)return;Tc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=gF().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{JC=!0,s()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=mF(r),v=t("text"),S=document.getElementById(v)||document.createElement("span"),R=t("learnmore"),A=document.getElementById(R)||document.createElement("a"),F=t("preprendIcon"),te=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let X=m.element;c(X),h(A,R);let Ie=l();u(te,F),X.append(te,S,A,Ie),document.body.appendChild(X)}o?(S.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function yF(){var n;let e=(n=eh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aS(){let n=Ze();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cS(){return!yF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bc(){try{return typeof indexedDB=="object"}catch{return!1}}function uS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var vF="FirebaseError",zt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vF,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cn.prototype.create)}},cn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_F(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new zt(i,c,r)}};function _F(n,e){return n.replace(EF,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var EF=/\{\$([^}]+)}/g;function lS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(XC(o)&&XC(s)){if(!Cn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function XC(n){return n!==null&&typeof n=="object"}function Cc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dS(n,e){let t=new xy(n,e);return t.subscribe.bind(t)}var xy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");IF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=My),i.error===void 0&&(i.error=My),i.complete===void 0&&(i.complete=My);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function IF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function My(){}var RX=14400*1e3;function xt(n){return n&&n._delegate?n._delegate:n}var Tt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Li="[DEFAULT]";var Vy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Oi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TF(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wF(n){return n===Li?void 0:n}function TF(n){return n.instantiationMode==="EAGER"}var rh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Vy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var DF=[],se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(se||{}),bF={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},CF=se.INFO,SF={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},AF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=SF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sn=class{constructor(e){this.name=e,this._logLevel=CF,this._logHandler=AF,this._userLogHandler=null,DF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var RF=(n,e)=>e.some(t=>n instanceof t),hS,fS;function NF(){return hS||(hS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MF(){return fS||(fS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pS=new WeakMap,Uy=new WeakMap,gS=new WeakMap,jy=new WeakMap,$y=new WeakMap;function PF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(An(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&pS.set(t,n)}).catch(()=>{}),$y.set(e,n),e}function xF(n){if(Uy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Uy.set(n,e)}var By={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Uy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||gS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return An(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mS(n){By=n(By)}function kF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ih(this),e,...t);return gS.set(r,e.sort?e.sort():[e]),An(r)}:MF().includes(n)?function(...e){return n.apply(ih(this),e),An(pS.get(this))}:function(...e){return An(n.apply(ih(this),e))}}function OF(n){return typeof n=="function"?kF(n):(n instanceof IDBTransaction&&xF(n),RF(n,NF())?new Proxy(n,By):n)}function An(n){if(n instanceof IDBRequest)return PF(n);if(jy.has(n))return jy.get(n);let e=OF(n);return e!==n&&(jy.set(n,e),$y.set(e,n)),e}var ih=n=>$y.get(n);function vS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=An(s);return r&&s.addEventListener("upgradeneeded",u=>{r(An(s.result),u.oldVersion,u.newVersion,An(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var LF=["get","getKey","getAll","getAllKeys","count"],FF=["put","add","delete","clear"],Hy=new Map;function yS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hy.get(e))return Hy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=FF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LF.includes(t)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[t](...c),i&&u.done]))[0]};return Hy.set(e,o),o}mS(n=>Ee(L({},n),{get:(e,t,r)=>yS(e,t)||n.get(e,t,r),has:(e,t)=>!!yS(e,t)||n.has(e,t)}));var qy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function VF(n){let e=n.getComponent();return e?.type==="VERSION"}var Gy="@firebase/app",_S="0.13.2";var Qn=new Sn("@firebase/app"),jF="@firebase/app-compat",UF="@firebase/analytics-compat",BF="@firebase/analytics",$F="@firebase/app-check-compat",HF="@firebase/app-check",zF="@firebase/auth",qF="@firebase/auth-compat",GF="@firebase/database",WF="@firebase/data-connect",KF="@firebase/database-compat",QF="@firebase/functions",YF="@firebase/functions-compat",ZF="@firebase/installations",JF="@firebase/installations-compat",XF="@firebase/messaging",eV="@firebase/messaging-compat",tV="@firebase/performance",nV="@firebase/performance-compat",rV="@firebase/remote-config",iV="@firebase/remote-config-compat",oV="@firebase/storage",sV="@firebase/storage-compat",aV="@firebase/firestore",cV="@firebase/ai",uV="@firebase/firestore-compat",lV="firebase",dV="11.10.0";var Wy="[DEFAULT]",hV={[Gy]:"fire-core",[jF]:"fire-core-compat",[BF]:"fire-analytics",[UF]:"fire-analytics-compat",[HF]:"fire-app-check",[$F]:"fire-app-check-compat",[zF]:"fire-auth",[qF]:"fire-auth-compat",[GF]:"fire-rtdb",[WF]:"fire-data-connect",[KF]:"fire-rtdb-compat",[QF]:"fire-fn",[YF]:"fire-fn-compat",[ZF]:"fire-iid",[JF]:"fire-iid-compat",[XF]:"fire-fcm",[eV]:"fire-fcm-compat",[tV]:"fire-perf",[nV]:"fire-perf-compat",[rV]:"fire-rc",[iV]:"fire-rc-compat",[oV]:"fire-gcs",[sV]:"fire-gcs-compat",[aV]:"fire-fst",[uV]:"fire-fst-compat",[cV]:"fire-vertex","fire-js":"fire-js",[lV]:"fire-js-all"};var Sc=new Map,fV=new Map,Ky=new Map;function ES(n,e){try{n.container.addComponent(e)}catch(t){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function un(n){let e=n.name;if(Ky.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;Ky.set(e,n);for(let t of Sc.values())ES(t,n);for(let t of fV.values())ES(t,n);return!0}function rs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wt(n){return n==null?!1:n.settings!==void 0}var pV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new cn("app","Firebase",pV);var Qy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}};var xr=dV;function Jy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Wy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Pr.create("bad-app-name",{appName:String(i)});if(t||(t=Ly()),!t)throw Pr.create("no-options");let o=Sc.get(i);if(o){if(Cn(t,o.options)&&Cn(r,o.config))return o;throw Pr.create("duplicate-app",{appName:i})}let s=new rh(i);for(let u of Ky.values())s.addComponent(u);let c=new Qy(t,r,s);return Sc.set(i,c),c}function Fi(n=Wy){let e=Sc.get(n);if(!e&&n===Wy&&Ly())return Jy();if(!e)throw Pr.create("no-app",{appName:n});return e}function oh(){return Array.from(Sc.values())}function Pe(n,e,t){var r;let i=(r=hV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(c.join(" "));return}un(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gV="firebase-heartbeat-database",mV=1,Ac="firebase-heartbeat-store",zy=null;function DS(){return zy||(zy=vS(gV,mV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ac)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pr.create("idb-open",{originalErrorMessage:n.message})})),zy}async function yV(n){try{let t=(await DS()).transaction(Ac),r=await t.objectStore(Ac).get(bS(n));return await t.done,r}catch(e){if(e instanceof zt)Qn.warn(e.message);else{let t=Pr.create("idb-get",{originalErrorMessage:e?.message});Qn.warn(t.message)}}}async function IS(n,e){try{let r=(await DS()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(e,bS(n)),await r.done}catch(t){if(t instanceof zt)Qn.warn(t.message);else{let r=Pr.create("idb-set",{originalErrorMessage:t?.message});Qn.warn(r.message)}}}function bS(n){return`${n.name}!${n.options.appId}`}var vV=1024,_V=30,Yy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Zy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>_V){let s=IV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=wS(),{heartbeatsToSend:r,unsentEntries:i}=EV(this._heartbeatsCache.heartbeats),o=Dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qn.warn(t),""}}};function wS(){return new Date().toISOString().substring(0,10)}function EV(n,e=vV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),TS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),TS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Zy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bc()?uS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await yV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function TS(n){return Dc(JSON.stringify({version:2,heartbeats:n})).length}function IV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function wV(n){un(new Tt("platform-logger",e=>new qy(e),"PRIVATE")),un(new Tt("heartbeat",e=>new Yy(e),"PRIVATE")),Pe(Gy,_S,n),Pe(Gy,_S,"esm2017"),Pe("fire-js","")}wV("");var TV="firebase",DV="11.10.0";Pe(TV,DV,"app");function CS(n){n===void 0&&(n=N(We));let e=n.get(Mo);return t=>new ne(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var kr=new wo("ANGULARFIRE2_VERSION");function Rc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var os=(n,e)=>{let t=e?[e]:oh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},is=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(is||{}),SS=Bm()&&typeof Zone<"u"?is.WARN:is.SILENT;var sh=class{zone;delegate;constructor(e,t=_p){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Or=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(_e);this.outsideAngular=t.runOutsideAngular(()=>new sh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new sh(typeof Zone>"u"?void 0:Zone.current,vp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AS=!1;function bV(n,e){!AS&&(SS>is.SILENT||Bm())&&(AS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),SS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function CV(n){let e=N(_e,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Vi(n){let e=N(_e,{optional:!0});return e?e.run(()=>n()):n()}var SV=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),$e(t,()=>Vi(()=>n.apply(void 0,r)))),Kt=(n,e,t)=>(t||=e?is.WARN:is.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=N(Or),s=N(Mo),c=N(Be)}catch{return bV(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Vi(()=>s.add())),i[l]=SV(i[l],r,c));let u=CV(()=>n.apply(this,i));return e?u instanceof ne?u.pipe(pr(o.outsideAngular),fr(o.insideAngular),CS(c)):u instanceof Promise?Vi(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>$e(c,()=>Vi(()=>h(m))),m=>$e(c,()=>Vi(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Vi(()=>u):u instanceof ne?u.pipe(pr(o.outsideAngular),fr(o.insideAngular)):Vi(()=>u)});var Yn=class{constructor(e){return e}},ji=class{constructor(){return oh()}};function AV(n){return n&&n.length===1?n[0]:new Yn(Fi())}var Xy=new U("angularfire2._apps"),RV={provide:Yn,useFactory:AV,deps:[[new Bt,Xy]]},NV={provide:ji,deps:[[new Bt,Xy]]};function MV(n){return(e,t)=>{let r=t.get(Cr);Pe("angularfire",kr.full,"core"),Pe("angularfire",kr.full,"app"),Pe("angular",Op.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Yn(i)}}function RS(n,...e){return Ft([RV,NV,{provide:Xy,useFactory:MV(n),multi:!0,deps:[_e,We,Or,...e]}])}var NS=Kt(Jy,!0);var PV=new Map,xV={activated:!1,tokenObservers:[]},kV={initialized:!1,enabled:!1};function ln(n){return PV.get(n)||Object.assign({},xV)}function kS(){return kV}var OV="https://content-firebaseappcheck.googleapis.com/v1";var LV="exchangeDebugToken",MS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Ree=1440*60*1e3;var nv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Oi,this.pending.promise.catch(t=>{}),await FV(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Oi,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function FV(n){return new Promise(e=>{setTimeout(e,n)})}var VV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Lr=new cn("appCheck","AppCheck",VV);function OS(n){if(!ln(n).activated)throw Lr.create("use-before-activation",{appName:n.name})}async function LS({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw Lr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Lr.create("fetch-status-error",{httpStatus:s.status});let c;try{c=await s.json()}catch(p){throw Lr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function FS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${OV}/projects/${t}/apps/${r}:${LV}?key=${i}`,body:{debug_token:e}}}var jV="firebase-app-check-database",UV=1,rv="firebase-app-check-store";var ah=null;function BV(){return ah||(ah=new Promise((n,e)=>{try{let t=indexedDB.open(jV,UV);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Lr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(rv,{keyPath:"compositeKey"})}}}catch(t){e(Lr.create("storage-open",{originalErrorMessage:t?.message}))}}),ah)}function $V(n,e){return HV(zV(n),e)}async function HV(n,e){let r=(await BV()).transaction(rv,"readwrite"),o=r.objectStore(rv).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Lr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function zV(n){return`${n.options.appId}-${n.name}`}var Nc=new Sn("@firebase/app-check");function ev(n,e){return bc()?$V(n,e).catch(t=>{Nc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VS(){return kS().enabled}async function jS(){let n=kS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var qV={error:"UNKNOWN_ERROR"};function GV(n){return Jd.encodeString(JSON.stringify(n),!1)}async function iv(n,e=!1,t=!1){let r=n.app;OS(r);let i=ln(r),o=i.token,s;if(o&&!Mc(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Mc(l)?o=l:await ev(r,void 0))}if(!e&&o&&Mc(o))return{token:o.token};let c=!1;if(VS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=LS(FS(r,await jS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=await i.exchangeTokenPromise;return await ev(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Nc.warn(l.message):t&&Nc.error(l),tv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=await ln(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Nc.warn(l.message):t&&Nc.error(l),s=l}let u;return o?s?Mc(o)?u={token:o.token,internalError:s}:u=tv(s):(u={token:o.token},i.token=o,await ev(r,o)):u=tv(s),c&&YV(r,u),u}async function WV(n){let e=n.app;OS(e);let{provider:t}=ln(e);if(VS()){let r=await jS(),{token:i}=await LS(FS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function KV(n,e,t,r){let{app:i}=n,o=ln(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Mc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),PS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>PS(n))}function US(n,e){let t=ln(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function PS(n){let{app:e}=n,t=ln(e),r=t.tokenRefresher;r||(r=QV(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function QV(n){let{app:e}=n;return new nv(async()=>{let t=ln(e),r;if(t.token?r=await iv(n,!0):r=await iv(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=ln(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},MS.RETRIAL_MIN_WAIT,MS.RETRIAL_MAX_WAIT)}function YV(n,e){let t=ln(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Mc(n){return n.expireTimeMillis-Date.now()>0}function tv(n){return{token:GV(qV),error:n}}var ov=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ln(this.app);for(let t of e)US(this.app,t.next);return Promise.resolve()}};function ZV(n,e){return new ov(n,e)}function JV(n){return{getToken:e=>iv(n,e),getLimitedUseToken:()=>WV(n),addTokenListener:e=>KV(n,"INTERNAL",e),removeTokenListener:e=>US(n.app,e)}}var XV="@firebase/app-check",e2="0.10.1";var t2="app-check",xS="app-check-internal";function n2(){un(new Tt(t2,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return ZV(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(xS).initialize()})),un(new Tt(xS,n=>{let e=n.getProvider("app-check").getImmediate();return JV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pe(XV,e2)}n2();var r2="app-check";var ss=class{constructor(){return os(r2)}};var i2=["localhost","0.0.0.0","127.0.0.1"],Bee=typeof window<"u"&&i2.includes(window.location.hostname);function t0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var n0=t0,r0=new cn("auth","Firebase",t0());var fh=new Sn("@firebase/auth");function o2(n,...e){fh.logLevel<=se.WARN&&fh.warn(`Auth (${xr}): ${n}`,...e)}function uh(n,...e){fh.logLevel<=se.ERROR&&fh.error(`Auth (${xr}): ${n}`,...e)}function jr(n,...e){throw bv(n,...e)}function Bi(n,...e){return bv(n,...e)}function i0(n,e,t){let r=Object.assign(Object.assign({},n0()),{[e]:t});return new cn("auth","Firebase",r).create(e,{appName:n.name})}function Ui(n){return i0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return r0.create(n,...e)}function H(n,e,...t){if(!n)throw bv(e,...t)}function Zn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw uh(e),new Error(e)}function Ur(n,e){n||Zn(e)}function uv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function s2(){return BS()==="http:"||BS()==="https:"}function BS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function a2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s2()||oS()||"connection"in navigator)?navigator.onLine:!0}function c2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var $i=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=rS()||sS()}get(){return a2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Cv(n,e){Ur(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ph=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var u2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var l2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d2=new $i(3e4,6e4);function Sv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function as(n,e,t,r,i={}){return o0(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=Cc(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:u},o);return iS()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&Mr(n.emulatorConfig.host)&&(l.credentials="include"),ph.fetch()(await s0(n,n.config.apiHost,t,c),l)})}async function o0(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},u2),e);try{let i=new lv(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw ch(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ch(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw ch(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw i0(n,h,l);jr(n,h)}}catch(i){if(i instanceof zt)throw i;jr(n,"network-request-failed",{message:String(i)})}}async function h2(n,e,t,r,i={}){let o=await as(n,e,t,r,i);return"mfaPendingCredential"in o&&jr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function s0(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Cv(n.config,i):`${n.config.apiScheme}://${i}`;return l2.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var lv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),d2.get())})}};function ch(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Bi(n,e,r);return i.customData._tokenResponse=t,i}async function f2(n,e){return as(n,"POST","/v1/accounts:delete",e)}async function gh(n,e){return as(n,"POST","/v1/accounts:lookup",e)}function Pc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Av(n,e=!1){let t=xt(n),r=await t.getIdToken(e),i=Rv(r);H(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Pc(sv(i.auth_time)),issuedAtTime:Pc(sv(i.iat)),expirationTime:Pc(sv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function sv(n){return Number(n)*1e3}function Rv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Xd(t);return i?JSON.parse(i):(uh("Failed to decode base64 JWT payload"),null)}catch(i){return uh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $S(n){let e=Rv(n);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function kc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zt&&p2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function p2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var dv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Oc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function mh(n){var e;let t=n.auth,r=await n.getIdToken(),i=await kc(n,gh(t,{idToken:r}));H(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?a0(o.providerUserInfo):[],c=g2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Oc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function Nv(n){let e=xt(n);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function a0(n){return n.map(e=>{var{providerId:t}=e,r=Ep(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function m2(n,e){let t=await o0(n,{},async()=>{let r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await s0(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Mr(n.emulatorConfig.host)&&(u.credentials="include"),ph.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function y2(n,e){return as(n,"POST","/v2/accounts:revokeToken",Sv(n,e))}var xc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$S(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){H(e.length!==0,"internal-error");let t=$S(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(H(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await m2(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(H(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(H(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Zn("not implemented")}};function Fr(n,e){H(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Vr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Oc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await kc(this,this.stsTokenManager.getToken(this.auth,e));return H(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Av(this,e)}reload(){return Nv(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wt(this.auth.app))return Promise.reject(Ui(this.auth));let e=await this.getIdToken();return await kc(this,f2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,te=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:X,emailVerified:Ie,isAnonymous:dt,providerData:ve,stsTokenManager:w}=t;H(X&&w,e,"internal-error");let y=xc.fromJSON(this.name,w);H(typeof X=="string",e,"internal-error"),Fr(p,e.name),Fr(m,e.name),H(typeof Ie=="boolean",e,"internal-error"),H(typeof dt=="boolean",e,"internal-error"),Fr(v,e.name),Fr(S,e.name),Fr(R,e.name),Fr(A,e.name),Fr(F,e.name),Fr(te,e.name);let E=new n({uid:X,auth:e,email:m,emailVerified:Ie,displayName:p,isAnonymous:dt,photoURL:S,phoneNumber:v,tenantId:R,stsTokenManager:y,createdAt:F,lastLoginAt:te});return ve&&Array.isArray(ve)&&(E.providerData=ve.map(I=>Object.assign({},I))),A&&(E._redirectEventId=A),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new xc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mh(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];H(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?a0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new xc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Oc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var HS=new Map;function Jn(n){Ur(n instanceof Function,"Expected a class definition");let e=HS.get(n);return e?(Ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,HS.set(n,e),e)}var v2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),hv=v2;function lh(n,e,t){return`firebase:${n}:${e}:${t}`}var yh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=lh(this.userKey,i.apiKey,o),this.fullPersistenceKey=lh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await gh(this.auth,{idToken:e}).catch(()=>{});return t?Vr._fromGetAccountInfoResponse(this.auth,t,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Jn(hv),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Jn(hv),s=lh(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await gh(e,{idToken:h}).catch(()=>{});if(!m)break;p=await Vr._fromGetAccountInfoResponse(e,m,h)}else p=Vr._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function zS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f0(e))return"Blackberry";if(p0(e))return"Webos";if(u0(e))return"Safari";if((e.includes("chrome/")||l0(e))&&!e.includes("edge/"))return"Chrome";if(h0(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function c0(n=Ze()){return/firefox\//i.test(n)}function u0(n=Ze()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l0(n=Ze()){return/crios\//i.test(n)}function d0(n=Ze()){return/iemobile/i.test(n)}function h0(n=Ze()){return/android/i.test(n)}function f0(n=Ze()){return/blackberry/i.test(n)}function p0(n=Ze()){return/webos/i.test(n)}function Mv(n=Ze()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _2(n=Ze()){var e;return Mv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function E2(){return aS()&&document.documentMode===10}function g0(n=Ze()){return Mv(n)||h0(n)||p0(n)||f0(n)||/windows phone/i.test(n)||d0(n)}function m0(n,e=[]){let t;switch(n){case"Browser":t=zS(Ze());break;case"Worker":t=`${zS(Ze())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xr}/${r}`}var fv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function I2(n,e={}){return as(n,"GET","/v2/passwordPolicy",Sv(n,e))}var w2=6,pv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:w2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var gv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vh(this),this.idTokenSubscription=new vh(this),this.beforeStateQueue=new fv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jn(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await yh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await gh(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wt(this.app))return Promise.reject(Ui(this));let t=e?xt(e):null;return t&&H(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wt(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wt(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await I2(this),t=new pv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await y2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Jn(e)||this._popupRedirectResolver;H(t,this,"argument-error"),this.redirectPersistenceManager=await yh.create(this,[Jn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&o2(`Error while retrieving App Check token: ${t.error}`),t?.token}};function Pv(n){return xt(n)}var vh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dS(t=>this.observer=t)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T2(n){xv=n}function D2(n){return xv.loadJS(n)}function b2(){return xv.gapiScript}function y0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function kv(n,e){let t=rs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Cn(o,e??{}))return i;jr(i,"already-initialized")}return t.initialize({options:e})}function C2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Jn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ov(n,e,t){let r=Pv(n);H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=v0(e),{host:s,port:c}=S2(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){H(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),H(Cn(l,r.config.emulator)&&Cn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Mr(s)?(th(`${o}//${s}${u}`),nh("Auth",!0)):i||A2()}function v0(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function S2(n){let e=v0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:qS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:qS(s)}}}function qS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function A2(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var _h=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,t){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}};async function av(n,e){return h2(n,"POST","/v1/accounts:signInWithIdp",Sv(n,e))}var Eh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var mv=class extends Eh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Lc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Vr._fromIdTokenResponse(e,r,i),s=GS(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=GS(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function GS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var yv=class n extends zt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function _0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yv._fromErrorAndOperation(n,o,e,r):o})}async function R2(n,e,t=!1){let r=await kc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lc._forOperation(n,"link",r)}async function N2(n,e,t=!1){let{auth:r}=n;if(Wt(r.app))return Promise.reject(Ui(r));let i="reauthenticate";try{let o=await kc(n,_0(r,i,e,n),t);H(o.idToken,r,"internal-error");let s=Rv(o.idToken);H(s,r,"internal-error");let{sub:c}=s;return H(n.uid===c,r,"user-mismatch"),Lc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&jr(r,"user-mismatch"),o}}async function M2(n,e,t=!1){if(Wt(n.app))return Promise.reject(Ui(n));let r="signIn",i=await _0(n,r,e),o=await Lc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function Lv(n,e,t,r){return xt(n).onIdTokenChanged(e,t,r)}function Fv(n,e,t){return xt(n).beforeAuthStateChanged(e,t)}var Ih="__sak";var wh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var P2=1e3,x2=10,k2=(()=>{class n extends wh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);E2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,x2):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),E0=k2;var O2=(()=>{class n extends wh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Vv=O2;function L2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var F2=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(async h=>h(r.origin,s)),l=await L2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function I0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var vv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=I0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Rn(){return window}function V2(n){Rn().location.href=n}function w0(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function j2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function B2(){return w0()?self:null}var T0="firebaseLocalStorageDb",$2=1,Th="firebaseLocalStorage",D0="fbase_key",Hi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function bh(n,e){return n.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function H2(){let n=indexedDB.deleteDatabase(T0);return new Hi(n).toPromise()}function _v(){let n=indexedDB.open(T0,$2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Th,{keyPath:D0})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(Th)?e(r):(r.close(),await H2(),e(await _v()))})})}async function WS(n,e,t){let r=bh(n,!0).put({[D0]:e,value:t});return new Hi(r).toPromise()}async function z2(n,e){let t=bh(n,!1).get(e),r=await new Hi(t).toPromise();return r===void 0?null:r.value}function KS(n,e){let t=bh(n,!0).delete(e);return new Hi(t).toPromise()}var q2=800,G2=3,W2=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _v(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>G2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=F2._getInstance(B2()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await j2(),!this.activeServiceWorker)return;this.sender=new vv(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await _v();return await WS(t,Ih,"1"),await KS(t,Ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>WS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>z2(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>KS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=bh(o,!1).getAll();return new Hi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),b0=W2;var Zee=y0("rcb"),Jee=new $i(3e4,6e4);function K2(n,e){return e?Jn(e):(H(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Fc=class extends _h{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return av(e,this._buildIdpRequest())}_linkToIdToken(e,t){return av(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return av(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Q2(n){return M2(n.auth,new Fc(n),n.bypassAuthState)}function Y2(n){let{auth:e,user:t}=n;return H(t,e,"internal-error"),N2(t,new Fc(n),n.bypassAuthState)}async function Z2(n){let{auth:e,user:t}=n;return H(t,e,"internal-error"),R2(t,new Fc(n),n.bypassAuthState)}var Ev=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q2;case"linkViaPopup":case"linkViaRedirect":return Z2;case"reauthViaPopup":case"reauthViaRedirect":return Y2;default:jr(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Xee=new $i(2e3,1e4);var J2="pendingRedirect",dh=new Map,Iv=class extends Ev{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{let r=await X2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function X2(n,e){let t=nj(e),r=tj(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function ej(n,e){dh.set(n._key(),e)}function tj(n){return Jn(n._redirectPersistence)}function nj(n){return lh(J2,n.config.apiKey,n.name)}async function rj(n,e,t=!1){if(Wt(n.app))return Promise.reject(Ui(n));let r=Pv(n),i=K2(r,e),s=await new Iv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var ij=600*1e3,wv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!C0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Bi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ij&&this.cachedEventUids.clear(),this.cachedEventUids.has(QS(e))}saveEventToCache(e){this.cachedEventUids.add(QS(e)),this.lastProcessedEventTime=Date.now()}};function QS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function C0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function oj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C0(n);default:return!1}}async function sj(n,e={}){return as(n,"GET","/v1/projects",e)}var aj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cj=/^https?/;async function uj(n){if(n.config.emulator)return;let{authorizedDomains:e}=await sj(n);for(let t of e)try{if(lj(t))return}catch{}jr(n,"unauthorized-domain")}function lj(n){let e=uv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!cj.test(t))return!1;if(aj.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var dj=new $i(3e4,6e4);function YS(){let n=Rn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hj(n){return new Promise((e,t)=>{var r,i,o;function s(){YS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YS(),t(Bi(n,"network-request-failed"))},timeout:dj.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Rn().gapi)===null||o===void 0)&&o.load)s();else{let c=y0("iframefcb");return Rn()[c]=()=>{gapi.load?s():t(Bi(n,"network-request-failed"))},D2(`${b2()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw hh=null,e})}var hh=null;function fj(n){return hh=hh||hj(n),hh}var pj=new $i(5e3,15e3),gj="__/auth/iframe",mj="emulator/auth/iframe",yj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _j(n){let e=n.config;H(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Cv(e,mj):`https://${n.config.authDomain}/${gj}`,r={apiKey:e.apiKey,appName:n.name,v:xr},i=vj.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Cc(r).slice(1)}`}async function Ej(n){let e=await fj(n),t=Rn().gapi;return H(t,n,"internal-error"),e.open({where:document.body,url:_j(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Bi(n,"network-request-failed"),c=Rn().setTimeout(()=>{o(s)},pj.get());function u(){Rn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var Ij={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wj=500,Tj=600,Dj="_blank",bj="http://localhost",Dh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Cj(n,e,t,r=wj,i=Tj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},Ij),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ze().toLowerCase();t&&(c=l0(l)?Dj:t),c0(l)&&(e=e||bj,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(_2(l)&&c!=="_self")return Sj(e||"",c),new Dh(null);let p=window.open(e||"",c,h);H(p,n,"popup-blocked");try{p.focus()}catch{}return new Dh(p)}function Sj(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Aj="__/auth/handler",Rj="emulator/auth/handler",Nj=encodeURIComponent("fac");async function ZS(n,e,t,r,i,o){H(n.config.authDomain,n,"auth-domain-config-required"),H(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xr,eventId:i};if(e instanceof Eh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",lS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof mv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=await n._getAppCheckToken(),l=u?`#${Nj}=${encodeURIComponent(u)}`:"";return`${Mj(n)}?${Cc(c).slice(1)}${l}`}function Mj({config:n}){return n.emulator?Cv(n,Rj):`https://${n.authDomain}/${Aj}`}var cv="webStorageSupport",Tv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vv,this._completeRedirectFn=rj,this._overrideRedirectResult=ej}async _openPopup(e,t,r,i){var o;Ur((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await ZS(e,t,r,uv(),i);return Cj(e,s,I0())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await ZS(e,t,r,uv(),i);return V2(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ur(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await Ej(e),r=new wv(e);return t.register("authEvent",i=>(H(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cv,{type:cv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[cv];s!==void 0&&t(!!s),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return g0()||u0()||Mv()}},S0=Tv;var JS="@firebase/auth",XS="1.10.8";var Dv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Pj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xj(n){un(new Tt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;H(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m0(n)},l=new gv(r,i,o,u);return C2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),un(new Tt("auth-internal",e=>{let t=Pv(e.getProvider("auth").getImmediate());return(r=>new Dv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(JS,XS,Pj(n)),Pe(JS,XS,"esm2017")}var kj=300,Oj=Fy("authIdTokenMaxAge")||kj,e0=null,Lj=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Oj)return;let i=t?.token;e0!==i&&(e0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jv(n=Fi()){let e=rs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=kv(n,{popupRedirectResolver:S0,persistence:[b0,E0,Vv]}),r=Fy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Lj(o.toString());Fv(t,s,()=>s(t.currentUser)),Lv(t,c=>s(c))}}let i=Oy("auth");return i&&Ov(t,`http://${i}`),t}function Fj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}T2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Bi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Fj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xj("Browser");var A0="auth",Vc=class{constructor(e){return e}},jc=class{constructor(){return os(A0)}};var Uv=new U("angularfire2.auth-instances");function NU(n,e){let t=Rc(A0,n,e);return t&&new Vc(t)}function MU(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Vc(r)}}var PU={provide:jc,deps:[[new Bt,Uv]]},xU={provide:Vc,useFactory:NU,deps:[[new Bt,Uv],Yn]};function R0(n,...e){return Pe("angularfire",kr.full,"auth"),Ft([xU,PU,{provide:Uv,useFactory:MU(n),multi:!0,deps:[_e,We,Or,ji,[new Bt,ss],...e]}])}var N0=Kt(jv,!0);var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P0={};var Xn,Bv;(function(){var n;function e(w,y){function E(){}E.prototype=y.prototype,w.D=y.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,T,b){for(var _=Array(arguments.length-2),xn=2;xn<arguments.length;xn++)_[xn-2]=arguments[xn];return y.prototype[T].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,y,E){E||(E=0);var I=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)I[T]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=w.g[0],E=w.g[1],T=w.g[2];var b=w.g[3],_=y+(b^E&(T^b))+I[0]+3614090360&4294967295;y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(b^E&(T^b))+I[4]+4118548399&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(b^E&(T^b))+I[8]+1770035416&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(b^E&(T^b))+I[12]+1804603682&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(T^y&(E^T))+I[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(E^b&(y^E))+I[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(y^T&(b^y))+I[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=y+(T^b&(E^T))+I[1]+4129170786&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(E^T))+I[5]+3593408605&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(E^T))+I[9]+568446438&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(E^T))+I[13]+2850285829&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(y^E))+I[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^E&(b^y))+I[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(T^b))+I[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=y+(E^T^b)+I[5]+4294588738&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(E^T^b)+I[1]+2763975236&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(E^T^b)+I[13]+681279174&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(E^T^b)+I[9]+3654602809&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^T)+I[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^E)+I[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^y)+I[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=y+(T^(E|~b))+I[0]+4096336452&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=y+(T^(E|~b))+I[12]+1700485571&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=y+(T^(E|~b))+I[8]+1873313359&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=y+(T^(E|~b))+I[4]+4149444226&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~T))+I[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~E))+I[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~y))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var E=y-this.blockSize,I=this.B,T=this.h,b=0;b<y;){if(T==0)for(;b<=E;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<y;)if(I[T++]=w.charCodeAt(b++),T==this.blockSize){i(this,I),T=0;break}}else for(;b<y;)if(I[T++]=w[b++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var E=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=E&255,E/=256;for(this.u(w),w=Array(16),y=E=0;4>y;++y)for(var I=0;32>I;I+=8)w[E++]=this.g[y]>>>I&255;return w};function o(w,y){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=y(w)}function s(w,y){this.h=y;for(var E=[],I=!0,T=w.length-1;0<=T;T--){var b=w[T]|0;I&&b==y||(E[T]=b,I=!1)}this.g=E}var c={};function u(w){return-128<=w&&128>w?o(w,function(y){return new s([y|0],0>y?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var y=[],E=1,I=0;w>=E;I++)y[I]=w/E|0,E*=4294967296;return new s(y,0)}function h(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return A(h(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(y,8)),I=p,T=0;T<w.length;T+=8){var b=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+b),y);8>b?(b=l(Math.pow(y,b)),I=I.j(b).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(R(this))return-A(this).m();for(var w=0,y=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*y,y*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(R(this))return"-"+A(this).toString(w);for(var y=l(Math.pow(w,6)),E=this,I="";;){var T=Ie(E,y).g;E=F(E,T.j(y));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=T,S(E))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function R(w){return w.h==-1}n.l=function(w){return w=F(this,w),R(w)?-1:S(w)?0:1};function A(w){for(var y=w.g.length,E=[],I=0;I<y;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return R(this)?A(this):this},n.add=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0,T=0;T<=y;T++){var b=I+(this.i(T)&65535)+(w.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=_>>>16,b&=65535,_&=65535,E[T]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(w,y){return w.add(A(y))}n.j=function(w){if(S(this)||S(w))return p;if(R(this))return R(w)?A(this).j(A(w)):A(A(this).j(w));if(R(w))return A(this.j(A(w)));if(0>this.l(v)&&0>w.l(v))return l(this.m()*w.m());for(var y=this.g.length+w.g.length,E=[],I=0;I<2*y;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var b=this.i(I)>>>16,_=this.i(I)&65535,xn=w.i(T)>>>16,Fs=w.i(T)&65535;E[2*I+2*T]+=_*Fs,te(E,2*I+2*T),E[2*I+2*T+1]+=b*Fs,te(E,2*I+2*T+1),E[2*I+2*T+1]+=_*xn,te(E,2*I+2*T+1),E[2*I+2*T+2]+=b*xn,te(E,2*I+2*T+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new s(E,0)};function te(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function X(w,y){this.g=w,this.h=y}function Ie(w,y){if(S(y))throw Error("division by zero");if(S(w))return new X(p,p);if(R(w))return y=Ie(A(w),y),new X(A(y.g),A(y.h));if(R(y))return y=Ie(w,A(y)),new X(A(y.g),y.h);if(30<w.g.length){if(R(w)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=y;0>=I.l(w);)E=dt(E),I=dt(I);var T=ve(E,1),b=ve(I,1);for(I=ve(I,2),E=ve(E,2);!S(I);){var _=b.add(I);0>=_.l(w)&&(T=T.add(E),b=_),I=ve(I,1),E=ve(E,1)}return y=F(w,T.j(y)),new X(T,y)}for(T=p;0<=w.l(y);){for(E=Math.max(1,Math.floor(w.m()/y.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(E),_=b.j(y);R(_)||0<_.l(w);)E-=I,b=l(E),_=b.j(y);S(b)&&(b=m),T=T.add(b),w=F(w,_)}return new X(T,w)}n.A=function(w){return Ie(this,w).h},n.and=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function dt(w){for(var y=w.g.length+1,E=[],I=0;I<y;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function ve(w,y){var E=y>>5;y%=32;for(var I=w.g.length-E,T=[],b=0;b<I;b++)T[b]=0<y?w.i(b+E)>>>y|w.i(b+E+1)<<32-y:w.i(b+E);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bv=P0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Xn=P0.Integer=s}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},er={};var $v,kU,cs,Hv,Uc,Sh,zv,qv,Gv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in f))break e;f=f[D]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,D={next:function(){if(!g&&f<a.length){var C=f++;return{value:d(C,a[C]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,D,C){for(var x=Array(arguments.length-2),we=2;we<arguments.length;we++)x[we-2]=arguments[we];return d.prototype[D].apply(g,x)}}function R(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function A(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=a.length||0,C=g.length||0;a.length=D+C;for(let x=0;x<C;x++)a[D+x]=g[x]}else a.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function te(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Ie(a){return Ie[" "](a),a}Ie[" "]=function(){};var dt=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ve(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function w(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function y(a){let d={};for(let f in a)d[f]=a[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)a[f]=g[f];for(let C=0;C<E.length;C++)f=E[C],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function T(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Sf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class xn{constructor(){this.h=this.g=null}add(d,f){let g=Fs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Fs=new F(()=>new hN,a=>a.reset());class hN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Vs,js=!1,Sf=new xn,nI=()=>{let a=c.Promise.resolve(void 0);Vs=()=>{a.then(fN)}};var fN=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){b(f)}var d=Fs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}js=!1};function cr(){this.s=this.s,this.C=this.C}cr.prototype.s=!1,cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var pN=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a})();function Us(a,d){if(it.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(dt){e:{try{Ie(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:gN[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Us.aa.h.call(this)}}S(Us,it);var gN={2:"touch",3:"pen",4:"mouse"};Us.prototype.h=function(){Us.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Bs="closure_listenable_"+(1e6*Math.random()|0),mN=0;function yN(a,d,f,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++mN,this.da=this.fa=!1}function du(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function hu(a){this.src=a,this.g={},this.h=0}hu.prototype.add=function(a,d,f,g,D){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var x=Rf(a,d,g,D);return-1<x?(d=a[x],f||(d.fa=!1)):(d=new yN(d,this.src,C,!!g,D),d.fa=f,a.push(d)),d};function Af(a,d){var f=d.type;if(f in a.g){var g=a.g[f],D=Array.prototype.indexOf.call(g,d,void 0),C;(C=0<=D)&&Array.prototype.splice.call(g,D,1),C&&(du(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Rf(a,d,f,g){for(var D=0;D<a.length;++D){var C=a[D];if(!C.da&&C.listener==d&&C.capture==!!f&&C.ha==g)return D}return-1}var Nf="closure_lm_"+(1e6*Math.random()|0),Mf={};function rI(a,d,f,g,D){if(g&&g.once)return oI(a,d,f,g,D);if(Array.isArray(d)){for(var C=0;C<d.length;C++)rI(a,d[C],f,g,D);return null}return f=Of(f),a&&a[Bs]?a.K(d,f,l(g)?!!g.capture:!!g,D):iI(a,d,f,!1,g,D)}function iI(a,d,f,g,D,C){if(!d)throw Error("Invalid event type");var x=l(D)?!!D.capture:!!D,we=xf(a);if(we||(a[Nf]=we=new hu(a)),f=we.add(d,f,g,x,C),f.proxy)return f;if(g=vN(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)pN||(D=x),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(aI(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function vN(){function a(f){return d.call(a.src,a.listener,f)}let d=_N;return a}function oI(a,d,f,g,D){if(Array.isArray(d)){for(var C=0;C<d.length;C++)oI(a,d[C],f,g,D);return null}return f=Of(f),a&&a[Bs]?a.L(d,f,l(g)?!!g.capture:!!g,D):iI(a,d,f,!0,g,D)}function sI(a,d,f,g,D){if(Array.isArray(d))for(var C=0;C<d.length;C++)sI(a,d[C],f,g,D);else g=l(g)?!!g.capture:!!g,f=Of(f),a&&a[Bs]?(a=a.i,d=String(d).toString(),d in a.g&&(C=a.g[d],f=Rf(C,f,g,D),-1<f&&(du(C[f]),Array.prototype.splice.call(C,f,1),C.length==0&&(delete a.g[d],a.h--)))):a&&(a=xf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Rf(d,f,g,D)),(f=-1<a?d[a]:null)&&Pf(f))}function Pf(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Bs])Af(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(aI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=xf(d))?(Af(f,a),f.h==0&&(f.src=null,d[Nf]=null)):du(a)}}}function aI(a){return a in Mf?Mf[a]:Mf[a]="on"+a}function _N(a,d){if(a.da)a=!0;else{d=new Us(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&Pf(a),a=f.call(g,d)}return a}function xf(a){return a=a[Nf],a instanceof hu?a:null}var kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Of(a){return typeof a=="function"?a:(a[kf]||(a[kf]=function(d){return a.handleEvent(d)}),a[kf])}function ot(){cr.call(this),this.i=new hu(this),this.M=this,this.F=null}S(ot,cr),ot.prototype[Bs]=!0,ot.prototype.removeEventListener=function(a,d,f,g){sI(this,a,d,f,g)};function ht(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new it(d,a);else if(d instanceof it)d.target=d.target||a;else{var D=d;d=new it(g,a),I(d,D)}if(D=!0,f)for(var C=f.length-1;0<=C;C--){var x=d.g=f[C];D=fu(x,g,!0,d)&&D}if(x=d.g=a,D=fu(x,g,!0,d)&&D,D=fu(x,g,!1,d)&&D,f)for(C=0;C<f.length;C++)x=d.g=f[C],D=fu(x,g,!1,d)&&D}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)du(f[g]);delete a.g[d],a.h--}}this.F=null},ot.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},ot.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function fu(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,C=0;C<d.length;++C){var x=d[C];if(x&&!x.da&&x.capture==f){var we=x.listener,et=x.ha||x.src;x.fa&&Af(a.i,x),D=we.call(et,g)!==!1&&D}}return D&&!g.defaultPrevented}function cI(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function uI(a){a.g=cI(()=>{a.g=null,a.i&&(a.i=!1,uI(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class EN extends cr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:uI(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(a){cr.call(this),this.h=a,this.g={}}S($s,cr);var lI=[];function dI(a){ve(a.g,function(d,f){this.g.hasOwnProperty(f)&&Pf(d)},a),a.g={}}$s.prototype.N=function(){$s.aa.N.call(this),dI(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lf=c.JSON.stringify,IN=c.JSON.parse,wN=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Ff(){}Ff.prototype.h=null;function hI(a){return a.h||(a.h=a.i())}function fI(){}var Hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vf(){it.call(this,"d")}S(Vf,it);function jf(){it.call(this,"c")}S(jf,it);var Yr={},pI=null;function pu(){return pI=pI||new ot}Yr.La="serverreachability";function gI(a){it.call(this,Yr.La,a)}S(gI,it);function zs(a){let d=pu();ht(d,new gI(d))}Yr.STAT_EVENT="statevent";function mI(a,d){it.call(this,Yr.STAT_EVENT,a),this.stat=d}S(mI,it);function ft(a){let d=pu();ht(d,new mI(d,a))}Yr.Ma="timingevent";function yI(a,d){it.call(this,Yr.Ma,a),this.size=d}S(yI,it);function qs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Gs(){this.g=!0}Gs.prototype.xa=function(){this.g=!1};function TN(a,d,f,g,D,C){a.info(function(){if(a.g)if(C)for(var x="",we=C.split("&"),et=0;et<we.length;et++){var pe=we[et].split("=");if(1<pe.length){var st=pe[0];pe=pe[1];var at=st.split("_");x=2<=at.length&&at[1]=="type"?x+(st+"="+pe+"&"):x+(st+"=redacted&")}}else x=null;else x=C;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+x})}function DN(a,d,f,g,D,C,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+C+" "+x})}function Xi(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+CN(a,f)+(g?" "+g:"")})}function bN(a,d){a.info(function(){return"TIMEOUT: "+d})}Gs.prototype.info=function(){};function CN(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var C=D[0];if(C!="noop"&&C!="stop"&&C!="close")for(var x=1;x<D.length;x++)D[x]=""}}}}return Lf(f)}catch{return d}}var gu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uf;function mu(){}S(mu,Ff),mu.prototype.g=function(){return new XMLHttpRequest},mu.prototype.i=function(){return{}},Uf=new mu;function ur(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new $s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _I}function _I(){this.i=null,this.g="",this.h=!1}var EI={},Bf={};function $f(a,d,f){a.L=1,a.v=Eu(kn(d)),a.m=f,a.P=!0,II(a,null)}function II(a,d){a.F=Date.now(),yu(a),a.A=kn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),OI(f.i,"t",g),a.C=0,f=a.j.J,a.h=new _I,a.g=XI(a.j,f?d:null,!a.m),0<a.O&&(a.M=new EN(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(lI[0]=D.toString()),D=lI);for(var C=0;C<D.length;C++){var x=rI(f,D[C],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),zs(),TN(a.i,a.u,a.A,a.l,a.R,a.m)}ur.prototype.ca=function(a){a=a.target;let d=this.M;d&&On(a)==3?d.j():this.Y(a)},ur.prototype.Y=function(a){try{if(a==this.g)e:{let at=On(this.g);var d=this.g.Ba();let no=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||$I(this.g)))){this.J||at!=4||d==7||(d==8||0>=no?zs(3):zs(2)),Hf(this);var f=this.g.Z();this.X=f;t:if(wI(this)){var g=$I(this.g);a="";var D=g.length,C=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),Ws(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(C&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,DN(this.i,this.u,this.A,this.l,this.R,at,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,et=this.g;if((we=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(we)){var pe=we;break t}}pe=null}if(f=pe)Xi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zf(this,f);else{this.o=!1,this.s=3,ft(12),Zr(this),Ws(this);break e}}if(this.P){f=!0;let Zt;for(;!this.J&&this.C<x.length;)if(Zt=SN(this,x),Zt==Bf){at==4&&(this.s=4,ft(14),f=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==EI){this.s=4,ft(15),Xi(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Xi(this.i,this.l,Zt,null),zf(this,Zt);if(wI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||x.length!=0||this.h.h||(this.s=1,ft(16),f=!1),this.o=this.o&&f,!f)Xi(this.i,this.l,x,"[Invalid Chunked Response]"),Zr(this),Ws(this);else if(0<x.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Yf(st),st.M=!0,ft(11))}}else Xi(this.i,this.l,x,null),zf(this,x);at==4&&Zr(this),this.o&&!this.J&&(at==4?QI(this.j,this):(this.o=!1,yu(this)))}else zN(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Zr(this),Ws(this)}}}catch{}finally{}};function wI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function SN(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?Bf:(f=Number(d.substring(f,g)),isNaN(f)?EI:(g+=1,g+f>d.length?Bf:(d=d.slice(g,g+f),a.C=g+f,d)))}ur.prototype.cancel=function(){this.J=!0,Zr(this)};function yu(a){a.S=Date.now()+a.I,TI(a,a.I)}function TI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=qs(m(a.ba,a),d)}function Hf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ur.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(bN(this.i,this.A),this.L!=2&&(zs(),ft(17)),Zr(this),this.s=2,Ws(this)):TI(this,this.S-a)};function Ws(a){a.j.G==0||a.J||QI(a.j,a)}function Zr(a){Hf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,dI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function zf(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||qf(f.h,a))){if(!a.K&&qf(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)bu(f),Tu(f);else break e;Qf(f),ft(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=qs(m(f.Za,f),6e3));if(1>=CI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Xr(f,11)}else if((a.K||f.g==a)&&bu(f),!te(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let pe=D[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let st=pe[3];st!=null&&(f.la=st,f.j.info("VER="+f.la));let at=pe[4];at!=null&&(f.Aa=at,f.j.info("SVER="+f.Aa));let no=pe[5];no!=null&&typeof no=="number"&&0<no&&(g=1.5*no,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Zt=a.g;if(Zt){let Su=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var C=g.h;C.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(Gf(C,C.h),C.h=null))}if(g.D){let Zf=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zf&&(g.ya=Zf,De(g.I,g.D,Zf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=a;if(g.qa=JI(g,g.J?g.ia:null,g.W),x.K){SI(g.h,x);var we=x,et=g.L;et&&(we.I=et),we.B&&(Hf(we),yu(we)),g.g=x}else WI(g);0<f.i.length&&Du(f)}else pe[0]!="stop"&&pe[0]!="close"||Xr(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Xr(f,7):Kf(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}zs(4)}catch{}}var AN=class{constructor(a,d){this.g=a,this.map=d}};function DI(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function CI(a){return a.h?1:a.g?a.g.size:0}function qf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Gf(a,d){a.g?a.g.add(d):a.h=d}function SI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}DI.prototype.cancel=function(){if(this.i=AI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function AI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return R(a.i)}function RN(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function NN(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function RI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=NN(a),g=RN(a),D=g.length,C=0;C<D;C++)d.call(void 0,g[C],f&&f[C],a)}var NI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MN(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),D=null;if(0<=g){var C=a[f].substring(0,g);D=a[f].substring(g+1)}else C=a[f];d(C,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Jr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Jr){this.h=a.h,vu(this,a.j),this.o=a.o,this.g=a.g,_u(this,a.s),this.l=a.l;var d=a.i,f=new Ys;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),MI(this,f),this.m=a.m}else a&&(d=String(a).match(NI))?(this.h=!1,vu(this,d[1]||"",!0),this.o=Ks(d[2]||""),this.g=Ks(d[3]||"",!0),_u(this,d[4]),this.l=Ks(d[5]||"",!0),MI(this,d[6]||"",!0),this.m=Ks(d[7]||"")):(this.h=!1,this.i=new Ys(null,this.h))}Jr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Qs(d,PI,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Qs(d,PI,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Qs(f,f.charAt(0)=="/"?kN:xN,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Qs(f,LN)),a.join("")};function kn(a){return new Jr(a)}function vu(a,d,f){a.j=f?Ks(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function _u(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function MI(a,d,f){d instanceof Ys?(a.i=d,FN(a.i,a.h)):(f||(d=Qs(d,ON)),a.i=new Ys(d,a.h))}function De(a,d,f){a.i.set(d,f)}function Eu(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ks(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Qs(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,PN),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function PN(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var PI=/[#\/\?@]/g,xN=/[#\?:]/g,kN=/[#\?]/g,ON=/[#\?@]/g,LN=/#/g;function Ys(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function lr(a){a.g||(a.g=new Map,a.h=0,a.i&&MN(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ys.prototype,n.add=function(a,d){lr(this),this.i=null,a=eo(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function xI(a,d){lr(a),d=eo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function kI(a,d){return lr(a),d=eo(a,d),a.g.has(d)}n.forEach=function(a,d){lr(this),this.g.forEach(function(f,g){f.forEach(function(D){a.call(d,D,g,this)},this)},this)},n.na=function(){lr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=a[g];for(let C=0;C<D.length;C++)f.push(d[g])}return f},n.V=function(a){lr(this);let d=[];if(typeof a=="string")kI(this,a)&&(d=d.concat(this.g.get(eo(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},n.set=function(a,d){return lr(this),this.i=null,a=eo(this,a),kI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function OI(a,d,f){xI(a,d),0<f.length&&(a.i=null,a.g.set(eo(a,d),R(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let C=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var D=C;x[g]!==""&&(D+="="+encodeURIComponent(String(x[g]))),a.push(D)}}return this.i=a.join("&")};function eo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function FN(a,d){d&&!a.j&&(lr(a),a.i=null,a.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(xI(this,g),OI(this,D,f))},a)),a.j=d}function VN(a,d){let f=new Gs;if(c.Image){let g=new Image;g.onload=v(dr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(dr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(dr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(dr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function jN(a,d){let f=new Gs,g=new AbortController,D=setTimeout(()=>{g.abort(),dr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(C=>{clearTimeout(D),C.ok?dr(f,"TestPingServer: ok",!0,d):dr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),dr(f,"TestPingServer: error",!1,d)})}function dr(a,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function UN(){this.g=new wN}function BN(a,d,f){let g=f||"";try{RI(a,function(D,C){let x=D;l(D)&&(x=Lf(D)),d.push(g+C+"="+encodeURIComponent(x))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Zs(a){this.l=a.Ub||null,this.j=a.eb||!1}S(Zs,Ff),Zs.prototype.g=function(){return new Iu(this.l,this.j)},Zs.prototype.i=(function(a){return function(){return a}})({});function Iu(a,d){ot.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Iu,ot),n=Iu.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Xs(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;LI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function LI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Js(this):Xs(this),this.readyState==3&&LI(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Js(this))},n.Qa=function(a){this.g&&(this.response=a,Js(this))},n.ga=function(){this.g&&Js(this)};function Js(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Xs(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Xs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function FI(a){let d="";return ve(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Wf(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=FI(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):De(a,d,f))}function Re(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Re,ot);var $N=/^https?$/i,HN=["POST","PUT"];n=Re.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uf.g(),this.v=this.o?hI(this.o):hI(Uf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(C){VI(this,C);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let C of g.keys())f.set(C,g.get(C));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(C=>C.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(HN,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,x]of f)this.g.setRequestHeader(C,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{BI(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){VI(this,C)}};function VI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,jI(a),wu(a)}function jI(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),wu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wu(this,!0)),Re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?UI(this):this.bb())},n.bb=function(){UI(this)};function UI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||On(a)!=4||a.Z()!=2)){if(a.u&&On(a)==4)cI(a.Ea,0,a);else if(ht(a,"readystatechange"),On(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var D=String(a.D).match(NI)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!$N.test(D?D.toLowerCase():"")}f=g}if(f)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var C=2<On(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",jI(a)}}finally{wu(a)}}}}function wu(a,d){if(a.g){BI(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ht(a,"ready");try{f.onreadystatechange=g}catch{}}}function BI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function On(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),IN(d)}};function $I(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function zN(a){let d={};a=(a.g&&2<=On(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(te(a[g]))continue;var f=T(a[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let C=d[D]||[];d[D]=C,C.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function HI(a){this.Aa=0,this.i=[],this.j=new Gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,a),this.cb=ea("retryDelaySeedMs",1e4,a),this.Wa=ea("forwardChannelMaxRetries",2,a),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new DI(a&&a.concurrentRequestLimit),this.Da=new UN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=HI.prototype,n.la=8,n.G=1,n.connect=function(a,d,f,g){ft(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=JI(this,null,this.W),Du(this)};function Kf(a){if(zI(a),a.G==3){var d=a.U++,f=kn(a.I);if(De(f,"SID",a.K),De(f,"RID",d),De(f,"TYPE","terminate"),ta(a,f),d=new ur(a,a.j,d),d.L=2,d.v=Eu(kn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=XI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),yu(d)}ZI(a)}function Tu(a){a.g&&(Yf(a),a.g.cancel(),a.g=null)}function zI(a){Tu(a),a.u&&(c.clearTimeout(a.u),a.u=null),bu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Du(a){if(!bI(a.h)&&!a.s){a.s=!0;var d=a.Ga;Vs||nI(),js||(Vs(),js=!0),Sf.add(d,a),a.B=0}}function qN(a,d){return CI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=qs(m(a.Ga,a,d),YI(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new ur(this,this.j,a),C=this.o;if(this.S&&(C?(C=y(C),I(C,this.S)):C=this.S),this.m!==null||this.O||(D.H=C,C=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=GI(this,D,d),f=kn(this.I),De(f,"RID",a),De(f,"CVER",22),this.D&&De(f,"X-HTTP-Session-Id",this.D),ta(this,f),C&&(this.O?d="headers="+encodeURIComponent(String(FI(C)))+"&"+d:this.m&&Wf(f,this.m,C)),Gf(this.h,D),this.Ua&&De(f,"TYPE","init"),this.P?(De(f,"$req",d),De(f,"SID","null"),D.T=!0,$f(D,f,null)):$f(D,f,d),this.G=2}}else this.G==3&&(a?qI(this,a):this.i.length==0||bI(this.h)||qI(this))};function qI(a,d){var f;d?f=d.l:f=a.U++;let g=kn(a.I);De(g,"SID",a.K),De(g,"RID",f),De(g,"AID",a.T),ta(a,g),a.m&&a.o&&Wf(g,a.m,a.o),f=new ur(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=GI(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Gf(a.h,f),$f(f,g,d)}function ta(a,d){a.H&&ve(a.H,function(f,g){De(d,g,f)}),a.l&&RI({},function(f,g){De(d,g,f)})}function GI(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let C=-1;for(;;){let x=["count="+f];C==-1?0<f?(C=D[0].g,x.push("ofs="+C)):C=0:x.push("ofs="+C);let we=!0;for(let et=0;et<f;et++){let pe=D[et].g,st=D[et].map;if(pe-=C,0>pe)C=Math.max(0,D[et].g-100),we=!1;else try{BN(st,x,"req"+pe+"_")}catch{g&&g(st)}}if(we){g=x.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function WI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Vs||nI(),js||(Vs(),js=!0),Sf.add(d,a),a.v=0}}function Qf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=qs(m(a.Fa,a),YI(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,KI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=qs(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Tu(this),KI(this))};function Yf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function KI(a){a.g=new ur(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=kn(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),ta(a,d),a.m&&a.o&&Wf(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Eu(kn(d)),f.m=null,f.P=!0,II(f,a)}n.Za=function(){this.C!=null&&(this.C=null,Tu(this),Qf(this),ft(19))};function bu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function QI(a,d){var f=null;if(a.g==d){bu(a),Yf(a),a.g=null;var g=2}else if(qf(a.h,d))f=d.D,SI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=pu(),ht(g,new yI(g,f)),Du(a)}else WI(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&qN(a,d)||g==2&&Qf(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),D){case 1:Xr(a,5);break;case 4:Xr(a,10);break;case 3:Xr(a,6);break;default:Xr(a,2)}}}function YI(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Xr(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let D=!g;g=new Jr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vu(g,"https"),Eu(g),D?VN(g.toString(),f):jN(g.toString(),f)}else ft(2);a.G=0,a.l&&a.l.sa(d),ZI(a),zI(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function ZI(a){if(a.G=0,a.ka=[],a.l){let d=AI(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ka,d),A(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function JI(a,d,f){var g=f instanceof Jr?kn(f):new Jr(f);if(g.g!="")d&&(g.g=d+"."+g.g),_u(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var C=new Jr(null);g&&vu(C,g),d&&(C.g=d),D&&_u(C,D),f&&(C.l=f),g=C}return f=a.D,d=a.ya,f&&d&&De(g,f,d),De(g,"VER",a.la),ta(a,g),g}function XI(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Re(new Zs({eb:f})):new Re(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ew(){}n=ew.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Cu(){}Cu.prototype.g=function(a,d){return new kt(a,d)};function kt(a,d){ot.call(this),this.g=new HI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!te(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!te(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new to(this)}S(kt,ot),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Kf(this.g)},kt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Lf(a),a=f);d.i.push(new AN(d.Ya++,a)),d.G==3&&Du(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,Kf(this.g),delete this.g,kt.aa.N.call(this)};function tw(a){Vf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(tw,Vf);function nw(){jf.call(this),this.status=1}S(nw,jf);function to(a){this.g=a}S(to,ew),to.prototype.ua=function(){ht(this.g,"a")},to.prototype.ta=function(a){ht(this.g,new tw(a))},to.prototype.sa=function(a){ht(this.g,new nw)},to.prototype.ra=function(){ht(this.g,"b")},Cu.prototype.createWebChannel=Cu.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,Gv=er.createWebChannelTransport=function(){return new Cu},qv=er.getStatEventTarget=function(){return pu()},zv=er.Event=Yr,Sh=er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gu.NO_ERROR=0,gu.TIMEOUT=8,gu.HTTP_ERROR=6,Uc=er.ErrorCode=gu,vI.COMPLETE="complete",Hv=er.EventType=vI,fI.EventType=Hs,Hs.OPEN="a",Hs.CLOSE="b",Hs.ERROR="c",Hs.MESSAGE="d",ot.prototype.listen=ot.prototype.K,cs=er.WebChannel=fI,kU=er.FetchXmlHttpFactory=Zs,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,$v=er.XhrIo=Re}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});var x0="@firebase/firestore",k0="4.8.0";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Ms="11.10.0";var Yi=new Sn("@firebase/firestore");function us(){return Yi.logLevel}function O(n,...e){if(Yi.logLevel<=se.DEBUG){let t=e.map(xE);Yi.debug(`Firestore (${Ms}): ${n}`,...t)}}function rr(n,...e){if(Yi.logLevel<=se.ERROR){let t=e.map(xE);Yi.error(`Firestore (${Ms}): ${n}`,...t)}}function zr(n,...e){if(Yi.logLevel<=se.WARN){let t=e.map(xE);Yi.warn(`Firestore (${Ms}): ${n}`,...t)}}function xE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,CA(n,r,t)}function CA(n,e,t){let r=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw rr(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||CA(e,i,r)}function de(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=class extends zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var nr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var xh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Je.UNAUTHENTICATED))}shutdown(){}},Xv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},e_=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new nr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new nr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new xh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Je(e)}},t_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},n_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new t_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},kh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},r_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function OU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function SA(){return new TextEncoder}var Oh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=OU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function oe(n,e){return n<e?-1:n>e?1:0}function i_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return oe(r,i);{let o=SA(),s=LU(o.encode(O0(n,t)),o.encode(O0(e,t)));return s!==0?s:oe(r,i)}}t+=r>65535?2:1}return oe(n.length,e.length)}function O0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function LU(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return oe(n[t],e[t]);return oe(n.length,e.length)}function _s(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var L0="__name__",Lh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return oe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):i_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xn.fromString(e.substring(4,e.length-2))}},xe=class n extends Lh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new k(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},FU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class n extends Lh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return FU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new n([L0])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new k(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new k(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new k(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new k(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var B=class n{constructor(e){this.path=e}static fromPath(e){return new n(xe.fromString(e))}static fromName(e){return new n(xe.fromString(e).popFirst(5))}static empty(){return new n(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new xe(e.slice()))}};function VU(n,e,t){if(!t)throw new k(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jU(n,e,t,r){if(e===!0&&r===!0)throw new k(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function F0(n){if(B.isDocumentKey(n))throw new k(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function df(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function ps(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new k(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=df(n);throw new k(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function je(n,e){let t={typeString:n};return e&&(t.value=e),t}function cu(n,e){if(!AA(n))throw new k(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new k(P.INVALID_ARGUMENT,t);return!0}var V0=-62135596800,j0=1e6,ze=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*j0);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new k(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new k(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<V0)throw new k(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:je("string",ze._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};var J=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ze(0,0))}static max(){return new n(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wc=-1,o_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};o_.UNKNOWN_ID=-1;function UU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new ze(t+1,0):new ze(t,r));return new Zi(i,B.empty(),e)}function BU(n){return new Zi(n.readTime,n.key,Wc)}var Zi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(J.min(),B.empty(),Wc)}static max(){return new n(J.max(),B.empty(),Wc)}};function $U(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=B.comparator(n.documentKey,e.documentKey),t!==0?t:oe(n.largestBatchId,e.largestBatchId))}var HU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",s_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function hf(n){if(n.code!==P.FAILED_PRECONDITION||n.message!==HU)throw n;O("LocalStore","Unexpectedly lost primary lease")}var M=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function zU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ps(n){return n.name==="IndexedDbTransactionError"}var kE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),qU=-1;function ff(n){return n==null}function Kc(n){return n===0&&1/n==-1/0}function GU(n){return typeof n=="number"&&Number.isInteger(n)&&!Kc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var RA="";function WU(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U0(e)),e=KU(n.get(t),e);return U0(e)}function KU(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case RA:t+="";break;default:t+=o}}return t}function U0(n){return n+RA+""}var QU="remoteDocuments",NA="owner";var MA="mutationQueues";var PA="mutations";var xA="documentMutations",YU="remoteDocumentsV14";var kA="remoteDocumentGlobal";var OA="targets";var LA="targetDocuments";var FA="targetGlobal",VA="collectionParents";var jA="clientMetadata";var UA="bundles";var BA="namedQueries";var ZU="indexConfiguration";var JU="indexState";var XU="indexEntries";var $A="documentOverlays";var eB="globals";var tB=[MA,PA,xA,QU,OA,NA,FA,LA,jA,kA,VA,UA,BA],tne=[...tB,$A],nB=[MA,PA,xA,YU,OA,NA,FA,LA,jA,kA,VA,UA,BA,$A],rB=nB,iB=[...rB,ZU,JU,XU];var nne=[...iB,eB];function B0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Oe=class n{constructor(e,t){this.comparator=e,this.root=t||Nn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}},fs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class n{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fh(this.data.getIterator())}getIteratorFrom(e){return new Fh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Fh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var zi=class n{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Xe(Yt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Vh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var oB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(n){if(Ae(!!n,39018),typeof n=="string"){let e=0,t=oB.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function or(n){return typeof n=="string"?lt.fromBase64String(n):lt.fromUint8Array(n)}var zA="server_timestamp",qA="__type__",GA="__previous_value__",WA="__local_write_time__";function OE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qA])===null||t===void 0?void 0:t.stringValue)===zA}function pf(n){let e=n.mapValue.fields[GA];return OE(e)?pf(e):e}function Qc(n){let e=ir(n.mapValue.fields[WA].timestampValue);return new ze(e.seconds,e.nanos)}var a_=class{constructor(e,t,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},jh="(default)",Uh=class n{constructor(e,t){this.projectId=e,this.database=t||jh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var LE="__type__",KA="__max__",Ah={mapValue:{fields:{__type__:{stringValue:KA}}}},FE="__vector__",Es="value";function qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OE(n)?4:YA(n)?9007199254740991:QA(n)?10:11:K(28295,{value:n})}function Pn(n,e){if(n===e)return!0;let t=qr(n);if(t!==qr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qc(n).isEqual(Qc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ir(i.timestampValue),c=ir(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return or(i.bytesValue).isEqual(or(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),c=Ce(o.doubleValue);return s===c?Kc(s)===Kc(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return _s(n.arrayValue.values||[],e.arrayValue.values||[],Pn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(B0(s)!==B0(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Pn(s[u],c[u])))return!1;return!0})(n,e);default:return K(52216,{left:n})}}function Yc(n,e){return(n.values||[]).find(t=>Pn(t,e))!==void 0}function Is(n,e){if(n===e)return 0;let t=qr(n),r=qr(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return $0(n.timestampValue,e.timestampValue);case 4:return $0(Qc(n),Qc(e));case 5:return i_(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=or(o),u=or(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=oe(c[l],u[l]);if(h!==0)return h}return oe(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=oe(Ce(o.latitude),Ce(s.latitude));return c!==0?c:oe(Ce(o.longitude),Ce(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return H0(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},v=(c=p[Es])===null||c===void 0?void 0:c.arrayValue,S=(u=m[Es])===null||u===void 0?void 0:u.arrayValue,R=oe(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:H0(v,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Ah.mapValue&&s===Ah.mapValue)return 0;if(o===Ah.mapValue)return 1;if(s===Ah.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=i_(u[p],h[p]);if(m!==0)return m;let v=Is(c[u[p]],l[h[p]]);if(v!==0)return v}return oe(u.length,h.length)})(n.mapValue,e.mapValue);default:throw K(23264,{le:t})}}function $0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return oe(n,e);let t=ir(n),r=ir(e),i=oe(t.seconds,r.seconds);return i!==0?i:oe(t.nanos,r.nanos)}function H0(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Is(t[i],r[i]);if(o)return o}return oe(t.length,r.length)}function ws(n){return c_(n)}function c_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=ir(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return or(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return B.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=c_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${c_(t.fields[s])}`;return i+"}"})(n.mapValue):K(61005,{value:n})}function Mh(n){switch(qr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=pf(n);return e?16+Mh(e):16;case 5:return 2*n.stringValue.length;case 6:return or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Mh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return xs(r.fields,(o,s)=>{i+=o.length+Mh(s)}),i})(n.mapValue);default:throw K(13486,{value:n})}}function z0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function u_(n){return!!n&&"integerValue"in n}function VE(n){return!!n&&"arrayValue"in n}function q0(n){return!!n&&"nullValue"in n}function G0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wv(n){return!!n&&"mapValue"in n}function QA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[LE])===null||t===void 0?void 0:t.stringValue)===FE}function $c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return xs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$c(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KA}var ine={mapValue:{fields:{[LE]:{stringValue:FE},[Es]:{arrayValue:{}}}}};var tr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=$c(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Wv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Wv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n($c(this.value))}};var dn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,J.min(),J.min(),J.min(),tr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,J.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,J.min(),J.min(),tr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,J.min(),J.min(),tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ts=class{constructor(e,t){this.position=e,this.inclusive=t}};function W0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),t.key):r=Is(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function K0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pn(n.position[t],e.position[t]))return!1;return!0}var Ji=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function sB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Bh=class{},Ve=class n extends Bh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new d_(e,t,r):t==="array-contains"?new p_(e,r):t==="in"?new g_(e,r):t==="not-in"?new m_(e,r):t==="array-contains-any"?new y_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new h_(e,r):new f_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Is(t,this.value)):t!==null&&qr(this.value)===qr(t)&&this.matchesComparison(Is(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hn=class n extends Bh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return ZA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function ZA(n){return n.op==="and"}function JA(n){return aB(n)&&ZA(n)}function aB(n){for(let e of n.filters)if(e instanceof hn)return!1;return!0}function l_(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+ws(n.value);if(JA(n))return n.filters.map(e=>l_(e)).join(",");{let e=n.filters.map(t=>l_(t)).join(",");return`${n.op}(${e})`}}function XA(n,e){return n instanceof Ve?(function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&Pn(r.value,i.value)})(n,e):n instanceof hn?(function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&XA(s,i.filters[c]),!0):!1})(n,e):void K(19439)}function eR(n){return n instanceof Ve?(function(t){return`${t.field.canonicalString()} ${t.op} ${ws(t.value)}`})(n):n instanceof hn?(function(t){return t.op.toString()+" {"+t.getFilters().map(eR).join(" ,")+"}"})(n):"Filter"}var d_=class extends Ve{constructor(e,t,r){super(e,t,r),this.key=B.fromName(r.referenceValue)}matches(e){let t=B.comparator(e.key,this.key);return this.matchesComparison(t)}},h_=class extends Ve{constructor(e,t){super(e,"in",t),this.keys=tR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},f_=class extends Ve{constructor(e,t){super(e,"not-in",t),this.keys=tR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>B.fromName(r.referenceValue))}var p_=class extends Ve{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return VE(t)&&Yc(t.arrayValue,this.value)}},g_=class extends Ve{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Yc(this.value.arrayValue,t)}},m_=class extends Ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yc(this.value.arrayValue,t)}},y_=class extends Ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!VE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yc(this.value.arrayValue,r))}};var v_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function Q0(n,e=null,t=[],r=[],i=null,o=null,s=null){return new v_(n,e,t,r,i,o,s)}function jE(n){let e=de(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>l_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),ff(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ws(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ws(r)).join(",")),e.Pe=t}return e.Pe}function UE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!K0(n.startAt,e.startAt)&&K0(n.endAt,e.endAt)}function __(n){return B.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Gr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function cB(n,e,t,r,i,o,s,c){return new Gr(n,e,t,r,i,o,s,c)}function BE(n){return new Gr(n)}function Y0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nR(n){return n.collectionGroup!==null}function Hc(n){let e=de(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Xe(Yt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ji(o,r))}),t.has(Yt.keyField().canonicalString())||e.Te.push(new Ji(Yt.keyField(),r))}return e.Te}function Mn(n){let e=de(n);return e.Ie||(e.Ie=uB(e,Hc(n))),e.Ie}function uB(n,e){if(n.limitType==="F")return Q0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ji(i.field,o)});let t=n.endAt?new Ts(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ts(n.startAt.position,n.startAt.inclusive):null;return Q0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function E_(n,e){let t=n.filters.concat([e]);return new Gr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function I_(n,e,t){return new Gr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gf(n,e){return UE(Mn(n),Mn(e))&&n.limitType===e.limitType}function rR(n){return`${jE(Mn(n))}|lt:${n.limitType}`}function ls(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>eR(i)).join(", ")}]`),ff(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ws(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ws(i)).join(",")),`Target(${r})`})(Mn(n))}; limitType=${n.limitType})`}function mf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Hc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=W0(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,Hc(r),i)||r.endAt&&!(function(s,c,u){let l=W0(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,Hc(r),i))})(n,e)}function lB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iR(n){return(e,t)=>{let r=!1;for(let i of Hc(n)){let o=dB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function dB(n,e,t){let r=n.field.isKeyField()?B.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Is(u,l):K(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var sr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return HA(this.inner)}size(){return this.innerSize}};var hB=new Oe(B.comparator);function Wr(){return hB}var oR=new Oe(B.comparator);function Bc(...n){let e=oR;for(let t of n)e=e.insert(t.key,t);return e}function fB(n){let e=oR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qi(){return zc()}function sR(){return zc()}function zc(){return new sr(n=>n.toString(),(n,e)=>n.isEqual(e))}var one=new Oe(B.comparator),pB=new Xe(B.comparator);function fe(...n){let e=pB;for(let t of n)e=e.add(t);return e}var gB=new Xe(oe);function mB(){return gB}function $E(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function aR(n){return{integerValue:""+n}}function yB(n,e){return GU(e)?aR(e):$E(n,e)}var Ds=class{constructor(){this._=void 0}};function vB(n,e,t){return n instanceof Zc?(function(i,o){let s={fields:{[qA]:{stringValue:zA},[WA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&OE(o)&&(o=pf(o)),o&&(s.fields[GA]=o),{mapValue:s}})(t,e):n instanceof bs?cR(n,e):n instanceof Cs?uR(n,e):(function(i,o){let s=EB(i,o),c=Z0(s)+Z0(i.Ee);return u_(s)&&u_(i.Ee)?aR(c):$E(i.serializer,c)})(n,e)}function _B(n,e,t){return n instanceof bs?cR(n,e):n instanceof Cs?uR(n,e):t}function EB(n,e){return n instanceof Jc?(function(r){return u_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Zc=class extends Ds{},bs=class extends Ds{constructor(e){super(),this.elements=e}};function cR(n,e){let t=lR(e);for(let r of n.elements)t.some(i=>Pn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Cs=class extends Ds{constructor(e){super(),this.elements=e}};function uR(n,e){let t=lR(e);for(let r of n.elements)t=t.filter(i=>!Pn(i,r));return{arrayValue:{values:t}}}var Jc=class extends Ds{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function Z0(n){return Ce(n.integerValue||n.doubleValue)}function lR(n){return VE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function IB(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof bs&&i instanceof bs||r instanceof Cs&&i instanceof Cs?_s(r.elements,i.elements,Pn):r instanceof Jc&&i instanceof Jc?Pn(r.Ee,i.Ee):r instanceof Zc&&i instanceof Zc})(n.transform,e.transform)}var qc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ph(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Xc=class{};function dR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new w_(n.key,qc.none()):new eu(n.key,n.data,qc.none());{let t=n.data,r=tr.empty(),i=new Xe(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ss(n.key,r,new zi(i.toArray()),qc.none())}}function wB(n,e,t){n instanceof eu?(function(i,o,s){let c=i.value.clone(),u=X0(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Ss?(function(i,o,s){if(!Ph(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=X0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(hR(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Gc(n,e,t,r){return n instanceof eu?(function(o,s,c,u){if(!Ph(o.precondition,s))return c;let l=o.value.clone(),h=eA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ss?(function(o,s,c,u){if(!Ph(o.precondition,s))return c;let l=eA(o.fieldTransforms,u,s),h=s.data;return h.setAll(hR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return Ph(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function J0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_s(r,i,(o,s)=>IB(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var eu=class extends Xc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ss=class extends Xc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function hR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function X0(n,e,t){let r=new Map;Ae(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,_B(s,c,t[i]))}return r}function eA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,vB(o,s,e))}return r}var w_=class extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var T_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&wB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=sR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=dR(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(t,r)=>J0(t,r))&&_s(this.baseMutations,e.baseMutations,(t,r)=>J0(t,r))}};var D_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var b_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Le,le;function fR(n){if(n===void 0)return rr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Le.OK:return P.OK;case Le.CANCELLED:return P.CANCELLED;case Le.UNKNOWN:return P.UNKNOWN;case Le.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Le.INTERNAL:return P.INTERNAL;case Le.UNAVAILABLE:return P.UNAVAILABLE;case Le.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Le.NOT_FOUND:return P.NOT_FOUND;case Le.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Le.ABORTED:return P.ABORTED;case Le.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Le.DATA_LOSS:return P.DATA_LOSS;default:return K(39323,{code:n})}}(le=Le||(Le={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var tA=null;var TB=new Xn([4294967295,4294967295],0);function nA(n){let e=SA().encode(n),t=new Bv;return t.update(e),new Uint8Array(t.digest())}function rA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xn([t,r],0),new Xn([i,o],0)]}var C_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Gi(`Invalid padding: ${t}`);if(r<0)throw new Gi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Gi(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Xn.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Xn.fromNumber(r)));return i.compare(TB)===1&&(i=new Xn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=nA(e),[r,i]=rA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=nA(e),[r,i]=rA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Gi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $h=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(J.min(),i,new Oe(oe),Wr(),fe())}},tu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,fe(),fe(),fe())}};var gs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Hh=class{constructor(e,t){this.targetId=e,this.De=t}},zh=class{constructor(e,t,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},qh=class{constructor(){this.ve=0,this.Ce=iA(),this.Fe=lt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=fe(),t=fe(),r=fe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new tu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=iA()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},S_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Wr(),this.je=Rh(),this.Je=Rh(),this.He=new Oe(oe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(__(o))if(r===0){let s=new B(o.path);this.Xe(t,s,dn.newNoDocument(s,J.min()))}else Ae(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}tA?.ct((function(h,p,m,v,S){var R,A,F,te,X,Ie;let dt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ve=p.unchangedNames;return ve&&(dt.bloomFilter={applied:S===0,hashCount:(R=ve?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(te=(F=(A=ve?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&te!==void 0?te:0,padding:(Ie=(X=ve?.bits)===null||X===void 0?void 0:X.padding)!==null&&Ie!==void 0?Ie:0,mightContain:w=>{var y;return(y=v?.mightContain(w))!==null&&y!==void 0&&y}}),dt})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=or(r).toUint8Array()}catch(u){if(u instanceof Vh)return zr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new C_(s,i,o)}catch(u){return zr(u instanceof Gi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&__(c.target)){let u=new B(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,dn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=fe();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new $h(e,t,this.He,this.ze,r);return this.ze=Wr(),this.je=Rh(),this.Je=Rh(),this.He=new Oe(oe),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new qh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Xe(oe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Xe(oe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||O("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new qh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Rh(){return new Oe(B.comparator)}function iA(){return new Oe(B.comparator)}var DB={asc:"ASCENDING",desc:"DESCENDING"},bB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CB={and:"AND",or:"OR"},A_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function R_(n,e){return n.useProto3Json||ff(e)?e:{value:e}}function N_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ms(n){return Ae(!!n,49232),J.fromTimestamp((function(t){let r=ir(t);return new ze(r.seconds,r.nanos)})(n))}function gR(n,e){return M_(n,e).canonicalString()}function M_(n,e){let t=(function(i){return new xe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function mR(n){let e=xe.fromString(n);return Ae(IR(e),10190,{key:e.toString()}),e}function Kv(n,e){let t=mR(e);if(t.get(1)!==n.databaseId.projectId)throw new k(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new k(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new B(vR(t))}function yR(n,e){return gR(n.databaseId,e)}function SB(n){let e=mR(n);return e.length===4?xe.emptyPath():vR(e)}function oA(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vR(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function AB(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let h=l.code===void 0?P.UNKNOWN:fR(l.code);return new k(h,l.message||"")})(s);t=new zh(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Kv(n,r.document.name),o=ms(r.document.updateTime),s=r.document.createTime?ms(r.document.createTime):J.min(),c=new tr({mapValue:{fields:r.document.fields}}),u=dn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];t=new gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Kv(n,r.document),o=r.readTime?ms(r.readTime):J.min(),s=dn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new gs([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Kv(n,r.document),o=r.removedTargetIds||[];t=new gs([],o,i,null)}else{if(!("filter"in e))return K(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new b_(i,o),c=r.targetId;t=new Hh(c,s)}}return t}function RB(n,e){return{documents:[yR(n,e.path)]}}function NB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yR(n,i);let o=(function(l){if(l.length!==0)return ER(hn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:ds(m.field),direction:xB(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=R_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function MB(n){let e=SB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ae(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=_R(p);return m instanceof hn&&JA(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Ji(hs(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,ff(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,v=p.values||[];return new Ts(v,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,v=p.values||[];return new Ts(v,m)})(t.endAt)),cB(e,i,s,o,c,"F",u,l)}function PB(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _R(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=hs(t.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hs(t.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=hs(t.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=hs(t.unaryFilter.field);return Ve.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ve.create(hs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hn.create(t.compositeFilter.filters.map(r=>_R(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}})(t.compositeFilter.op))})(n):K(30097,{filter:n})}function xB(n){return DB[n]}function kB(n){return bB[n]}function OB(n){return CB[n]}function ds(n){return{fieldPath:n.canonicalString()}}function hs(n){return Yt.fromServerFormat(n.fieldPath)}function ER(n){return n instanceof Ve?(function(t){if(t.op==="=="){if(G0(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NAN"}};if(q0(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(G0(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NOT_NAN"}};if(q0(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(t.field),op:kB(t.op),value:t.value}}})(n):n instanceof hn?(function(t){let r=t.getFilters().map(i=>ER(i));return r.length===1?r[0]:{compositeFilter:{op:OB(t.op),filters:r}}})(n):K(54877,{filter:n})}function IR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var nu=class n{constructor(e,t,r,i,o=J.min(),s=J.min(),c=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var P_=class{constructor(e){this.gt=e}};function LB(n){let e=MB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?I_(e,e.limit,"L"):e}var Gh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Kc(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=ir(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(or(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?YA(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):QA(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):K(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Es,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ce(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),B.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Gh.Ut=new Gh;var x_=class{constructor(){this.Dn=new k_}addToCollectionParentIndex(e,t){return this.Dn.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(Zi.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}},k_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xe(xe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(xe.comparator)).toArray()}};var sne=new Uint8Array(0);var sA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wR=41943040,Qt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(wR,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var ru=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var aA="LruGarbageCollector",FB=1048576;function cA([n,e],[t,r]){let i=oe(n,t);return i===0?oe(e,r):i}var O_=class{constructor(e){this.Tr=e,this.buffer=new Xe(cA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();cA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},L_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){O(aA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ps(t)?O(aA,"Ignoring IndexedDB error during garbage collection: ",t):await hf(t)}await this.Rr(3e5)})}},F_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return M.resolve(kE.ue);let r=new O_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(sA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),us()<=se.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function VB(n,e){return new F_(n,e)}var V_=class{constructor(){this.changes=new sr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var j_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var U_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Gc(r.mutation,i,zi.empty(),ze.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){let i=qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Bc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=Wr(),s=zc(),c=(function(){return zc()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ss)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Gc(h.mutation,l,h.mutation.getFieldMask(),ze.now())):s.set(l.key,zi.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return c.set(l,new j_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=zc(),i=new Oe((s,c)=>s-c),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||zi.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||fe()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=sR();h.forEach(m=>{if(!o.has(m)){let v=dR(t.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):M.resolve(qi()),c=Wc,u=o;return s.next(l=>M.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:c,changes:fB(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next(r=>{let i=Bc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Bc();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let l=(function(p,m){return new Gr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,dn.newInvalidDocument(h)))});let c=Bc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Gc(h.mutation,l,zi.empty(),ze.now()),mf(t,l)&&(c=c.insert(u,l))}),c})}};var B_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return M.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:ms(i.createTime)}})(t)),M.resolve()}getNamedQuery(e,t){return M.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:LB(i.bundledQuery),readTime:ms(i.readTime)}})(t)),M.resolve()}};var $_=class{constructor(){this.overlays=new Oe(B.comparator),this.kr=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){let r=qi();return M.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),M.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){let i=qi(),o=t.length+1,s=new B(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Oe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=qi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=qi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return M.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new D_(t,r));let o=this.kr.get(t);o===void 0&&(o=fe(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var H_=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,M.resolve()}};var iu=class{constructor(){this.qr=new Xe(Fe.Qr),this.$r=new Xe(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Fe(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Fe(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new B(new xe([])),r=new Fe(t,e),i=new Fe(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new B(new xe([])),r=new Fe(t,e),i=new Fe(t,e+1),o=fe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Fe(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return B.comparator(e.key,t.key)||oe(e.Hr,t.Hr)}static Ur(e,t){return oe(e.Hr,t.Hr)||B.comparator(e.key,t.key)}};var z_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Xe(Fe.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new T_(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Fe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,t){return M.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?qU:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Fe(t,0),i=new Fe(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xe(oe);return t.forEach(i=>{let o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Fe(new B(o),0),c=new Xe(oe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),M.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(t.mutations,i=>{let o=new Fe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Fe(t,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var q_=class{constructor(e){this.ni=e,this.docs=(function(){return new Oe(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=Wr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Wr(),s=t.path,c=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||$U(BU(h),r)<=0||(i.has(h.key)||mf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K(9500)}ri(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new G_(this)}getSize(e){return M.resolve(this.size)}},G_=class extends V_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var W_=class{constructor(e){this.persistence=e,this.ii=new sr(t=>jE(t),UE),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.si=0,this.oi=new iu,this.targetCount=0,this._i=ru.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),M.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new ru(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.hr(t),M.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),M.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.oi.containsKey(t))}};var Wh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new kE(0),this.ci=!1,this.ci=!0,this.li=new H_,this.referenceDelegate=e(this),this.hi=new W_(this),this.indexManager=new x_,this.remoteDocumentCache=(function(i){return new q_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new P_(t),this.Ti=new B_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new z_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){O("MemoryPersistence","Starting transaction:",e);let i=new K_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},K_=class extends s_{constructor(e){super(),this.currentSequenceNumber=e}},Q_=class n{constructor(e){this.persistence=e,this.Ai=new iu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw K(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),M.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=B.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,J.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return M.or([()=>M.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Kh=class n{constructor(e,t){this.persistence=e,this.gi=new sr(r=>WU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=VB(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return M.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}Sr(e,t,r){return M.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Y_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=fe(),i=fe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Z_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var J_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return cS()?8:zU(Ze())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Z_;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(us()<=se.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",ls(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(us()<=se.DEBUG&&O("QueryEngine","Query:",ls(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(us()<=se.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",ls(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(t))):M.resolve())}ps(e,t){if(Y0(t))return M.resolve(null);let r=Mn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=I_(t,null,"F"),r=Mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=fe(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,s,u.readTime)?this.ps(e,I_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return Y0(t)||i.isEqual(J.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?M.resolve(null):(us()<=se.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ls(t)),this.vs(e,s,t,UU(i,Wc)).next(c=>c))})}bs(e,t){let r=new Xe(iR(e));return t.forEach((i,o)=>{mf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return us()<=se.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",ls(t)),this.gs.getDocumentsMatchingQuery(e,t,Zi.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var HE="LocalStore",jB=3e8,X_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Oe(oe),this.Ms=new sr(o=>jE(o),UE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function UB(n,e,t,r){return new X_(n,e,t,r)}async function TR(n,e){let t=de(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=fe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})}function DR(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function BB(n,e){let t=de(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(lt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(R,A,F){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=jB?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,v,h)&&c.push(t.hi.updateTargetData(o,v))});let u=Wr(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push($B(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(J.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function $B(n,e,t){let r=fe(),i=fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Wr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):O(HE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function HB(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new nu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function eE(n,e,t){let r=de(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ps(s))throw s;O(HE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function uA(n,e,t){let r=de(n),i=J.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=de(u),m=p.Ms.get(h);return m!==void 0?M.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Mn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:J.min(),t?o:fe())).next(c=>(zB(r,lB(e),c),{documents:c,qs:o})))}function zB(n,e,t){let r=n.xs.get(e)||J.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Qh=class{constructor(){this.activeTargetIds=mB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var tE=class{constructor(){this.Fo=new Qh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Qh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var nE=class{xo(e){}shutdown(){}};var lA="ConnectivityMonitor",Yh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){O(lA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){O(lA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Nh=null;function rE(){return Nh===null?Nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nh++,"0x"+Nh.toString(16)}var Qv="RestConnection",qB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},iE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===jh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=rE(),c=this.Go(e,t.toUriEncodedString());O(Qv,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),h=Mr(l);return this.jo(e,c,u,r,h).then(p=>(O(Qv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw zr(Qv,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ms})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=qB[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var oE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ut="WebChannelConnection",sE=class extends iE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=rE();return new Promise((c,u)=>{let l=new $v;l.setWithCredentials(!0),l.listenOnce(Hv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Uc.NO_ERROR:let p=l.getResponseJson();O(ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Uc.TIMEOUT:O(ut,`RPC '${e}' ${s} timed out`),u(new k(P.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:let m=l.getStatus();if(O(ut,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let S=v?.error;if(S&&S.status&&S.message){let R=(function(F){let te=F.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(te)>=0?te:P.UNKNOWN})(S.status);u(new k(R,S.message))}else u(new k(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new k(P.UNAVAILABLE,"Connection failed."));break;default:K(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{O(ut,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);O(ut,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=rE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Gv(),c=qv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");O(ut,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,v=!1,S=new oE({Ho:A=>{v?O(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(O(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),O(ut,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),R=(A,F,te)=>{A.listen(F,X=>{try{te(X)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return R(p,cs.EventType.OPEN,()=>{v||(O(ut,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),R(p,cs.EventType.CLOSE,()=>{v||(v=!0,O(ut,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),R(p,cs.EventType.ERROR,A=>{v||(v=!0,zr(ut,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.__(new k(P.UNAVAILABLE,"The operation could not be completed")))}),R(p,cs.EventType.MESSAGE,A=>{var F;if(!v){let te=A.data[0];Ae(!!te,16349);let X=te,Ie=X?.error||((F=X[0])===null||F===void 0?void 0:F.error);if(Ie){O(ut,`RPC '${e}' stream ${i} received error:`,Ie);let dt=Ie.status,ve=(function(E){let I=Le[E];if(I!==void 0)return fR(I)})(dt),w=Ie.message;ve===void 0&&(ve=P.INTERNAL,w="Unknown error status: "+dt+" with message "+Ie.message),v=!0,S.__(new k(ve,w)),p.close()}else O(ut,`RPC '${e}' stream ${i} received:`,te),S.a_(te)}}),R(c,zv.STAT_EVENT,A=>{A.stat===Sh.PROXY?O(ut,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Sh.NOPROXY&&O(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Yv(){return typeof document<"u"?document:null}function yf(n){return new A_(n,!0)}var Zh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var dA="PersistentStream",aE=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Zh(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new k(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return O(dA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(O(dA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},cE=class extends aE{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=AB(this.serializer,e),r=(function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?ms(s.readTime):J.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=oA(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=__(u)?{documents:RB(o,u)}:{query:NB(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=pR(o,s.resumeToken);let l=R_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){c.readTime=N_(o,s.snapshotVersion.toTimestamp());let l=R_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=PB(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=oA(this.serializer),t.removeTarget=e,this.k_(t)}};var uE=class{},lE=class extends uE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new k(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,M_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(P.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,M_(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(P.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},dE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(rr(t),this._a=!1):O("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var As="RemoteStore",hE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{lu(this)&&(O(As,"Restarting streams for network reachability change."),await(async function(u){let l=de(u);l.Ia.add(4),await uu(l),l.Aa.set("Unknown"),l.Ia.delete(4),await vf(l)})(this))})}),this.Aa=new dE(r,i)}};async function vf(n){if(lu(n))for(let e of n.da)await e(!0)}async function uu(n){for(let e of n.da)await e(!1)}function bR(n,e){let t=de(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),WE(t)?GE(t):ks(t).x_()&&qE(t,e))}function zE(n,e){let t=de(n),r=ks(t);t.Ta.delete(e),r.x_()&&CR(t,e),t.Ta.size===0&&(r.x_()?r.B_():lu(t)&&t.Aa.set("Unknown"))}function qE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ks(n).H_(e)}function CR(n,e){n.Ra.$e(e),ks(n).Y_(e)}function GE(n){n.Ra=new S_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ks(n).start(),n.Aa.aa()}function WE(n){return lu(n)&&!ks(n).M_()&&n.Ta.size>0}function lu(n){return de(n).Ia.size===0}function SR(n){n.Ra=void 0}async function GB(n){n.Aa.set("Online")}async function WB(n){n.Ta.forEach((e,t)=>{qE(n,e)})}async function KB(n,e){SR(n),WE(n)?(n.Aa.la(e),GE(n)):n.Aa.set("Unknown")}async function QB(n,e,t){if(n.Aa.set("Online"),e instanceof zh&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})(n,e)}catch(r){O(As,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hA(n,r)}else if(e instanceof gs?n.Ra.Ye(e):e instanceof Hh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(J.min()))try{let r=await DR(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),CR(o,u);let p=new nu(h.target,u,l,h.sequenceNumber);qE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){O(As,"Failed to raise snapshot:",r),await hA(n,r)}}async function hA(n,e,t){if(!Ps(e))throw e;n.Ia.add(1),await uu(n),n.Aa.set("Offline"),t||(t=()=>DR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{O(As,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await vf(n)})}async function fA(n,e){let t=de(n);t.asyncQueue.verifyOperationInProgress(),O(As,"RemoteStore received new credentials");let r=lu(t);t.Ia.add(3),await uu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await vf(t)}async function YB(n,e){let t=de(n);e?(t.Ia.delete(2),await vf(t)):e||(t.Ia.add(2),await uu(t),t.Aa.set("Unknown"))}function ks(n){return n.Va||(n.Va=(function(t,r,i){let o=de(t);return o.ia(),new cE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:GB.bind(null,n),e_:WB.bind(null,n),n_:KB.bind(null,n),J_:QB.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),WE(n)?GE(n):n.Aa.set("Unknown")):(await n.Va.stop(),SR(n))})),n.Va}var fE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function AR(n,e){if(rr("AsyncQueue",`${e}: ${n}`),Ps(n))return new k(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Jh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||B.comparator(t.key,r.key):(t,r)=>B.comparator(t.key,r.key),this.keyedMap=Bc(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Xh=class{constructor(){this.fa=new Oe(B.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):K(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Rs=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Jh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var pE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},gE=class{constructor(){this.queries=pA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=de(t),o=i.queries;i.queries=pA(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new k(P.ABORTED,"Firestore shutting down"))}};function pA(){return new sr(n=>rR(n),gf)}async function RR(n,e){let t=de(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new pE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let c=AR(s,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&KE(t)}async function NR(n,e){let t=de(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ZB(n,e){let t=de(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&KE(t)}function JB(n,e,t){let r=de(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function KE(n){n.Da.forEach(e=>{e.next()})}var mE,gA;(gA=mE||(mE={})).Fa="default",gA.Cache="cache";var ef=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==mE.Cache}};var tf=class{constructor(e){this.key=e}},nf=class{constructor(e){this.key=e}},yE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fe(),this.mutatedKeys=fe(),this.Xa=iR(e),this.eu=new Jh(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Xh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=mf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),A=!1;m&&v?m.data.isEqual(v.data)?S!==R&&(r.track({type:3,doc:v}),A=!0):this.iu(m,v)||(r.track({type:2,doc:v}),A=!0,(u&&this.Xa(v,u)>0||l&&this.Xa(v,l)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),A=!0):m&&!v&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(c=!0)),A&&(v?(s=s.add(v),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(v,S){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{At:A})}};return R(v)-R(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Rs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Xh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=fe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new nf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new tf(r))}),t}uu(e){this.Ha=e.qs,this.Za=fe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Rs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},QE="SyncEngine",vE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},_E=class{constructor(e){this.key=e,this.lu=!1}},EE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new sr(c=>rR(c),gf),this.Tu=new Map,this.Iu=new Set,this.du=new Oe(B.comparator),this.Eu=new Map,this.Au=new iu,this.Ru={},this.Vu=new Map,this.mu=ru.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function XB(n,e,t=!0){let r=OR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await MR(r,e,t,!0),i}async function e$(n,e){let t=OR(n);await MR(t,e,!0,!1)}async function MR(n,e,t,r){let i=await HB(n.localStore,Mn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=await t$(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&bR(n.remoteStore,i),c}async function t$(n,e,t,r,i){n.gu=(p,m,v)=>(async function(R,A,F,te){let X=A.view.nu(F);X.Ds&&(X=await uA(R.localStore,A.query,!1).then(({documents:w})=>A.view.nu(w,X)));let Ie=te&&te.targetChanges.get(A.targetId),dt=te&&te.targetMismatches.get(A.targetId)!=null,ve=A.view.applyChanges(X,R.isPrimaryClient,Ie,dt);return yA(R,A.targetId,ve._u),ve.snapshot})(n,p,m,v);let o=await uA(n.localStore,e,!0),s=new yE(e,o.qs),c=s.nu(o.documents),u=tu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);yA(n,t,l._u);let h=new vE(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function n$(n,e,t){let r=de(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!gf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&zE(r.remoteStore,i.targetId),IE(r,i.targetId)}).catch(hf)):(IE(r,i.targetId),await eE(r.localStore,i.targetId,!0))}async function r$(n,e){let t=de(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zE(t.remoteStore,r.targetId))}async function PR(n,e){let t=de(n);try{let r=await BB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ae(s.lu,14607):i.removedDocuments.size>0&&(Ae(s.lu,42227),s.lu=!1))}),await kR(t,r,e)}catch(r){await hf(r)}}function mA(n,e,t){let r=de(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=de(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&KE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i$(n,e,t){let r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(B.comparator);s=s.insert(o,dn.newNoDocument(o,J.min()));let c=fe().add(o),u=new $h(J.min(),new Map,new Oe(oe),s,c);await PR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),YE(r)}else await eE(r.localStore,e,!1).then(()=>IE(r,e,t)).catch(hf)}function IE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||xR(n,r)})}function xR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(zE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),YE(n))}function yA(n,e,t){for(let r of t)r instanceof tf?(n.Au.addReference(r.key,e),o$(n,r)):r instanceof nf?(O(QE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||xR(n,r.key)):K(19791,{yu:r})}function o$(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(O(QE,"New document in limbo: "+t),n.Iu.add(r),YE(n))}function YE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new B(xe.fromString(e)),r=n.mu.next();n.Eu.set(r,new _E(t)),n.du=n.du.insert(t,r),bR(n.remoteStore,new nu(Mn(BE(t.path)),r,"TargetPurposeLimboResolution",kE.ue))}}async function kR(n,e,t){let r=de(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Y_.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=de(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Is,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>M.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Ps(p))throw p;O(HE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.Fs.get(m),S=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,R)}}})(r.localStore,o))}async function s$(n,e){let t=de(n);if(!t.currentUser.isEqual(e)){O(QE,"User change. New user:",e.toKey());let r=await TR(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new k(P.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kR(t,r.Bs)}}function a$(n,e){let t=de(n),r=t.Eu.get(e);if(r&&r.lu)return fe().add(r.key);{let i=fe(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function OR(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i$.bind(null,e),e.hu.J_=ZB.bind(null,e.eventManager),e.hu.pu=JB.bind(null,e.eventManager),e}var LR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return UB(this.persistence,new J_,t.initialUser,this.serializer)}Du(t){return new Wh(Q_.Vi,this.serializer)}bu(t){return new tE}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),wE=class extends LR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ae(this.persistence.referenceDelegate instanceof Kh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new L_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new Wh(r=>Kh.Vi(r,t),this.serializer)}};var c$=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=s$.bind(null,this.syncEngine),await YB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gE})()}createDatastore(t){let r=yf(t.databaseInfo.databaseId),i=(function(s){return new sE(s)})(t.databaseInfo);return(function(s,c,u,l){return new lE(s,c,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new hE(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>mA(this.syncEngine,r,0),(function(){return Yh.C()?new Yh:new nE})())}createSyncEngine(t,r){return(function(o,s,c,u,l,h,p){let m=new EE(o,s,c,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=de(o);O(As,"RemoteStore shutting down."),s.Ia.add(5),await uu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var rf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Kr="FirestoreClient",TE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=Oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{O(Kr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(O(Kr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=AR(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Zv(n,e){n.asyncQueue.verifyOperationInProgress(),O(Kr,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{zr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{O("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{zr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function vA(n,e){n.asyncQueue.verifyOperationInProgress();let t=await u$(n);O(Kr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>fA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>fA(e.remoteStore,i)),n._onlineComponents=e}async function u$(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){O(Kr,"Using user provided OfflineComponentProvider");try{await Zv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;zr("Error using user provided cache. Falling back to memory cache: "+t),await Zv(n,new LR)}}else O(Kr,"Using default OfflineComponentProvider"),await Zv(n,new wE(void 0));return n._offlineComponents}async function l$(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(O(Kr,"Using user provided OnlineComponentProvider"),await vA(n,n._uninitializedComponentsProvider._online)):(O(Kr,"Using default OnlineComponentProvider"),await vA(n,new c$))),n._onlineComponents}async function DE(n){let e=await l$(n),t=e.eventManager;return t.onListen=XB.bind(null,e.syncEngine),t.onUnlisten=n$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=e$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=r$.bind(null,e.syncEngine),t}function d$(n,e,t={}){let r=new nr;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,c,u,l){let h=new rf({next:m=>{h.Ou(),s.enqueueAndForget(()=>NR(o,p)),m.fromCache&&u.source==="server"?l.reject(new k(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new ef(c,h,{includeMetadataChanges:!0,ka:!0});return RR(o,p)})(await DE(n),n.asyncQueue,e,t,r)),r.promise}function FR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var _A=new Map;var VR="firestore.googleapis.com",EA=!0,of=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VR,this.ssl=EA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:EA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FB)throw new k(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new k(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new k(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new k(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ou=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new of({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new k(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new k(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new of(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Jv;switch(r.type){case"firstParty":return new n_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=_A.get(t);r&&(O("ComponentProvider","Removing Datastore"),_A.delete(t),r.terminate())})(this),Promise.resolve()}};function jR(n,e,t,r={}){var i;n=ps(n,ou);let o=Mr(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(th(`https://${u}`),nh("Firestore",!0)),s.host!==VR&&s.host!==u&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Cn(l,c)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Je.MOCK_USER;else{h=nS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new k(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Je(m)}n._authCredentials=new Xv(new xh(h,p))}}var Qr=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(cu(t,n._jsonSchema))return new n(e,r||null,new B(xe.fromString(t.referencePath)))}};qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:je("string",qt._jsonSchemaVersion),referencePath:je("string")};var ys=class n extends Qr{constructor(e,t,r){super(e,t,BE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new B(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function UR(n,e,...t){if(n=xt(n),VU("collection","path",e),n instanceof ou){let r=xe.fromString(e,...t);return F0(r),new ys(n,null,r)}{if(!(n instanceof qt||n instanceof ys))throw new k(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(xe.fromString(e,...t));return F0(r),new ys(n.firestore,null,r)}}var IA="AsyncQueue",sf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Zh(this,"async_queue_retry"),this.oc=()=>{let r=Yv();r&&O(IA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Yv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Yv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new nr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ps(e))throw e;O(IA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,rr("INTERNAL UNHANDLED ERROR: ",wA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=fE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&K(47125,{hc:wA(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function wA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function TA(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Ns=class extends ou{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new sf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new sf(e),this._firestoreClient=void 0,await e}}};function BR(n,e){let t=typeof n=="object"?n:Fi(),r=typeof n=="string"?n:e||jh,i=rs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=tS("firestore");o&&jR(i,...o)}return i}function $R(n){if(n._terminated)throw new k(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||h$(n),n._firestoreClient}function h$(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,l,h){return new a_(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new TE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var Br=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(lt.fromBase64String(e))}catch(t){throw new k(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:je("string",Br._jsonSchemaVersion),bytes:je("string")};var af=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new k(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cf=class{constructor(e){this._methodName=e}};var $r=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new k(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new k(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(cu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:je("string",$r._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};var Hr=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new k(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:je("string",Hr._jsonSchemaVersion),vectorValues:je("object")};var f$=/^__.*__$/;function HR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ec:n})}}var bE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return SE(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(HR(this.Ec)&&f$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},CE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yf(e)}Dc(e,t,r,i=!1){return new bE({Ec:e,methodName:t,bc:r,path:Yt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function p$(n){let e=n._freezeSettings(),t=yf(n._databaseId);return new CE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function g$(n,e,t,r=!1){return ZE(t,n.Dc(r?4:3,e))}function ZE(n,e){if(zR(n=xt(n)))return y$("Unsupported field value:",e,n),m$(n,e);if(n instanceof cf)return(function(r,i){if(!HR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=ZE(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ze.fromDate(r);return{timestampValue:N_(i.serializer,o)}}if(r instanceof ze){let o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:N_(i.serializer,o)}}if(r instanceof $r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Br)return{bytesValue:pR(i.serializer,r._byteString)};if(r instanceof qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gR(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hr)return(function(s,c){return{mapValue:{fields:{[LE]:{stringValue:FE},[Es]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return $E(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${df(r)}`)})(n,e)}function m$(n,e){let t={};return HA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(n,(r,i)=>{let o=ZE(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function zR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ze||n instanceof $r||n instanceof Br||n instanceof qt||n instanceof cf||n instanceof Hr)}function y$(n,e,t){if(!zR(t)||!AA(t)){let r=df(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}var v$=new RegExp("[~\\*/\\[\\]]");function _$(n,e,t){if(e.search(v$)>=0)throw SE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new af(...e.split("."))._internalPath}catch{throw SE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function SE(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new k(P.INVALID_ARGUMENT,c+n+u)}var uf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new AE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(JE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},AE=class extends uf{data(){return super.data()}};function JE(n,e){return typeof e=="string"?_$(n,e):e instanceof af?e._internalPath:e._delegate._internalPath}function qR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new k(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var su=class{},lf=class extends su{};function GR(n,e,...t){let r=[];e instanceof su&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof NE).length,c=o.filter(u=>u instanceof RE).length;if(s>1||s>0&&c>0)throw new k(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var RE=class n extends lf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return KR(e._query,t),new Qr(e.firestore,e.converter,E_(e._query,t))}_parse(e){let t=p$(e.firestore);return(function(o,s,c,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new k(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){bA(p,h);let S=[];for(let R of p)S.push(DA(u,o,R));m={arrayValue:{values:S}}}else m=DA(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||bA(p,h),m=g$(c,s,p,h==="in"||h==="not-in");return Ve.create(l,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var NE=class n extends su{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:hn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)KR(s,u),s=E_(s,u)})(e._query,t),new Qr(e.firestore,e.converter,E_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var ME=class n extends lf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new k(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ji(o,s)})(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Gr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function WR(n,e="asc"){let t=e,r=JE("orderBy",n);return ME._create(r,t)}function DA(n,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new k(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nR(e)&&t.indexOf("/")!==-1)throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(xe.fromString(t));if(!B.isDocumentKey(r))throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return z0(n,new B(r))}if(t instanceof qt)return z0(n,t._key);throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(t)}.`)}function bA(n,e){if(!Array.isArray(n)||n.length===0)throw new k(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KR(n,e){let t=(function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new k(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var PE=class{convertValue(e,t="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return xs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Es].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new Hr(o)}convertGeoPoint(e){return new $r(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=pf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){let t=ir(e);return new ze(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=xe.fromString(e);Ae(IR(r),9688,{name:e});let i=new Uh(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(t)||rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Wi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ki=class n extends uf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new vs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(JE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new k(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ki._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ki._jsonSchema={type:je("string",Ki._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};var vs=class extends Ki{data(e={}){return super.data(e)}},Qi=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vs(this._firestore,this._userDataWriter,r.key,r,new Wi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new k(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new vs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new vs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:E$(c.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new k(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Oh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function E$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}Qi._jsonSchemaVersion="firestore/querySnapshot/1.0",Qi._jsonSchema={type:je("string",Qi._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};var au=class extends PE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function QR(n){n=ps(n,Qr);let e=ps(n.firestore,Ns),t=$R(e),r=new au(e);return qR(n._query),d$(t,n._query).then(i=>new Qi(e,r,n,i))}function XE(n,...e){var t,r,i;n=xt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||TA(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(TA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof qt)l=ps(n.firestore,Ns),h=BE(n._key.path),u={next:p=>{e[s]&&e[s](I$(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=ps(n,Qr);l=ps(p.firestore,Ns),h=p._query;let m=new au(l);u={next:v=>{e[s]&&e[s](new Qi(l,m,p,v))},error:e[s+1],complete:e[s+2]},qR(n._query)}return(function(m,v,S,R){let A=new rf(R),F=new ef(v,A,S);return m.asyncQueue.enqueueAndForget(async()=>RR(await DE(m),F)),()=>{A.Ou(),m.asyncQueue.enqueueAndForget(async()=>NR(await DE(m),F))}})($R(l),h,c,u)}function I$(n,e,t){let r=t.docs.get(e._key),i=new au(n);return new Ki(n,i,e._key,r,new Wi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ms=i})(xr),un(new Tt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Ns(new e_(r.getProvider("auth-internal")),new r_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new k(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Pe(x0,k0,e),Pe(x0,k0,"esm2017")})();var _f=function(){return _f=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_f.apply(this,arguments)};var D$={includeMetadataChanges:!1};function YR(n,e){return e===void 0&&(e=D$),new ne(function(t){var r=XE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ZR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:_f(_f({},r),(t={},t[e.idField]=n.id,t))}function JR(n){return YR(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function XR(n,e){return e===void 0&&(e={}),JR(n).pipe(ee(function(t){return t.map(function(r){return ZR(r,e)})}))}var ar=class{constructor(e){return e}},eN="firestore",eI=class{constructor(){return os(eN)}};var tI=new U("angularfire2.firestore-instances");function b$(n,e){let t=Rc(eN,n,e);return t&&new ar(t)}function C$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ar(r)}}var S$={provide:eI,deps:[[new Bt,tI]]},A$={provide:ar,useFactory:b$,deps:[[new Bt,tI],Yn]};function tN(n,...e){return Pe("angularfire",kr.full,"fst"),Ft([A$,S$,{provide:tI,useFactory:C$(n),multi:!0,deps:[_e,We,Or,ji,[new Bt,jc],[new Bt,ss],...e]}])}var nN=Kt(XR,!0);var Ef=Kt(UR,!0,2);var rN=Kt(QR,!0);var iN=Kt(BR,!0);var oN=Kt(WR,!0,2),sN=Kt(GR,!0,2);var cN=[];var uN={apiKey:"AIzaSyDqrKGYBro4b_p7B_D6iOTRWj0uxX0HARg",authDomain:"lgcs-blog.firebaseapp.com",projectId:"lgcs-blog",storageBucket:"lgcs-blog.firebasestorage.app",messagingSenderId:"405898323042",appId:"1:405898323042:web:b9610a5a1aa234db535d3b"};var lN={providers:[Ig(),Om(),Ny(cN),RS(()=>NS(uN)),tN(()=>iN()),R0(()=>N0()),{provide:dd,useValue:()=>{let n=console.warn;console.warn=(...e)=>{typeof e[0]=="string"&&e[0].includes("Calling Firebase APIs outside of an Injection context")||n.apply(console,e)}},multi:!0}]};var R$=["*"];function N$(n,e){n&1&&($(0,"b",0),re(1,"Invalid Text"),W())}function M$(n,e){if(n&1&&Qe(0,"img",4),n&2){let t=Ri(2);Mm(gd("mr-1 ",t.width)),Te("src",gd("images/",t.image,".png"),Ii)("alt",Pm(t.image))}}function P$(n,e){if(n&1&&($(0,"div",1),jo(1,M$,1,7,"img",2),$(2,"p",3),Nm(3),W()()),n&2){let t=Ri();ge(),Uo(t.image!=="null"?1:-1),ge(),Te("ngClass",t.link?"duration-300 ease-in-out hover:text-orange-500":"")}}var Os=class n{image;link;width;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Et({type:n,selectors:[["app-text"]],inputs:{image:"image",link:"link",width:"width"},ngContentSelectors:R$,decls:2,vars:1,consts:[[1,"text-red-500"],[1,"flex","items-center"],[3,"src","alt","class"],[1,"text-gray-500",3,"ngClass"],[3,"src","alt"]],template:function(t,r){t&1&&(Rm(),jo(0,N$,2,0,"b",0)(1,P$,4,2,"div",1)),t&2&&Uo(r.image===void 0?0:1)},dependencies:[wn,Km],encapsulation:2})};function x$(n,e){if(n&1&&(Ha(0,"a",0)(1,"div",2)(2,"b"),re(3),za()()()),n&2){let t=Ri();fd("href",t.href,Ii),ge(3),In(t.text)}}function k$(n,e){if(n&1&&(Ha(0,"p",1)(1,"b"),re(2),za()()),n&2){let t=Ri();ge(2),In(t.text)}}var If=class n{href;text;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Et({type:n,selectors:[["app-button"]],inputs:{href:"href",text:"text"},decls:2,vars:1,consts:[["target","_blank",3,"href"],[1,"border-2","border-orange-500","duration-300","ease-in-out","hover:bg-orange-500","hover:text-white","m-1","p-1","px-2","rounded-full","select-none","text-sm","text-center","text-orange-500","transition"],[1,"border-2","border-orange-500","duration-300","ease-in-out","hover:bg-orange-500","m-1","p-1","px-2","rounded-full","select-none","text-center","text-orange-500","transition"]],template:function(t,r){t&1&&jo(0,x$,4,2,"a",0)(1,k$,3,1,"p",1),t&2&&Uo(r.href?0:1)},encapsulation:2})};function O$(n,e){if(n&1&&(Si(0),Qe(1,"app-button",11),Ai()),n&2){let t=e.$implicit;ge(),Te("text",t)}}function L$(n,e){if(n&1&&(Si(0),$(1,"app-text",12),re(2),W(),Ai()),n&2){let t=e.$implicit;ge(2),In(t)}}var wf=class n{post;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Et({type:n,selectors:[["app-post-detail"]],inputs:{post:"post"},decls:14,vars:6,consts:[[1,"p-4","w-full"],[1,"border-1","border-gray-100","h-full","px-8","py-7","rounded-2xl","shrink-0","shadow-md"],[1,"flex","flex-col","h-full"],["image","null"],[1,"pb-1","text-gray-500","text-2xl"],[1,"border-b-2","border-gray-100","mt-1","w-full"],[1,"flex","my-1"],["image","null",1,"text-sm","mt-1"],[1,"flex","flex-wrap","mt-1"],[4,"ngFor","ngForOf"],["alt","",1,"rounded-xl","my-6","shadow-md/30",3,"src"],[3,"text"],["image","null",1,"m-3"]],template:function(t,r){t&1&&($(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-text",3)(4,"b",4),re(5),W()(),Qe(6,"div",5),$(7,"div",6)(8,"app-text",7),re(9),W()(),$(10,"div",8),Sr(11,O$,2,1,"ng-container",9),W(),Qe(12,"img",10),Sr(13,L$,3,1,"ng-container",9),W()()()),t&2&&(ge(5),In(r.post.title),ge(4),pd("",r.post.author," \xB7 \u{1F552} ",r.post.date),ge(2),Te("ngForOf",r.post.tags),ge(),Te("src",r.post.image,Ii),ge(),Te("ngForOf",r.post.content))},dependencies:[wn,zo,If,Os],encapsulation:2})};var Ls=class n{constructor(e){this.firestore=e}getPosts(){let e=Ef(this.firestore,"posts"),t=sN(e,oN("time","desc"));return nN(t,{idField:"id"})}getPostCount(){return this.getPosts().pipe(ee(e=>e.length))}static \u0275fac=function(t){return new(t||n)(q(ar))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};function F$(n,e){if(n&1&&(Si(0),Qe(1,"app-post-detail",3),Ai()),n&2){let t=e.$implicit;ge(),Te("post",t)}}function V$(n,e){if(n&1&&($(0,"div",1),Sr(1,F$,2,1,"ng-container",2),W()),n&2){let t=e.ngIf;ge(),Te("ngForOf",t)}}var Tf=class n{constructor(e){this.postService=e}posts$;postCount$;ngOnInit(){this.posts$=this.postService.getPosts(),this.postCount$=this.postService.getPostCount()}static \u0275fac=function(t){return new(t||n)(He(Ls))};static \u0275cmp=Et({type:n,selectors:[["app-post-list"]],decls:3,vars:3,consts:[["class","space-y-4",4,"ngIf"],[1,"space-y-4"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(t,r){t&1&&($(0,"div"),Sr(1,V$,2,1,"div",0),Wa(2,"async"),W()),t&2&&(ge(),Te("ngIf",Ka(2,1,r.posts$)))},dependencies:[wn,zo,Qm,wf,Za],encapsulation:2})};var Df=class n{constructor(e){this.firestore=e}getRandomFact(){let e=Ef(this.firestore,"facts");return Se(rN(e)).pipe(ee(t=>{let r=t.docs.map(o=>o.data());if(r.length===0)return"No facts available.";let i=Math.floor(Math.random()*r.length);return r[i].fact}))}static \u0275fac=function(t){return new(t||n)(q(ar))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var bf=class n{constructor(e,t){this.factsService=e;this.cdr=t}randomFact=null;ngOnInit(){this.factsService.getRandomFact().subscribe(e=>{this.randomFact=e,this.cdr.detectChanges()})}static \u0275fac=function(t){return new(t||n)(He(Df),He($o))};static \u0275cmp=Et({type:n,selectors:[["app-fact"]],decls:1,vars:1,template:function(t,r){t&1&&re(0),t&2&&In(r.randomFact)},dependencies:[wn],encapsulation:2})};var Cf=class n{constructor(e){this.postService=e}posts$;postCount$;ngOnInit(){this.posts$=this.postService.getPosts(),this.postCount$=this.postService.getPostCount()}static \u0275fac=function(t){return new(t||n)(He(Ls))};static \u0275cmp=Et({type:n,selectors:[["app-root"]],decls:114,vars:14,consts:[[1,"flex","items-center","justify-center"],[1,"h-full","mx-16","p-4","w-4/5"],[1,"flex","items-center","m-4","mb-16","justify-between"],["src","images/logo.png","alt","logo",1,"ml-8"],[1,"flex","mt-4"],[1,"w-4/5"],[1,"p-4","w-1/5"],[1,"border-1","border-gray-100","p-6","rounded-2xl","shrink-0","shadow-md"],[1,"flex","flex-col","items-center","justify-center"],["src","images/lgc-s.png","alt","lgc-s",1,"rounded-full","mb-4","shadow-md/40"],["image","null"],[1,"text-gray-700","text-xl"],[1,"flex","flex-col","items-start","justify-center","mt-4","w-full"],[1,"text-gray-700"],[1,"mt-1"],["href","https://github.com/lgc-s","target","_blank"],["image","github","width","w-4",1,"text-sm",3,"link"],["href","https://www.linkedin.com/in/lgc-s/","target","_blank"],["image","linkedin","width","w-4",1,"text-sm",3,"link"],["href","https://lgc-s.github.io/portfolio/","target","_blank"],["image","portfolio","width","w-4",1,"text-sm",3,"link"],["href","https://newviainformatica.com.br/","target","_blank"],["image","newvia","width","w-4",1,"text-sm",3,"link"],["href","https://lgc-s.github.io/vistadoro/","target","_blank"],["image","vistadoro","width","w-4",1,"text-sm",3,"link"],["href","https://github.com/lgc-s/basketstar","target","_blank"],["image","basketstar","width","w-4",1,"text-sm",3,"link"],["href","https://lgc-s.github.io/inbv/","target","_blank"],["image","inbv","width","w-4",1,"text-sm",3,"link"],["href","https://wa.me/558197278307","target","_blank"],["image","whatsapp","width","w-4",1,"text-sm",3,"link"],["href","https://mail.google.com/mail/?view=cm&fs=1&to=luisguilhermecs3@gmail.com&su=Contact+for+LGC-S&body=Write+your+message+here.","target","_blank"],["image","email","width","w-4",1,"text-sm",3,"link"],[1,"border-1","border-gray-100","flex","mt-4","p-3","px-5","rounded-2xl","shrink-0","shadow-md"],[1,"text-gray-700","mr-1"],[1,"border-1","border-gray-100","flex","flex-col","items-center","mt-4","py-4","px-6","rounded-2xl","shrink-0","shadow-md","text-center"],[1,"text-xs"],[1,"border-1","border-gray-100","flex","flex-col","mt-4","py-4","px-6","rounded-2xl","shrink-0","shadow-md"],[1,"text-sm"],[1,"ml-2","text-xs"],[1,"flex","items-center","justify-center","h-full","mb-8"],[1,"text-gray-500"]],template:function(t,r){t&1&&($(0,"main")(1,"div",0)(2,"div",1)(3,"div",2),Qe(4,"img",3),W(),$(5,"div",4),Qe(6,"app-post-list",5),$(7,"div",6)(8,"div",7)(9,"div",8),Qe(10,"img",9),$(11,"app-text",10)(12,"b",11),re(13,"Luis Silva"),W()(),$(14,"app-text",10)(15,"b"),re(16,"\u{1F6E0}\uFE0F Front-End Developer"),W()(),$(17,"div",12)(18,"app-text",10)(19,"b",13),re(20,"Main Websites"),W()(),$(21,"div",14)(22,"a",15)(23,"app-text",16),re(24,"GitHub"),W()()(),$(25,"div",14)(26,"a",17)(27,"app-text",18),re(28,"LinkedIn"),W()()(),$(29,"div",14)(30,"a",19)(31,"app-text",20),re(32,"Portfolio"),W()()()(),$(33,"div",12)(34,"app-text",10)(35,"b",13),re(36,"Projects"),W()(),$(37,"div",14)(38,"a",21)(39,"app-text",22),re(40,"Newvia"),W()()(),$(41,"div",14)(42,"a",23)(43,"app-text",24),re(44,"Vistadoro"),W()()(),$(45,"div",14)(46,"a",25)(47,"app-text",26),re(48,"Basketstar"),W()()(),$(49,"div",14)(50,"a",27)(51,"app-text",28),re(52,"INBV (WIP)"),W()()()(),$(53,"div",12)(54,"app-text",10)(55,"b",13),re(56,"Contacts"),W()(),$(57,"div",14)(58,"a",15)(59,"app-text",16),re(60,"GitHub"),W()()(),$(61,"div",14)(62,"a",17)(63,"app-text",18),re(64,"LinkedIn"),W()()(),$(65,"div",14)(66,"a",29)(67,"app-text",30),re(68,"WhatsApp"),W()()(),$(69,"div",14)(70,"a",31)(71,"app-text",32),re(72,"E-mail"),W()()()()()(),$(73,"div",33)(74,"app-text",10)(75,"b",34),re(76,"Total Posts:"),W()(),$(77,"app-text",10),re(78),Wa(79,"async"),W()(),$(80,"div",35)(81,"app-text",10)(82,"b",13),re(83,"Random Fun Fact"),W()(),$(84,"app-text",10)(85,"span",36),Qe(86,"app-fact"),W()()(),$(87,"div",37)(88,"app-text",10)(89,"b",13),re(90,"Post List"),W()(),$(91,"app-text",10)(92,"b",38),re(93,"September"),W()(),$(94,"app-text",10)(95,"span",39),re(96,"1st lgc-s.blog development log"),W()(),$(97,"app-text",10)(98,"span",39),re(99,"2nd lgc-s.blog development log"),W()(),$(100,"app-text",10)(101,"span",39),re(102,"3rd lgc-s.blog development log"),W()(),$(103,"app-text",10)(104,"span",39),re(105,"3rd lgc-s.blog development log"),W()(),$(106,"app-text",10)(107,"span",39),re(108,"3rd lgc-s.blog development log"),W()()()()()()(),$(109,"div",40)(110,"app-text",10)(111,"b",41),re(112,"\xA92025 - lgc-s.blog"),W()()()(),Qe(113,"router-outlet")),t&2&&(ge(23),Te("link",!0),ge(4),Te("link",!0),ge(4),Te("link",!0),ge(8),Te("link",!0),ge(4),Te("link",!0),ge(4),Te("link",!0),ge(4),Te("link",!0),ge(8),Te("link",!0),ge(4),Te("link",!0),ge(4),Te("link",!0),ge(4),Te("link",!0),ge(7),Ga(" ",Ka(79,12,r.postCount$)," "))},dependencies:[_c,Tf,Os,bf,Za],encapsulation:2})};sy(Cf,lN).catch(n=>console.error(n));
